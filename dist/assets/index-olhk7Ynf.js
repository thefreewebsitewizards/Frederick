function j1(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function M1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hm={exports:{}},lc={};var N0;function P1(){if(N0)return lc;N0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:c}}return lc.Fragment=e,lc.jsx=n,lc.jsxs=n,lc}var C0;function V1(){return C0||(C0=1,Hm.exports=P1()),Hm.exports}var p=V1(),qm={exports:{}},qe={};var I0;function L1(){if(I0)return qe;I0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function N(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Q={};function ne(P,J,he){this.props=P,this.context=J,this.refs=Q,this.updater=he||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=ne.prototype;function le(P,J,he){this.props=P,this.context=J,this.refs=Q,this.updater=he||k}var Ne=le.prototype=new $;Ne.constructor=le,F(Ne,ne.prototype),Ne.isPureReactComponent=!0;var Ae=Array.isArray;function Te(){}var E={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(P,J,he){var ue=he.ref;return{$$typeof:r,type:P,key:J,ref:ue!==void 0?ue:null,props:he}}function j(P,J){return C(P.type,J,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function U(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return J[he]})}var I=/\/+/g;function te(P,J){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):J.toString(36)}function pe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Te,Te):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,J,he,ue,Ee){var Oe=typeof P;(Oe==="undefined"||Oe==="boolean")&&(P=null);var Fe=!1;if(P===null)Fe=!0;else switch(Oe){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(P.$$typeof){case r:case e:Fe=!0;break;case _:return Fe=P._init,q(Fe(P._payload),J,he,ue,Ee)}}if(Fe)return Ee=Ee(P),Fe=ue===""?"."+te(P,0):ue,Ae(Ee)?(he="",Fe!=null&&(he=Fe.replace(I,"$&/")+"/"),q(Ee,J,he,"",function(De){return De})):Ee!=null&&(D(Ee)&&(Ee=j(Ee,he+(Ee.key==null||P&&P.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+Fe)),J.push(Ee)),1;Fe=0;var vt=ue===""?".":ue+":";if(Ae(P))for(var mt=0;mt<P.length;mt++)ue=P[mt],Oe=vt+te(ue,mt),Fe+=q(ue,J,he,Oe,Ee);else if(mt=N(P),typeof mt=="function")for(P=mt.call(P),mt=0;!(ue=P.next()).done;)ue=ue.value,Oe=vt+te(ue,mt++),Fe+=q(ue,J,he,Oe,Ee);else if(Oe==="object"){if(typeof P.then=="function")return q(pe(P),J,he,ue,Ee);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function se(P,J,he){if(P==null)return P;var ue=[],Ee=0;return q(P,ue,"","",function(Oe){return J.call(he,Oe,Ee++)}),ue}function de(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ve={map:se,forEach:function(P,J,he){se(P,function(){J.apply(this,arguments)},he)},count:function(P){var J=0;return se(P,function(){J++}),J},toArray:function(P){return se(P,function(J){return J})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return qe.Activity=w,qe.Children=Ve,qe.Component=ne,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=le,qe.StrictMode=a,qe.Suspense=y,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,qe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return E.H.useMemoCache(P)}},qe.cache=function(P){return function(){return P.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(P,J,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=F({},P.props),Ee=P.key;if(J!=null)for(Oe in J.key!==void 0&&(Ee=""+J.key),J)!R.call(J,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&J.ref===void 0||(ue[Oe]=J[Oe]);var Oe=arguments.length-2;if(Oe===1)ue.children=he;else if(1<Oe){for(var Fe=Array(Oe),vt=0;vt<Oe;vt++)Fe[vt]=arguments[vt+2];ue.children=Fe}return C(P.type,Ee,ue)},qe.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},qe.createElement=function(P,J,he){var ue,Ee={},Oe=null;if(J!=null)for(ue in J.key!==void 0&&(Oe=""+J.key),J)R.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=J[ue]);var Fe=arguments.length-2;if(Fe===1)Ee.children=he;else if(1<Fe){for(var vt=Array(Fe),mt=0;mt<Fe;mt++)vt[mt]=arguments[mt+2];Ee.children=vt}if(P&&P.defaultProps)for(ue in Fe=P.defaultProps,Fe)Ee[ue]===void 0&&(Ee[ue]=Fe[ue]);return C(P,Oe,Ee)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(P){return{$$typeof:m,render:P}},qe.isValidElement=D,qe.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:de}},qe.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},qe.startTransition=function(P){var J=E.T,he={};E.T=he;try{var ue=P(),Ee=E.S;Ee!==null&&Ee(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,Ie)}catch(Oe){Ie(Oe)}finally{J!==null&&he.types!==null&&(J.types=he.types),E.T=J}},qe.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},qe.use=function(P){return E.H.use(P)},qe.useActionState=function(P,J,he){return E.H.useActionState(P,J,he)},qe.useCallback=function(P,J){return E.H.useCallback(P,J)},qe.useContext=function(P){return E.H.useContext(P)},qe.useDebugValue=function(){},qe.useDeferredValue=function(P,J){return E.H.useDeferredValue(P,J)},qe.useEffect=function(P,J){return E.H.useEffect(P,J)},qe.useEffectEvent=function(P){return E.H.useEffectEvent(P)},qe.useId=function(){return E.H.useId()},qe.useImperativeHandle=function(P,J,he){return E.H.useImperativeHandle(P,J,he)},qe.useInsertionEffect=function(P,J){return E.H.useInsertionEffect(P,J)},qe.useLayoutEffect=function(P,J){return E.H.useLayoutEffect(P,J)},qe.useMemo=function(P,J){return E.H.useMemo(P,J)},qe.useOptimistic=function(P,J){return E.H.useOptimistic(P,J)},qe.useReducer=function(P,J,he){return E.H.useReducer(P,J,he)},qe.useRef=function(P){return E.H.useRef(P)},qe.useState=function(P){return E.H.useState(P)},qe.useSyncExternalStore=function(P,J,he){return E.H.useSyncExternalStore(P,J,he)},qe.useTransition=function(){return E.H.useTransition()},qe.version="19.2.4",qe}var k0;function Xp(){return k0||(k0=1,qm.exports=L1()),qm.exports}var V=Xp();const U1=M1(V),B1=j1({__proto__:null,default:U1},[V]);var Gm={exports:{}},cc={},Km={exports:{}},Qm={};var D0;function z1(){return D0||(D0=1,(function(r){function e(q,se){var de=q.length;q.push(se);e:for(;0<de;){var Ie=de-1>>>1,Ve=q[Ie];if(0<o(Ve,se))q[Ie]=se,q[de]=Ve,de=Ie;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var se=q[0],de=q.pop();if(de!==se){q[0]=de;e:for(var Ie=0,Ve=q.length,P=Ve>>>1;Ie<P;){var J=2*(Ie+1)-1,he=q[J],ue=J+1,Ee=q[ue];if(0>o(he,de))ue<Ve&&0>o(Ee,he)?(q[Ie]=Ee,q[ue]=de,Ie=ue):(q[Ie]=he,q[J]=de,Ie=J);else if(ue<Ve&&0>o(Ee,de))q[Ie]=Ee,q[ue]=de,Ie=ue;else break e}}return se}function o(q,se){var de=q.sortIndex-se.sortIndex;return de!==0?de:q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var y=[],g=[],_=1,w=null,T=3,N=!1,k=!1,F=!1,Q=!1,ne=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Ne(q){for(var se=n(g);se!==null;){if(se.callback===null)a(g);else if(se.startTime<=q)a(g),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(g)}}function Ae(q){if(F=!1,Ne(q),!k)if(n(y)!==null)k=!0,Te||(Te=!0,U());else{var se=n(g);se!==null&&pe(Ae,se.startTime-q)}}var Te=!1,E=-1,R=5,C=-1;function j(){return Q?!0:!(r.unstable_now()-C<R)}function D(){if(Q=!1,Te){var q=r.unstable_now();C=q;var se=!0;try{e:{k=!1,F&&(F=!1,$(E),E=-1),N=!0;var de=T;try{t:{for(Ne(q),w=n(y);w!==null&&!(w.expirationTime>q&&j());){var Ie=w.callback;if(typeof Ie=="function"){w.callback=null,T=w.priorityLevel;var Ve=Ie(w.expirationTime<=q);if(q=r.unstable_now(),typeof Ve=="function"){w.callback=Ve,Ne(q),se=!0;break t}w===n(y)&&a(y),Ne(q)}else a(y);w=n(y)}if(w!==null)se=!0;else{var P=n(g);P!==null&&pe(Ae,P.startTime-q),se=!1}}break e}finally{w=null,T=de,N=!1}se=void 0}}finally{se?U():Te=!1}}}var U;if(typeof le=="function")U=function(){le(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=D,U=function(){te.postMessage(null)}}else U=function(){ne(D,0)};function pe(q,se){E=ne(function(){q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(q){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var de=T;T=se;try{return q()}finally{T=de}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=T;T=q;try{return se()}finally{T=de}},r.unstable_scheduleCallback=function(q,se,de){var Ie=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,q={id:_++,callback:se,priorityLevel:q,startTime:de,expirationTime:Ve,sortIndex:-1},de>Ie?(q.sortIndex=de,e(g,q),n(y)===null&&q===n(g)&&(F?($(E),E=-1):F=!0,pe(Ae,de-Ie))):(q.sortIndex=Ve,e(y,q),k||N||(k=!0,Te||(Te=!0,U()))),q},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(q){var se=T;return function(){var de=T;T=se;try{return q.apply(this,arguments)}finally{T=de}}}})(Qm)),Qm}var O0;function F1(){return O0||(O0=1,Km.exports=z1()),Km.exports}var Xm={exports:{}},On={};var j0;function H1(){if(j0)return On;j0=1;var r=Xp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:g,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,On.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,_)},On.flushSync=function(y){var g=u.T,_=a.p;try{if(u.T=null,a.p=2,y)return y()}finally{u.T=g,a.p=_,a.d.f()}},On.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},On.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},On.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:N}):_==="script"&&a.d.X(y,{crossOrigin:w,integrity:T,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},On.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},On.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);a.d.L(y,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},On.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=m(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},On.requestFormReset=function(y){a.d.r(y)},On.unstable_batchedUpdates=function(y,g){return y(g)},On.useFormState=function(y,g,_){return u.H.useFormState(y,g,_)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.2.4",On}var M0;function Xx(){if(M0)return Xm.exports;M0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xm.exports=H1(),Xm.exports}var P0;function q1(){if(P0)return cc;P0=1;var r=F1(),e=Xp(),n=Xx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var b=!1,A=h.child;A;){if(A===s){b=!0,s=h,l=f;break}if(A===l){b=!0,l=h,s=f;break}A=A.sibling}if(!b){for(A=f.child;A;){if(A===s){b=!0,s=f,l=h;break}if(A===l){b=!0,l=f,s=h;break}A=A.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ne:return"Profiler";case Q:return"StrictMode";case Ae:return"Suspense";case Te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case le:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case Ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E:return i=t.displayName||null,i!==null?i:te(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return te(t(i))}catch{}}return null}var pe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],Ve=-1;function P(t){return{current:t}}function J(t){0>Ve||(t.current=Ie[Ve],Ie[Ve]=null,Ve--)}function he(t,i){Ve++,Ie[Ve]=t.current,t.current=i}var ue=P(null),Ee=P(null),Oe=P(null),Fe=P(null);function vt(t,i){switch(he(Oe,i),he(Ee,t),he(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Zb(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Zb(i),t=Jb(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),he(ue,t)}function mt(){J(ue),J(Ee),J(Oe)}function De(t){t.memoizedState!==null&&he(Fe,t);var i=ue.current,s=Jb(i,t.type);i!==s&&(he(Ee,t),he(ue,s))}function Gt(t){Ee.current===t&&(J(ue),J(Ee)),Fe.current===t&&(J(Fe),ic._currentValue=de)}var Ue,gn;function yn(t){if(Ue===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ue=i&&i[1]||"",gn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+gn}var Pr=!1;function xn(t,i){if(!t||Pr)return"";Pr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var Y=Z}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(Z){Y=Z}t.call(ae.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],A=f[1];if(b&&A){var M=b.split(`
`),K=A.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===K.length)for(l=M.length-1,h=K.length-1;1<=l&&0<=h&&M[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==K[h]){var ee=`
`+M[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{Pr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?yn(s):""}function Ai(t,i){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return xn(t.type,!1);case 11:return xn(t.type.render,!1);case 1:return xn(t.type,!0);case 31:return yn("Activity");default:return""}}function Si(t){try{var i="",s=null;do i+=Ai(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var jt=Object.prototype.hasOwnProperty,ye=r.unstable_scheduleCallback,Mt=r.unstable_cancelCallback,wn=r.unstable_shouldYield,hn=r.unstable_requestPaint,dt=r.unstable_now,fn=r.unstable_getCurrentPriorityLevel,Un=r.unstable_ImmediatePriority,Bn=r.unstable_UserBlockingPriority,Bt=r.unstable_NormalPriority,zn=r.unstable_LowPriority,Ri=r.unstable_IdlePriority,Ni=r.log,ra=r.unstable_setDisableYieldValue,ar=null,Nt=null;function Fn(t){if(typeof Ni=="function"&&ra(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ar,t)}catch{}}var zt=Math.clz32?Math.clz32:ds,us=Math.log,ia=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(us(t)/ia|0)|0}var Hn=256,Zr=262144,Ft=4194304;function br(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sr(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=br(l):(b&=A,b!==0?h=br(b):s||(s=A&~t,s!==0&&(h=br(s))))):(A=l&~f,A!==0?h=br(A):b!==0?h=br(b):s||(s=l&~t,s!==0&&(h=br(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function to(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(){var t=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),t}function qn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Jr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gl(t,i,s,l,h,f){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,M=t.expirationTimes,K=t.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-zt(s),ae=1<<ee;A[ee]=0,M[ee]=-1;var Y=K[ee];if(Y!==null)for(K[ee]=null,ee=0;ee<Y.length;ee++){var Z=Y[ee];Z!==null&&(Z.lane&=-536870913)}s&=~ae}l!==0&&Ii(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~i))}function Ii(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function O(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-zt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function B(t,i){var s=i&-i;return s=(s&42)!==0?1:X(s),(s&(t.suspendedLanes|i))!==0?0:s}function X(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ce(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fe(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:x0(t.type))}function xe(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var ve=Math.random().toString(36).slice(2),ge="__reactFiber$"+ve,be="__reactProps$"+ve,Re="__reactContainer$"+ve,je="__reactEvents$"+ve,ke="__reactListeners$"+ve,$e="__reactHandles$"+ve,et="__reactResources$"+ve,wt="__reactMarker$"+ve;function Pt(t){delete t[ge],delete t[be],delete t[je],delete t[ke],delete t[$e]}function It(t){var i=t[ge];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Re]||s[ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=a0(t);t!==null;){if(s=t[ge])return s;t=a0(t)}return i}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[ge]||t[Re]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function kt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function vn(t){var i=t[et];return i||(i=t[et]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[wt]=!0}var Qn=new Set,kn={};function Xn(t,i){Dn(t,i),Dn(t+"Capture",i)}function Dn(t,i){for(kn[t]=i,t=0;t<i.length;t++)Qn.add(i[t])}var lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},ei={};function Ze(t){return jt.call(ei,t)?!0:jt.call($r,t)?!1:lr.test(t)?ei[t]=!0:($r[t]=!0,!1)}function Kt(t,i,s){if(Ze(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function nn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Et(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function aa(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,f.call(this,b)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pt(t){if(!t._valueTracker){var i=cr(t)?"checked":"value";t._valueTracker=aa(t,i,""+t[i])}}function hs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=cr(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fs=/[\n"\\]/g;function Yn(t){return t.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function no(t,i,s,l,h,f,b,A){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ye(i)):t.value!==""+Ye(i)&&(t.value=""+Ye(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?yl(t,b,Ye(i)):s!=null?yl(t,b,Ye(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ye(A):t.removeAttribute("name")}function hu(t,i,s,l,h,f,b,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){pt(t);return}s=s!=null?""+Ye(s):"",i=i!=null?""+Ye(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),pt(t)}function yl(t,i,s){i==="number"&&ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function sa(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ye(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function fu(t,i,s){if(i!=null&&(i=""+Ye(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ye(s):""}function oa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(pe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ye(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),pt(t)}function Wn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||mu.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function bl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&vl(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&vl(t,f,i[f])}function ro(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),la=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return la.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Vr(){}var _l=null;function _r(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ca=null,ni=null;function ms(t){var i=Xe(t);if(i&&(t=i.stateNode)){var s=t[be]||null;e:switch(t=i.stateNode,i.type){case"input":if(no(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[be]||null;if(!h)throw Error(a(90));no(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&hs(l)}break e;case"textarea":fu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&sa(t,!!s.multiple,i,!1)}}}var ao=!1;function ua(t,i,s){if(ao)return t(i,s);ao=!0;try{var l=t(i);return l}finally{if(ao=!1,(ca!==null||ni!==null)&&(ld(),ca&&(i=ca,t=ni,ni=ca=null,ms(i),t)))for(i=0;i<t.length;i++)ms(t[i])}}function Lr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[be]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(xr)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{ps=!1}var ri=null,xl=null,gs=null;function wl(){if(gs)return gs;var t,i=xl,s=i.length,l,h="value"in ri?ri.value:ri.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var b=s-t;for(l=1;l<=b&&i[s-l]===h[f-l];l++);return gs=h.slice(t,1<l?1-l:void 0)}function ys(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Ur(){return!1}function En(t){function i(s,l,h,f,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Ur,this.isPropagationStopped=Ur,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=En(Di),da=w({},Di,{view:0,detail:0}),El=En(da),ha,so,ai,oo=w({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(ha=t.screenX-ai.screenX,so=t.screenY-ai.screenY):so=ha=0,ai=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:so}}),Tl=En(oo),vs=w({},oo,{dataTransfer:0}),gu=En(vs),yu=w({},da,{relatedTarget:0}),bs=En(yu),Al=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=En(Al),lo=w({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=En(lo),_u=w({},Di,{data:0}),si=En(_u),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Eu[t])?!!i[t]:!1}function fa(){return Tu}var Gn=w({},da,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=En(Gn),Su=w({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=En(Su),d=w({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),v=En(d),x=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=En(x),H=w({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=En(H),me=w({},Di,{newState:0,oldState:0}),Ke=En(me),Wt=[9,13,27,32],gt=xr&&"CompositionEvent"in window,Ht=null;xr&&"documentMode"in document&&(Ht=document.documentMode);var wr=xr&&"TextEvent"in window&&!Ht,oi=xr&&(!gt||Ht&&8<Ht&&11>=Ht),Br=" ",zr=!1;function _s(t,i){switch(t){case"keyup":return Wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function iA(t,i){switch(t){case"compositionend":return co(i);case"keypress":return i.which!==32?null:(zr=!0,Br);case"textInput":return t=i.data,t===Br&&zr?null:t;default:return null}}function aA(t,i){if(uo)return t==="compositionend"||!gt&&_s(t,i)?(t=wl(),gs=xl=ri=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var sA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!sA[t.type]:i==="textarea"}function cy(t,i,s,l){ca?ni?ni.push(l):ni=[l]:ca=l,i=pd(i,"onChange"),0<i.length&&(s=new ii("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Sl=null,Rl=null;function oA(t){Gb(t,0)}function Ru(t){var i=kt(t);if(hs(i))return t}function uy(t,i){if(t==="change")return i}var dy=!1;if(xr){var Yh;if(xr){var Wh="oninput"in document;if(!Wh){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Wh=typeof hy.oninput=="function"}Yh=Wh}else Yh=!1;dy=Yh&&(!document.documentMode||9<document.documentMode)}function fy(){Sl&&(Sl.detachEvent("onpropertychange",my),Rl=Sl=null)}function my(t){if(t.propertyName==="value"&&Ru(Rl)){var i=[];cy(i,Rl,t,_r(t)),ua(oA,i)}}function lA(t,i,s){t==="focusin"?(fy(),Sl=i,Rl=s,Sl.attachEvent("onpropertychange",my)):t==="focusout"&&fy()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Rl)}function uA(t,i){if(t==="click")return Ru(i)}function dA(t,i){if(t==="input"||t==="change")return Ru(i)}function hA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ur=typeof Object.is=="function"?Object.is:hA;function Nl(t,i){if(ur(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!jt.call(i,h)||!ur(t[h],i[h]))return!1}return!0}function py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gy(t,i){var s=py(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=py(s)}}function yy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ti(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ti(t.document)}return i}function Zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var fA=xr&&"documentMode"in document&&11>=document.documentMode,ho=null,Jh=null,Cl=null,$h=!1;function by(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$h||ho==null||ho!==ti(l)||(l=ho,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Nl(Cl,l)||(Cl=l,l=pd(Jh,"onSelect"),0<l.length&&(i=new ii("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ho)))}function xs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var fo={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},ef={},_y={};xr&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ws(t){if(ef[t])return ef[t];if(!fo[t])return t;var i=fo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in _y)return ef[t]=i[s];return t}var xy=ws("animationend"),wy=ws("animationiteration"),Ey=ws("animationstart"),mA=ws("transitionrun"),pA=ws("transitionstart"),gA=ws("transitioncancel"),Ty=ws("transitionend"),Ay=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function Fr(t,i){Ay.set(t,i),Xn(i,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Er=[],mo=0,nf=0;function Cu(){for(var t=mo,i=nf=mo=0;i<t;){var s=Er[i];Er[i++]=null;var l=Er[i];Er[i++]=null;var h=Er[i];Er[i++]=null;var f=Er[i];if(Er[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&Sy(s,h,f)}}function Iu(t,i,s,l){Er[mo++]=t,Er[mo++]=i,Er[mo++]=s,Er[mo++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,i,s,l){return Iu(t,i,s,l),ku(t)}function Es(t,i){return Iu(t,null,null,i),ku(t)}function Sy(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-zt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function ku(t){if(50<Zl)throw Zl=0,fm=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var po={};function yA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,i,s,l){return new yA(t,i,s,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var s=t.alternate;return s===null?(s=dr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ry(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,s,l,h,f){var b=0;if(l=t,typeof t=="function")af(t)&&(b=1);else if(typeof t=="string")b=w1(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=dr(31,s,i,h),t.elementType=C,t.lanes=f,t;case F:return Ts(s.children,h,f,i);case Q:b=8,h|=24;break;case ne:return t=dr(12,s,i,h|2),t.elementType=ne,t.lanes=f,t;case Ae:return t=dr(13,s,i,h),t.elementType=Ae,t.lanes=f,t;case Te:return t=dr(19,s,i,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:b=10;break e;case $:b=9;break e;case Ne:b=11;break e;case E:b=14;break e;case R:b=16,l=null;break e}b=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=dr(b,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Ts(t,i,s,l){return t=dr(7,t,l,i),t.lanes=s,t}function sf(t,i,s){return t=dr(6,t,null,i),t.lanes=s,t}function Ny(t){var i=dr(18,null,null,0);return i.stateNode=t,i}function of(t,i,s){return i=dr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cy=new WeakMap;function Tr(t,i){if(typeof t=="object"&&t!==null){var s=Cy.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Si(i)},Cy.set(t,i),i)}return{value:t,source:i,stack:Si(i)}}var go=[],yo=0,Ou=null,Il=0,Ar=[],Sr=0,ma=null,li=1,ci="";function Mi(t,i){go[yo++]=Il,go[yo++]=Ou,Ou=t,Il=i}function Iy(t,i,s){Ar[Sr++]=li,Ar[Sr++]=ci,Ar[Sr++]=ma,ma=t;var l=li;t=ci;var h=32-zt(l)-1;l&=~(1<<h),s+=1;var f=32-zt(i)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,li=1<<32-zt(i)+h|s<<h|l,ci=f+t}else li=1<<f|s<<h|l,ci=t}function lf(t){t.return!==null&&(Mi(t,1),Iy(t,1,0))}function cf(t){for(;t===Ou;)Ou=go[--yo],go[yo]=null,Il=go[--yo],go[yo]=null;for(;t===ma;)ma=Ar[--Sr],Ar[Sr]=null,ci=Ar[--Sr],Ar[Sr]=null,li=Ar[--Sr],Ar[Sr]=null}function ky(t,i){Ar[Sr++]=li,Ar[Sr++]=ci,Ar[Sr++]=ma,li=i.id,ci=i.overflow,ma=t}var Tn=null,Vt=null,lt=!1,pa=null,Rr=!1,uf=Error(a(519));function ga(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Tr(i,t)),uf}function Dy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ge]=t,i[be]=l,s){case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":case"embed":nt("load",i);break;case"video":case"audio":for(s=0;s<$l.length;s++)nt($l[s],i);break;case"source":nt("error",i);break;case"img":case"image":case"link":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"input":nt("invalid",i),hu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":nt("invalid",i);break;case"textarea":nt("invalid",i),oa(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Yb(i.textContent,s)?(l.popover!=null&&(nt("beforetoggle",i),nt("toggle",i)),l.onScroll!=null&&nt("scroll",i),l.onScrollEnd!=null&&nt("scrollend",i),l.onClick!=null&&(i.onclick=Vr),i=!0):i=!1,i||ga(t,!0)}function Oy(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Tn=Tn.return}}function vo(t){if(t!==Tn)return!1;if(!lt)return Oy(t),lt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Nm(t.type,t.memoizedProps)),s=!s),s&&Vt&&ga(t),Oy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vt=i0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vt=i0(t)}else i===27?(i=Vt,Ia(t.type)?(t=Om,Om=null,Vt=t):Vt=i):Vt=Tn?Cr(t.stateNode.nextSibling):null;return!0}function As(){Vt=Tn=null,lt=!1}function df(){var t=pa;return t!==null&&(er===null?er=t:er.push.apply(er,t),pa=null),t}function kl(t){pa===null?pa=[t]:pa.push(t)}var hf=P(null),Ss=null,Pi=null;function ya(t,i,s){he(hf,i._currentValue),i._currentValue=s}function Vi(t){t._currentValue=hf.current,J(hf)}function ff(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function mf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var M=0;M<i.length;M++)if(A.context===i[M]){f.lanes|=s,A=f.alternate,A!==null&&(A.lanes|=s),ff(f.return,s,t),l||(b=null);break e}f=A.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=s,f=b.alternate,f!==null&&(f.lanes|=s),ff(b,s,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function bo(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var A=h.type;ur(h.pendingProps.value,b.value)||(t!==null?t.push(A):t=[A])}}else if(h===Fe.current){if(b=h.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ic):t=[ic])}h=h.return}t!==null&&mf(i,t,s,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!ur(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){Ss=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return jy(Ss,t)}function Mu(t,i){return Ss===null&&Rs(t),jy(t,i)}function jy(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(a(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return s}var vA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},bA=r.unstable_scheduleCallback,_A=r.unstable_NormalPriority,rn={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new vA,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&bA(_A,function(){t.controller.abort()})}var Ol=null,gf=0,_o=0,xo=null;function xA(t,i){if(Ol===null){var s=Ol=[];gf=0,_o=bm(),xo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return gf++,i.then(My,My),i}function My(){if(--gf===0&&Ol!==null){xo!==null&&(xo.status="fulfilled");var t=Ol;Ol=null,_o=0,xo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Py=q.S;q.S=function(t,i){bb=dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xA(t,i),Py!==null&&Py(t,i)};var Ns=P(null);function yf(){var t=Ns.current;return t!==null?t:Ct.pooledCache}function Pu(t,i){i===null?he(Ns,Ns.current):he(Ns,i.pool)}function Vy(){var t=yf();return t===null?null:{parent:rn._currentValue,pool:t}}var wo=Error(a(460)),vf=Error(a(474)),Vu=Error(a(542)),Lu={then:function(){}};function Ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uy(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Vr,Vr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zy(t),t;default:if(typeof i.status=="string")i.then(Vr,Vr);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zy(t),t}throw Is=i,wo}}function Cs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Is=s,wo):s}}var Is=null;function By(){if(Is===null)throw Error(a(459));var t=Is;return Is=null,t}function zy(t){if(t===wo||t===Vu)throw Error(a(483))}var Eo=null,jl=0;function Uu(t){var i=jl;return jl+=1,Eo===null&&(Eo=[]),Uy(Eo,t,i)}function Ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Fy(t){function i(z,L){if(t){var G=z.deletions;G===null?(z.deletions=[L],z.flags|=16):G.push(L)}}function s(z,L){if(!t)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=ji(z,L),z.index=0,z.sibling=null,z}function f(z,L,G){return z.index=G,t?(G=z.alternate,G!==null?(G=G.index,G<L?(z.flags|=67108866,L):G):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,L,G,re){return L===null||L.tag!==6?(L=sf(G,z.mode,re),L.return=z,L):(L=h(L,G),L.return=z,L)}function M(z,L,G,re){var Me=G.type;return Me===F?ee(z,L,G.props.children,re,G.key):L!==null&&(L.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Cs(Me)===L.type)?(L=h(L,G.props),Ml(L,G),L.return=z,L):(L=Du(G.type,G.key,G.props,null,z.mode,re),Ml(L,G),L.return=z,L)}function K(z,L,G,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=of(G,z.mode,re),L.return=z,L):(L=h(L,G.children||[]),L.return=z,L)}function ee(z,L,G,re,Me){return L===null||L.tag!==7?(L=Ts(G,z.mode,re,Me),L.return=z,L):(L=h(L,G),L.return=z,L)}function ae(z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sf(""+L,z.mode,G),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return G=Du(L.type,L.key,L.props,null,z.mode,G),Ml(G,L),G.return=z,G;case k:return L=of(L,z.mode,G),L.return=z,L;case R:return L=Cs(L),ae(z,L,G)}if(pe(L)||U(L))return L=Ts(L,z.mode,G,null),L.return=z,L;if(typeof L.then=="function")return ae(z,Uu(L),G);if(L.$$typeof===le)return ae(z,Mu(z,L),G);Bu(z,L)}return null}function Y(z,L,G,re){var Me=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Me!==null?null:A(z,L,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return G.key===Me?M(z,L,G,re):null;case k:return G.key===Me?K(z,L,G,re):null;case R:return G=Cs(G),Y(z,L,G,re)}if(pe(G)||U(G))return Me!==null?null:ee(z,L,G,re,null);if(typeof G.then=="function")return Y(z,L,Uu(G),re);if(G.$$typeof===le)return Y(z,L,Mu(z,G),re);Bu(z,G)}return null}function Z(z,L,G,re,Me){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(G)||null,A(L,z,""+re,Me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return z=z.get(re.key===null?G:re.key)||null,M(L,z,re,Me);case k:return z=z.get(re.key===null?G:re.key)||null,K(L,z,re,Me);case R:return re=Cs(re),Z(z,L,G,re,Me)}if(pe(re)||U(re))return z=z.get(G)||null,ee(L,z,re,Me,null);if(typeof re.then=="function")return Z(z,L,G,Uu(re),Me);if(re.$$typeof===le)return Z(z,L,G,Mu(L,re),Me);Bu(L,re)}return null}function Se(z,L,G,re){for(var Me=null,ht=null,Ce=L,We=L=0,it=null;Ce!==null&&We<G.length;We++){Ce.index>We?(it=Ce,Ce=null):it=Ce.sibling;var ft=Y(z,Ce,G[We],re);if(ft===null){Ce===null&&(Ce=it);break}t&&Ce&&ft.alternate===null&&i(z,Ce),L=f(ft,L,We),ht===null?Me=ft:ht.sibling=ft,ht=ft,Ce=it}if(We===G.length)return s(z,Ce),lt&&Mi(z,We),Me;if(Ce===null){for(;We<G.length;We++)Ce=ae(z,G[We],re),Ce!==null&&(L=f(Ce,L,We),ht===null?Me=Ce:ht.sibling=Ce,ht=Ce);return lt&&Mi(z,We),Me}for(Ce=l(Ce);We<G.length;We++)it=Z(Ce,z,We,G[We],re),it!==null&&(t&&it.alternate!==null&&Ce.delete(it.key===null?We:it.key),L=f(it,L,We),ht===null?Me=it:ht.sibling=it,ht=it);return t&&Ce.forEach(function(Ma){return i(z,Ma)}),lt&&Mi(z,We),Me}function Le(z,L,G,re){if(G==null)throw Error(a(151));for(var Me=null,ht=null,Ce=L,We=L=0,it=null,ft=G.next();Ce!==null&&!ft.done;We++,ft=G.next()){Ce.index>We?(it=Ce,Ce=null):it=Ce.sibling;var Ma=Y(z,Ce,ft.value,re);if(Ma===null){Ce===null&&(Ce=it);break}t&&Ce&&Ma.alternate===null&&i(z,Ce),L=f(Ma,L,We),ht===null?Me=Ma:ht.sibling=Ma,ht=Ma,Ce=it}if(ft.done)return s(z,Ce),lt&&Mi(z,We),Me;if(Ce===null){for(;!ft.done;We++,ft=G.next())ft=ae(z,ft.value,re),ft!==null&&(L=f(ft,L,We),ht===null?Me=ft:ht.sibling=ft,ht=ft);return lt&&Mi(z,We),Me}for(Ce=l(Ce);!ft.done;We++,ft=G.next())ft=Z(Ce,z,We,ft.value,re),ft!==null&&(t&&ft.alternate!==null&&Ce.delete(ft.key===null?We:ft.key),L=f(ft,L,We),ht===null?Me=ft:ht.sibling=ft,ht=ft);return t&&Ce.forEach(function(O1){return i(z,O1)}),lt&&Mi(z,We),Me}function Rt(z,L,G,re){if(typeof G=="object"&&G!==null&&G.type===F&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case N:e:{for(var Me=G.key;L!==null;){if(L.key===Me){if(Me=G.type,Me===F){if(L.tag===7){s(z,L.sibling),re=h(L,G.props.children),re.return=z,z=re;break e}}else if(L.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===R&&Cs(Me)===L.type){s(z,L.sibling),re=h(L,G.props),Ml(re,G),re.return=z,z=re;break e}s(z,L);break}else i(z,L);L=L.sibling}G.type===F?(re=Ts(G.props.children,z.mode,re,G.key),re.return=z,z=re):(re=Du(G.type,G.key,G.props,null,z.mode,re),Ml(re,G),re.return=z,z=re)}return b(z);case k:e:{for(Me=G.key;L!==null;){if(L.key===Me)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){s(z,L.sibling),re=h(L,G.children||[]),re.return=z,z=re;break e}else{s(z,L);break}else i(z,L);L=L.sibling}re=of(G,z.mode,re),re.return=z,z=re}return b(z);case R:return G=Cs(G),Rt(z,L,G,re)}if(pe(G))return Se(z,L,G,re);if(U(G)){if(Me=U(G),typeof Me!="function")throw Error(a(150));return G=Me.call(G),Le(z,L,G,re)}if(typeof G.then=="function")return Rt(z,L,Uu(G),re);if(G.$$typeof===le)return Rt(z,L,Mu(z,G),re);Bu(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(s(z,L.sibling),re=h(L,G),re.return=z,z=re):(s(z,L),re=sf(G,z.mode,re),re.return=z,z=re),b(z)):s(z,L)}return function(z,L,G,re){try{jl=0;var Me=Rt(z,L,G,re);return Eo=null,Me}catch(Ce){if(Ce===wo||Ce===Vu)throw Ce;var ht=dr(29,Ce,null,z.mode);return ht.lanes=re,ht.return=z,ht}}}var ks=Fy(!0),Hy=Fy(!1),va=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(t),Sy(t,null,s),i}return Iu(t,l,i,s),ku(t)}function Pl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,O(t,s)}}function xf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var wf=!1;function Vl(){if(wf){var t=xo;if(t!==null)throw t}}function Ll(t,i,s,l){wf=!1;var h=t.updateQueue;va=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var M=A,K=M.next;M.next=null,b===null?f=K:b.next=K,b=M;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==b&&(A===null?ee.firstBaseUpdate=K:A.next=K,ee.lastBaseUpdate=M))}if(f!==null){var ae=h.baseState;b=0,ee=K=M=null,A=f;do{var Y=A.lane&-536870913,Z=Y!==A.lane;if(Z?(rt&Y)===Y:(l&Y)===Y){Y!==0&&Y===_o&&(wf=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=t,Le=A;Y=i;var Rt=s;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){ae=Se.call(Rt,ae,Y);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,Y=typeof Se=="function"?Se.call(Rt,ae,Y):Se,Y==null)break e;ae=w({},ae,Y);break e;case 2:va=!0}}Y=A.callback,Y!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(K=ee=Z,M=ae):ee=ee.next=Z,b|=Y;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);ee===null&&(M=ae),h.baseState=M,h.firstBaseUpdate=K,h.lastBaseUpdate=ee,f===null&&(h.shared.lanes=0),Aa|=b,t.lanes=b,t.memoizedState=ae}}function qy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Gy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)qy(s[t],i)}var To=P(null),zu=P(0);function Ky(t,i){t=Ki,he(zu,t),he(To,i),Ki=t|i.baseLanes}function Ef(){he(zu,Ki),he(To,To.current)}function Tf(){Ki=zu.current,J(To),J(zu)}var hr=P(null),Nr=null;function xa(t){var i=t.alternate;he(Zt,Zt.current&1),he(hr,t),Nr===null&&(i===null||To.current!==null||i.memoizedState!==null)&&(Nr=t)}function Af(t){he(Zt,Zt.current),he(hr,t),Nr===null&&(Nr=t)}function Qy(t){t.tag===22?(he(Zt,Zt.current),he(hr,t),Nr===null&&(Nr=t)):wa()}function wa(){he(Zt,Zt.current),he(hr,hr.current)}function fr(t){J(hr),Nr===t&&(Nr=null),J(Zt)}var Zt=P(0);function Fu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||km(s)||Dm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Li=0,Qe=null,At=null,an=null,Hu=!1,Ao=!1,Ds=!1,qu=0,Ul=0,So=null,EA=0;function Xt(){throw Error(a(321))}function Sf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ur(t[s],i[s]))return!1;return!0}function Rf(t,i,s,l,h,f){return Li=f,Qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?Iv:Ff,Ds=!1,f=s(l,h),Ds=!1,Ao&&(f=Yy(i,s,l,h)),Xy(t),f}function Xy(t){q.H=Fl;var i=At!==null&&At.next!==null;if(Li=0,an=At=Qe=null,Hu=!1,Ul=0,So=null,i)throw Error(a(300));t===null||sn||(t=t.dependencies,t!==null&&ju(t)&&(sn=!0))}function Yy(t,i,s,l){Qe=t;var h=0;do{if(Ao&&(So=null),Ul=0,Ao=!1,25<=h)throw Error(a(301));if(h+=1,an=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=kv,f=i(s,l)}while(Ao);return f}function TA(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(Qe.flags|=1024),i}function Nf(){var t=qu!==0;return qu=0,t}function Cf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function If(t){if(Hu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hu=!1}Li=0,an=At=Qe=null,Ao=!1,Ul=qu=0,So=null}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Qe.memoizedState=an=t:an=an.next=t,an}function Jt(){if(At===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var i=an===null?Qe.memoizedState:an.next;if(i!==null)an=i,At=t;else{if(t===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},an===null?Qe.memoizedState=an=t:an=an.next=t}return an}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var i=Ul;return Ul+=1,So===null&&(So=[]),t=Uy(So,t,i),i=Qe,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Iv:Ff),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===le)return An(t)}throw Error(a(438,String(t)))}function kf(t){var i=null,s=Qe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Gu(),Qe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=j;return i.index++,s}function Ui(t,i){return typeof i=="function"?i(t):i}function Qu(t){var i=Jt();return Df(i,At,t)}function Df(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var A=b=null,M=null,K=i,ee=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(rt&ae)===ae:(Li&ae)===ae){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===_o&&(ee=!0);else if((Li&Y)===Y){K=K.next,Y===_o&&(ee=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=ae,b=f):M=M.next=ae,Qe.lanes|=Y,Aa|=Y;ae=K.action,Ds&&s(f,ae),f=K.hasEagerState?K.eagerState:s(f,ae)}else Y={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=Y,b=f):M=M.next=Y,Qe.lanes|=ae,Aa|=ae;K=K.next}while(K!==null&&K!==i);if(M===null?b=f:M.next=A,!ur(f,t.memoizedState)&&(sn=!0,ee&&(s=xo,s!==null)))throw s;t.memoizedState=f,t.baseState=b,t.baseQueue=M,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var i=Jt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);ur(f,i.memoizedState)||(sn=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function Wy(t,i,s){var l=Qe,h=Jt(),f=lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var b=!ur((At||h).memoizedState,s);if(b&&(h.memoizedState=s,sn=!0),h=h.queue,Pf($y.bind(null,l,h,t),[t]),h.getSnapshot!==i||b||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Ro(9,{destroy:void 0},Jy.bind(null,l,h,s,i),null),Ct===null)throw Error(a(349));f||(Li&127)!==0||Zy(l,i,s)}return s}function Zy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Qe.updateQueue,i===null?(i=Gu(),Qe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Jy(t,i,s,l){i.value=s,i.getSnapshot=l,ev(i)&&tv(t)}function $y(t,i,s){return s(function(){ev(i)&&tv(t)})}function ev(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ur(t,s)}catch{return!0}}function tv(t){var i=Es(t,2);i!==null&&tr(i,t,2)}function jf(t){var i=Kn();if(typeof t=="function"){var s=t;if(t=s(),Ds){Fn(!0);try{s()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function nv(t,i,s,l){return t.baseState=s,Df(t,At,typeof l=="function"?l:Ui)}function AA(t,i,s,l,h){if(Wu(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,rv(i,f)):(f.next=s.next,i.pending=s.next=f)}}function rv(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=q.T,b={};q.T=b;try{var A=s(h,l),M=q.S;M!==null&&M(b,A),iv(t,i,A)}catch(K){Mf(t,i,K)}finally{f!==null&&b.types!==null&&(f.types=b.types),q.T=f}}else try{f=s(h,l),iv(t,i,f)}catch(K){Mf(t,i,K)}}function iv(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){av(t,i,l)},function(l){return Mf(t,i,l)}):av(t,i,s)}function av(t,i,s){i.status="fulfilled",i.value=s,sv(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,rv(t,s)))}function Mf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,sv(i),i=i.next;while(i!==l)}t.action=null}function sv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ov(t,i){return i}function lv(t,i){if(lt){var s=Ct.formState;if(s!==null){e:{var l=Qe;if(lt){if(Vt){t:{for(var h=Vt,f=Rr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Vt=Cr(h.nextSibling),l=h.data==="F!";break e}}ga(l)}l=!1}l&&(i=s[0])}}return s=Kn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:i},s.queue=l,s=Rv.bind(null,Qe,l),l.dispatch=s,l=jf(!1),f=zf.bind(null,Qe,!1,l.queue),l=Kn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=AA.bind(null,Qe,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function cv(t){var i=Jt();return uv(i,At,t)}function uv(t,i,s){if(i=Df(t,i,ov)[0],t=Qu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(b){throw b===wo?Vu:b}else l=i;i=Jt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Qe.flags|=2048,Ro(9,{destroy:void 0},SA.bind(null,h,s),null)),[l,f,t]}function SA(t,i){t.action=i}function dv(t){var i=Jt(),s=At;if(s!==null)return uv(i,s,t);Jt(),i=i.memoizedState,s=Jt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Ro(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Qe.updateQueue,i===null&&(i=Gu(),Qe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function hv(){return Jt().memoizedState}function Xu(t,i,s,l){var h=Kn();Qe.flags|=t,h.memoizedState=Ro(1|i,{destroy:void 0},s,l===void 0?null:l)}function Yu(t,i,s,l){var h=Jt();l=l===void 0?null:l;var f=h.memoizedState.inst;At!==null&&l!==null&&Sf(l,At.memoizedState.deps)?h.memoizedState=Ro(i,f,s,l):(Qe.flags|=t,h.memoizedState=Ro(1|i,f,s,l))}function fv(t,i){Xu(8390656,8,t,i)}function Pf(t,i){Yu(2048,8,t,i)}function RA(t){Qe.flags|=4;var i=Qe.updateQueue;if(i===null)i=Gu(),Qe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function mv(t){var i=Jt().memoizedState;return RA({ref:i,nextImpl:t}),function(){if((yt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function pv(t,i){return Yu(4,2,t,i)}function gv(t,i){return Yu(4,4,t,i)}function yv(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vv(t,i,s){s=s!=null?s.concat([t]):null,Yu(4,4,yv.bind(null,i,t),s)}function Vf(){}function bv(t,i){var s=Jt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function _v(t,i){var s=Jt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),Ds){Fn(!0);try{t()}finally{Fn(!1)}}return s.memoizedState=[l,i],l}function Lf(t,i,s){return s===void 0||(Li&1073741824)!==0&&(rt&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=xb(),Qe.lanes|=t,Aa|=t,s)}function xv(t,i,s,l){return ur(s,i)?s:To.current!==null?(t=Lf(t,s,l),ur(t,i)||(sn=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(rt&261930)===0?(sn=!0,t.memoizedState=s):(t=xb(),Qe.lanes|=t,Aa|=t,i)}function wv(t,i,s,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var b=q.T,A={};q.T=A,zf(t,!1,i,s);try{var M=h(),K=q.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=wA(M,l);zl(t,i,ee,gr(t))}else zl(t,i,l,gr(t))}catch(ae){zl(t,i,{then:function(){},status:"rejected",reason:ae},gr())}finally{se.p=f,b!==null&&A.types!==null&&(b.types=A.types),q.T=b}}function NA(){}function Uf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Ev(t).queue;wv(t,h,i,de,s===null?NA:function(){return Tv(t),s(l)})}function Ev(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Tv(t){var i=Ev(t);i.next===null&&(i=t.alternate.memoizedState),zl(t,i.next.queue,{},gr())}function Bf(){return An(ic)}function Av(){return Jt().memoizedState}function Sv(){return Jt().memoizedState}function CA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=gr();t=ba(s);var l=_a(i,t,s);l!==null&&(tr(l,i,s),Pl(l,i,s)),i={cache:pf()},t.payload=i;return}i=i.return}}function IA(t,i,s){var l=gr();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Nv(i,s):(s=rf(t,i,s,l),s!==null&&(tr(s,t,l),Cv(s,i,l)))}function Rv(t,i,s){var l=gr();zl(t,i,s,l)}function zl(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Nv(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var b=i.lastRenderedState,A=f(b,s);if(h.hasEagerState=!0,h.eagerState=A,ur(A,b))return Iu(t,i,h,0),Ct===null&&Cu(),!1}catch{}if(s=rf(t,i,h,l),s!==null)return tr(s,t,l),Cv(s,i,l),!0}return!1}function zf(t,i,s,l){if(l={lane:2,revertLane:bm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(i)throw Error(a(479))}else i=rf(t,s,l,2),i!==null&&tr(i,t,2)}function Wu(t){var i=t.alternate;return t===Qe||i!==null&&i===Qe}function Nv(t,i){Ao=Hu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Cv(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,O(t,s)}}var Fl={readContext:An,use:Ku,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};Fl.useEffectEvent=Xt;var Iv={readContext:An,use:Ku,useCallback:function(t,i){return Kn().memoizedState=[t,i===void 0?null:i],t},useContext:An,useEffect:fv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Xu(4194308,4,yv.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Xu(4194308,4,t,i)},useInsertionEffect:function(t,i){Xu(4,2,t,i)},useMemo:function(t,i){var s=Kn();i=i===void 0?null:i;var l=t();if(Ds){Fn(!0);try{t()}finally{Fn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Kn();if(s!==void 0){var h=s(i);if(Ds){Fn(!0);try{s(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=IA.bind(null,Qe,t),[l.memoizedState,t]},useRef:function(t){var i=Kn();return t={current:t},i.memoizedState=t},useState:function(t){t=jf(t);var i=t.queue,s=Rv.bind(null,Qe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Kn();return Lf(s,t,i)},useTransition:function(){var t=jf(!1);return t=wv.bind(null,Qe,t.queue,!0,!1),Kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Qe,h=Kn();if(lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ct===null)throw Error(a(349));(rt&127)!==0||Zy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,fv($y.bind(null,l,f,t),[t]),l.flags|=2048,Ro(9,{destroy:void 0},Jy.bind(null,l,f,s,i),null),s},useId:function(){var t=Kn(),i=Ct.identifierPrefix;if(lt){var s=ci,l=li;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=qu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=EA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:lv,useActionState:lv,useOptimistic:function(t){var i=Kn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=zf.bind(null,Qe,!0,s),s.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return Kn().memoizedState=CA.bind(null,Qe)},useEffectEvent:function(t){var i=Kn(),s={impl:t};return i.memoizedState=s,function(){if((yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Ff={readContext:An,use:Ku,useCallback:bv,useContext:An,useEffect:Pf,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:Qu,useRef:hv,useState:function(){return Qu(Ui)},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Jt();return xv(s,At.memoizedState,t,i)},useTransition:function(){var t=Qu(Ui)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Wy,useId:Av,useHostTransitionStatus:Bf,useFormState:cv,useActionState:cv,useOptimistic:function(t,i){var s=Jt();return nv(s,At,t,i)},useMemoCache:kf,useCacheRefresh:Sv};Ff.useEffectEvent=mv;var kv={readContext:An,use:Ku,useCallback:bv,useContext:An,useEffect:Pf,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:Of,useRef:hv,useState:function(){return Of(Ui)},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Jt();return At===null?Lf(s,t,i):xv(s,At.memoizedState,t,i)},useTransition:function(){var t=Of(Ui)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Wy,useId:Av,useHostTransitionStatus:Bf,useFormState:dv,useActionState:dv,useOptimistic:function(t,i){var s=Jt();return At!==null?nv(s,At,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Sv};kv.useEffectEvent=mv;function Hf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var qf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=gr(),h=ba(l);h.payload=i,s!=null&&(h.callback=s),i=_a(t,h,l),i!==null&&(tr(i,t,l),Pl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=gr(),h=ba(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=_a(t,h,l),i!==null&&(tr(i,t,l),Pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=gr(),l=ba(s);l.tag=2,i!=null&&(l.callback=i),i=_a(t,l,s),i!==null&&(tr(i,t,s),Pl(i,t,s))}};function Dv(t,i,s,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):i.prototype&&i.prototype.isPureReactComponent?!Nl(s,l)||!Nl(h,f):!0}function Ov(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Os(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function jv(t){Nu(t)}function Mv(t){console.error(t)}function Pv(t){Nu(t)}function Zu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vv(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,s){return s=ba(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(t,i)},s}function Lv(t){return t=ba(t),t.tag=3,t}function Uv(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Vv(i,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Vv(i,s,l),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function kA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&bo(i,s,h,!0),s=hr.current,s!==null){switch(s.tag){case 31:case 13:return Nr===null?cd():s.alternate===null&&Yt===0&&(Yt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),gm(t,l,h)),!1;case 22:return s.flags|=65536,l===Lu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),gm(t,l,h)),!1}throw Error(a(435,s.tag))}return gm(t,l,h),cd(),!1}if(lt)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(t=Error(a(422),{cause:l}),kl(Tr(t,s)))):(l!==uf&&(i=Error(a(423),{cause:l}),kl(Tr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tr(l,s),h=Gf(t.stateNode,l,h),xf(t,h),Yt!==4&&(Yt=2)),!1;var f=Error(a(520),{cause:l});if(f=Tr(f,s),Wl===null?Wl=[f]:Wl.push(f),Yt!==4&&(Yt=2),i===null)return!0;l=Tr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,l,t),xf(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sa===null||!Sa.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Lv(h),Uv(h,t,s,l),xf(s,h),!1}s=s.return}while(s!==null);return!1}var Kf=Error(a(461)),sn=!1;function Sn(t,i,s,l){i.child=t===null?Hy(i,null,s,l):ks(i,t.child,s,l)}function Bv(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var b={};for(var A in l)A!=="ref"&&(b[A]=l[A])}else b=l;return Rs(i),l=Rf(t,i,s,b,f,h),A=Nf(),t!==null&&!sn?(Cf(t,i,h),Bi(t,i,h)):(lt&&A&&lf(i),i.flags|=1,Sn(t,i,l,h),i.child)}function zv(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Fv(t,i,f,l,h)):(t=Du(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!em(t,h)){var b=f.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(b,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=ji(f,l),t.ref=i.ref,t.return=i,i.child=t}function Fv(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Nl(f,l)&&t.ref===i.ref)if(sn=!1,i.pendingProps=l=f,em(t,h))(t.flags&131072)!==0&&(sn=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return Qf(t,i,s,l,h)}function Hv(t,i,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return qv(t,i,f,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(i,f!==null?f.cachePool:null),f!==null?Ky(i,f):Ef(),Qy(i);else return l=i.lanes=536870912,qv(t,i,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Pu(i,f.cachePool),Ky(i,f),wa(),i.memoizedState=null):(t!==null&&Pu(i,null),Ef(),wa());return Sn(t,i,h,s),i.child}function Hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qv(t,i,s,l,h){var f=yf();return f=f===null?null:{parent:rn._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&Pu(i,null),Ef(),Qy(i),t!==null&&bo(t,i,l,!0),i.childLanes=h,null}function Ju(t,i){return i=ed({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Gv(t,i,s){return ks(i,t.child,null,s),t=Ju(i,i.pendingProps),t.flags|=2,fr(i),i.memoizedState=null,t}function DA(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(lt){if(l.mode==="hidden")return t=Ju(i,l),i.lanes=536870912,Hl(null,t);if(Af(i),(t=Vt)?(t=r0(t,Rr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ma!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Ny(t),s.return=i,i.child=s,Tn=i,Vt=null)):t=null,t===null)throw ga(i);return i.lanes=536870912,null}return Ju(i,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=Gv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(sn||bo(t,i,s,!1),h=(s&t.childLanes)!==0,sn||h){if(l=Ct,l!==null&&(b=B(l,s),b!==0&&b!==f.retryLane))throw f.retryLane=b,Es(t,b),tr(l,t,b),Kf;cd(),i=Gv(t,i,s)}else t=f.treeContext,Vt=Cr(b.nextSibling),Tn=i,lt=!0,pa=null,Rr=!1,t!==null&&ky(i,t),i=Ju(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function $u(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Qf(t,i,s,l,h){return Rs(i),s=Rf(t,i,s,l,void 0,h),l=Nf(),t!==null&&!sn?(Cf(t,i,h),Bi(t,i,h)):(lt&&l&&lf(i),i.flags|=1,Sn(t,i,s,h),i.child)}function Kv(t,i,s,l,h,f){return Rs(i),i.updateQueue=null,s=Yy(i,l,s,h),Xy(t),l=Nf(),t!==null&&!sn?(Cf(t,i,f),Bi(t,i,f)):(lt&&l&&lf(i),i.flags|=1,Sn(t,i,s,f),i.child)}function Qv(t,i,s,l,h){if(Rs(i),i.stateNode===null){var f=po,b=s.contextType;typeof b=="object"&&b!==null&&(f=An(b)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},bf(i),b=s.contextType,f.context=typeof b=="object"&&b!==null?An(b):po,f.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Hf(i,s,b,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&qf.enqueueReplaceState(f,f.state,null),Ll(i,l,f,h),Vl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var A=i.memoizedProps,M=Os(s,A);f.props=M;var K=f.context,ee=s.contextType;b=po,typeof ee=="object"&&ee!==null&&(b=An(ee));var ae=s.getDerivedStateFromProps;ee=typeof ae=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||K!==b)&&Ov(i,f,l,b),va=!1;var Y=i.memoizedState;f.state=Y,Ll(i,l,f,h),Vl(),K=i.memoizedState,A||Y!==K||va?(typeof ae=="function"&&(Hf(i,s,ae,l),K=i.memoizedState),(M=va||Dv(i,s,M,l,Y,K,b))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),f.props=l,f.state=K,f.context=b,l=M):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,_f(t,i),b=i.memoizedProps,ee=Os(s,b),f.props=ee,ae=i.pendingProps,Y=f.context,K=s.contextType,M=po,typeof K=="object"&&K!==null&&(M=An(K)),A=s.getDerivedStateFromProps,(K=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==ae||Y!==M)&&Ov(i,f,l,M),va=!1,Y=i.memoizedState,f.state=Y,Ll(i,l,f,h),Vl();var Z=i.memoizedState;b!==ae||Y!==Z||va||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof A=="function"&&(Hf(i,s,A,l),Z=i.memoizedState),(ee=va||Dv(i,s,ee,l,Y,Z,M)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(K||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Z,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Z,M)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),f.props=l,f.state=Z,f.context=M,l=ee):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,$u(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,s,h)):Sn(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Bi(t,i,h),t}function Xv(t,i,s,l){return As(),i.flags|=256,Sn(t,i,s,l),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:Vy()}}function Wf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=pr),t}function Yv(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(lt){if(h?xa(i):wa(),(t=Vt)?(t=r0(t,Rr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ma!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Ny(t),s.return=i,i.child=s,Tn=i,Vt=null)):t=null,t===null)throw ga(i);return Dm(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(wa(),h=i.mode,A=ed({mode:"hidden",children:A},h),l=Ts(l,h,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Yf(s),l.childLanes=Wf(t,b,s),i.memoizedState=Xf,Hl(null,l)):(xa(i),Zf(i,A))}var M=t.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(f)i.flags&256?(xa(i),i.flags&=-257,i=Jf(t,i,s)):i.memoizedState!==null?(wa(),i.child=t.child,i.flags|=128,i=null):(wa(),A=l.fallback,h=i.mode,l=ed({mode:"visible",children:l.children},h),A=Ts(A,h,s,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,ks(i,t.child,null,s),l=i.child,l.memoizedState=Yf(s),l.childLanes=Wf(t,b,s),i.memoizedState=Xf,i=Hl(null,l));else if(xa(i),Dm(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var K=b.dgst;b=K,l=Error(a(419)),l.stack="",l.digest=b,kl({value:l,source:null,stack:null}),i=Jf(t,i,s)}else if(sn||bo(t,i,s,!1),b=(s&t.childLanes)!==0,sn||b){if(b=Ct,b!==null&&(l=B(b,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,Es(t,l),tr(b,t,l),Kf;km(A)||cd(),i=Jf(t,i,s)}else km(A)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Vt=Cr(A.nextSibling),Tn=i,lt=!0,pa=null,Rr=!1,t!==null&&ky(i,t),i=Zf(i,l.children),i.flags|=4096);return i}return h?(wa(),A=l.fallback,h=i.mode,M=t.child,K=M.sibling,l=ji(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,K!==null?A=ji(K,A):(A=Ts(A,h,s,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Hl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=Yf(s):(h=A.cachePool,h!==null?(M=rn._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Vy(),A={baseLanes:A.baseLanes|s,cachePool:h}),l.memoizedState=A,l.childLanes=Wf(t,b,s),i.memoizedState=Xf,Hl(t.child,l)):(xa(i),s=t.child,t=s.sibling,s=ji(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=s,i.memoizedState=null,s)}function Zf(t,i){return i=ed({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ed(t,i){return t=dr(22,t,null,i),t.lanes=0,t}function Jf(t,i,s){return ks(i,t.child,null,s),t=Zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ff(t.return,i,s)}function $f(t,i,s,l,h,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=h,b.treeForkCount=f)}function Zv(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var b=Zt.current,A=(b&2)!==0;if(A?(b=b&1|2,i.flags|=128):b&=1,he(Zt,b),Sn(t,i,l,s),l=lt?Il:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wv(t,s,i);else if(t.tag===19)Wv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Fu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),$f(i,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}$f(i,!0,s,null,f,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Bi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Aa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(bo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=ji(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ji(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function em(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function OA(t,i,s){switch(i.tag){case 3:vt(i,i.stateNode.containerInfo),ya(i,rn,t.memoizedState.cache),As();break;case 27:case 5:De(i);break;case 4:vt(i,i.stateNode.containerInfo);break;case 10:ya(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Yv(t,i,s):(xa(i),t=Bi(t,i,s),t!==null?t.sibling:null);xa(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(bo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Zv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(Zt,Zt.current),l)break;return null;case 22:return i.lanes=0,Hv(t,i,s,i.pendingProps);case 24:ya(i,rn,t.memoizedState.cache)}return Bi(t,i,s)}function Jv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)sn=!0;else{if(!em(t,s)&&(i.flags&128)===0)return sn=!1,OA(t,i,s);sn=(t.flags&131072)!==0}else sn=!1,lt&&(i.flags&1048576)!==0&&Iy(i,Il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Cs(i.elementType),i.type=t,typeof t=="function")af(t)?(l=Os(t,l),i.tag=1,i=Qv(null,i,t,l,s)):(i.tag=0,i=Qf(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ne){i.tag=11,i=Bv(null,i,t,l,s);break e}else if(h===E){i.tag=14,i=zv(null,i,t,l,s);break e}}throw i=te(t)||t,Error(a(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Os(l,i.pendingProps),Qv(t,i,l,h,s);case 3:e:{if(vt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,_f(t,i),Ll(i,l,null,s);var b=i.memoizedState;if(l=b.cache,ya(i,rn,l),l!==f.cache&&mf(i,[rn],s,!0),Vl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Xv(t,i,l,s);break e}else if(l!==h){h=Tr(Error(a(424)),i),kl(h),i=Xv(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Vt=Cr(t.firstChild),Tn=i,lt=!0,pa=null,Rr=!0,s=Hy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(As(),l===h){i=Bi(t,i,s);break e}Sn(t,i,l,s)}i=i.child}return i;case 26:return $u(t,i),t===null?(s=c0(i.type,null,i.pendingProps,null))?i.memoizedState=s:lt||(s=i.type,t=i.pendingProps,l=gd(Oe.current).createElement(s),l[ge]=i,l[be]=t,Rn(l,s,t),Dt(l),i.stateNode=l):i.memoizedState=c0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return De(i),t===null&&lt&&(l=i.stateNode=s0(i.type,i.pendingProps,Oe.current),Tn=i,Rr=!0,h=Vt,Ia(i.type)?(Om=h,Vt=Cr(l.firstChild)):Vt=h),Sn(t,i,i.pendingProps.children,s),$u(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&lt&&((h=l=Vt)&&(l=c1(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,Tn=i,Vt=Cr(l.firstChild),Rr=!1,h=!0):h=!1),h||ga(i)),De(i),h=i.type,f=i.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,Nm(h,f)?l=null:b!==null&&Nm(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=Rf(t,i,TA,null,null,s),ic._currentValue=h),$u(t,i),Sn(t,i,l,s),i.child;case 6:return t===null&&lt&&((t=s=Vt)&&(s=u1(s,i.pendingProps,Rr),s!==null?(i.stateNode=s,Tn=i,Vt=null,t=!0):t=!1),t||ga(i)),null;case 13:return Yv(t,i,s);case 4:return vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,s):Sn(t,i,l,s),i.child;case 11:return Bv(t,i,i.type,i.pendingProps,s);case 7:return Sn(t,i,i.pendingProps,s),i.child;case 8:return Sn(t,i,i.pendingProps.children,s),i.child;case 12:return Sn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ya(i,i.type,l.value),Sn(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=An(h),l=l(h),i.flags|=1,Sn(t,i,l,s),i.child;case 14:return zv(t,i,i.type,i.pendingProps,s);case 15:return Fv(t,i,i.type,i.pendingProps,s);case 19:return Zv(t,i,s);case 31:return DA(t,i,s);case 22:return Hv(t,i,s,i.pendingProps);case 24:return Rs(i),l=An(rn),t===null?(h=yf(),h===null&&(h=Ct,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},bf(i),ya(i,rn,h)):((t.lanes&s)!==0&&(_f(t,i),Ll(i,null,null,s),Vl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ya(i,rn,l)):(l=f.cache,ya(i,rn,l),l!==h.cache&&mf(i,[rn],s,!0))),Sn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zi(t){t.flags|=4}function tm(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ab())t.flags|=8192;else throw Is=Lu,vf}else t.flags&=-16777217}function $v(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m0(i))if(Ab())t.flags|=8192;else throw Is=Lu,vf}function td(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ci():536870912,t.lanes|=i,ko|=i)}function ql(t,i){if(!lt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function jA(t,i,s){var l=i.pendingProps;switch(cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Lt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(rn),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vo(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,df())),Lt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(zi(i),f!==null?(Lt(i),$v(i,f)):(Lt(i),tm(i,h,null,l,s))):f?f!==t.memoizedState?(zi(i),Lt(i),$v(i,f)):(Lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(i),Lt(i),tm(i,h,t,l,s)),null;case 27:if(Gt(i),s=Oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}t=ue.current,vo(i)?Dy(i):(t=s0(h,l,s),i.stateNode=t,zi(i))}return Lt(i),null;case 5:if(Gt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}if(f=ue.current,vo(i))Dy(i);else{var b=gd(Oe.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}f[ge]=i,f[be]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=f;e:switch(Rn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zi(i)}}return Lt(i),tm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Oe.current,vo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ge]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Yb(t.nodeValue,s)),t||ga(i,!0)}else t=gd(t).createTextNode(l),t[ge]=i,i.stateNode=t}return Lt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=vo(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ge]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),t=!1}else s=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(fr(i),i):(fr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=vo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ge]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),h=!1}else h=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(fr(i),i):(fr(i),null)}return fr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),td(i,i.updateQueue),Lt(i),null);case 4:return mt(),t===null&&Em(i.stateNode.containerInfo),Lt(i),null;case 10:return Vi(i.type),Lt(i),null;case 19:if(J(Zt),l=i.memoizedState,l===null)return Lt(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)ql(l,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Fu(t),f!==null){for(i.flags|=128,ql(l,!1),t=f.updateQueue,i.updateQueue=t,td(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ry(s,t),s=s.sibling;return he(Zt,Zt.current&1|2),lt&&Mi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&dt()>sd&&(i.flags|=128,h=!0,ql(l,!1),i.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,td(i,t),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!lt)return Lt(i),null}else 2*dt()-l.renderingStartTime>sd&&s!==536870912&&(i.flags|=128,h=!0,ql(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=dt(),t.sibling=null,s=Zt.current,he(Zt,h?s&1|2:s&1),lt&&Mi(i,l.treeForkCount),t):(Lt(i),null);case 22:case 23:return fr(i),Tf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),s=i.updateQueue,s!==null&&td(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&J(Ns),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Vi(rn),Lt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function MA(t,i){switch(cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(rn),mt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Gt(i),null;case 31:if(i.memoizedState!==null){if(fr(i),i.alternate===null)throw Error(a(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(fr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(Zt),null;case 4:return mt(),null;case 10:return Vi(i.type),null;case 22:case 23:return fr(i),Tf(),t!==null&&J(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(rn),null;case 25:return null;default:return null}}function eb(t,i){switch(cf(i),i.tag){case 3:Vi(rn),mt();break;case 26:case 27:case 5:Gt(i);break;case 4:mt();break;case 31:i.memoizedState!==null&&fr(i);break;case 13:fr(i);break;case 19:J(Zt);break;case 10:Vi(i.type);break;case 22:case 23:fr(i),Tf(),t!==null&&J(Ns);break;case 24:Vi(rn)}}function Gl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,b=s.inst;l=f(),b.destroy=l}s=s.next}while(s!==h)}}catch(A){xt(i,i.return,A)}}function Ea(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,h=i;var M=s,K=A;try{K()}catch(ee){xt(h,M,ee)}}}l=l.next}while(l!==f)}}catch(ee){xt(i,i.return,ee)}}function tb(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Gy(i,s)}catch(l){xt(t,t.return,l)}}}function nb(t,i,s){s.props=Os(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){xt(t,i,l)}}function Kl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){xt(t,i,h)}}function ui(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){xt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){xt(t,i,h)}else s.current=null}function rb(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){xt(t,t.return,h)}}function nm(t,i,s){try{var l=t.stateNode;r1(l,t.type,s,i),l[be]=i}catch(h){xt(t,t.return,h)}}function ib(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ia(t.type)||t.tag===4}function rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Vr));else if(l!==4&&(l===27&&Ia(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(im(t,i,s),t=t.sibling;t!==null;)im(t,i,s),t=t.sibling}function nd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ia(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(nd(t,i,s),t=t.sibling;t!==null;)nd(t,i,s),t=t.sibling}function ab(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rn(i,l,s),i[ge]=t,i[be]=s}catch(f){xt(t,t.return,f)}}var Fi=!1,on=!1,am=!1,sb=typeof WeakSet=="function"?WeakSet:Set,bn=null;function PA(t,i){if(t=t.containerInfo,Sm=Ed,t=vy(t),Zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var b=0,A=-1,M=-1,K=0,ee=0,ae=t,Y=null;t:for(;;){for(var Z;ae!==s||h!==0&&ae.nodeType!==3||(A=b+h),ae!==f||l!==0&&ae.nodeType!==3||(M=b+l),ae.nodeType===3&&(b+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)Y=ae,ae=Z;for(;;){if(ae===t)break t;if(Y===s&&++K===h&&(A=b),Y===f&&++ee===l&&(M=b),(Z=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Z}s=A===-1||M===-1?null:{start:A,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rm={focusedElem:t,selectionRange:s},Ed=!1,bn=i;bn!==null;)if(i=bn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,bn=t;else for(;bn!==null;){switch(i=bn,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Se=Os(s.type,h);t=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Le){xt(s,s.return,Le)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Im(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,bn=t;break}bn=i.return}}function ob(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qi(t,s),l&4&&Gl(5,s);break;case 1:if(qi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(b){xt(s,s.return,b)}else{var h=Os(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){xt(s,s.return,b)}}l&64&&tb(s),l&512&&Kl(s,s.return);break;case 3:if(qi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Gy(t,i)}catch(b){xt(s,s.return,b)}}break;case 27:i===null&&l&4&&ab(s);case 26:case 5:qi(t,s),i===null&&l&4&&rb(s),l&512&&Kl(s,s.return);break;case 12:qi(t,s);break;case 31:qi(t,s),l&4&&ub(t,s);break;case 13:qi(t,s),l&4&&db(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=GA.bind(null,s),d1(t,s))));break;case 22:if(l=s.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||on,h=Fi;var f=on;Fi=l,(on=i)&&!f?Gi(t,s,(s.subtreeFlags&8772)!==0):qi(t,s),Fi=h,on=f}break;case 30:break;default:qi(t,s)}}function lb(t){var i=t.alternate;i!==null&&(t.alternate=null,lb(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Pt(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,Zn=!1;function Hi(t,i,s){for(s=s.child;s!==null;)cb(t,i,s),s=s.sibling}function cb(t,i,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ar,s)}catch{}switch(s.tag){case 26:on||ui(s,i),Hi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:on||ui(s,i);var l=qt,h=Zn;Ia(s.type)&&(qt=s.stateNode,Zn=!1),Hi(t,i,s),tc(s.stateNode),qt=l,Zn=h;break;case 5:on||ui(s,i);case 6:if(l=qt,h=Zn,qt=null,Hi(t,i,s),qt=l,Zn=h,qt!==null)if(Zn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(s.stateNode)}catch(f){xt(s,i,f)}else try{qt.removeChild(s.stateNode)}catch(f){xt(s,i,f)}break;case 18:qt!==null&&(Zn?(t=qt,t0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Uo(t)):t0(qt,s.stateNode));break;case 4:l=qt,h=Zn,qt=s.stateNode.containerInfo,Zn=!0,Hi(t,i,s),qt=l,Zn=h;break;case 0:case 11:case 14:case 15:Ea(2,s,i),on||Ea(4,s,i),Hi(t,i,s);break;case 1:on||(ui(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&nb(s,i,l)),Hi(t,i,s);break;case 21:Hi(t,i,s);break;case 22:on=(l=on)||s.memoizedState!==null,Hi(t,i,s),on=l;break;default:Hi(t,i,s)}}function ub(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Uo(t)}catch(s){xt(i,i.return,s)}}}function db(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uo(t)}catch(s){xt(i,i.return,s)}}function VA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sb),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sb),i;default:throw Error(a(435,t.tag))}}function rd(t,i){var s=VA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=KA.bind(null,t,l);l.then(h,h)}})}function Jn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,b=i,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Ia(A.type)){qt=A.stateNode,Zn=!1;break e}break;case 5:qt=A.stateNode,Zn=!1;break e;case 3:case 4:qt=A.stateNode.containerInfo,Zn=!0;break e}A=A.return}if(qt===null)throw Error(a(160));cb(f,b,h),qt=null,Zn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)hb(i,t),i=i.sibling}var Hr=null;function hb(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jn(i,t),$n(t),l&4&&(Ea(3,t,t.return),Gl(3,t),Ea(5,t,t.return));break;case 1:Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Hr;if(Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wt]||f[ge]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Rn(f,l,s),f[ge]=t,Dt(f),l=f;break e;case"link":var b=h0("link","href",h).get(l+(s.href||""));if(b){for(var A=0;A<b.length;A++)if(f=b[A],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(A,1);break t}}f=h.createElement(l),Rn(f,l,s),h.head.appendChild(f);break;case"meta":if(b=h0("meta","content",h).get(l+(s.content||""))){for(A=0;A<b.length;A++)if(f=b[A],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(A,1);break t}}f=h.createElement(l),Rn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[ge]=t,Dt(f),l=f}t.stateNode=l}else f0(h,t.type,t.stateNode);else t.stateNode=d0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?f0(h,t.type,t.stateNode):d0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nm(t,t.memoizedProps,s.memoizedProps)}break;case 27:Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),s!==null&&l&4&&nm(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),t.flags&32){h=t.stateNode;try{Wn(h,"")}catch(Se){xt(t,t.return,Se)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,nm(t,h,s!==null?s.memoizedProps:h)),l&1024&&(am=!0);break;case 6:if(Jn(i,t),$n(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Se){xt(t,t.return,Se)}}break;case 3:if(bd=null,h=Hr,Hr=yd(i.containerInfo),Jn(i,t),Hr=h,$n(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Uo(i.containerInfo)}catch(Se){xt(t,t.return,Se)}am&&(am=!1,fb(t));break;case 4:l=Hr,Hr=yd(t.stateNode.containerInfo),Jn(i,t),$n(t),Hr=l;break;case 12:Jn(i,t),$n(t);break;case 31:Jn(i,t),$n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 13:Jn(i,t),$n(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ad=dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:h=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,K=Fi,ee=on;if(Fi=K||h,on=ee||M,Jn(i,t),on=ee,Fi=K,$n(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||M||Fi||on||js(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){M=s=i;try{if(f=M.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=M.stateNode;var ae=M.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Se){xt(M,M.return,Se)}}}else if(i.tag===6){if(s===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(Se){xt(M,M.return,Se)}}}else if(i.tag===18){if(s===null){M=i;try{var Z=M.stateNode;h?n0(Z,!0):n0(M.stateNode,!1)}catch(Se){xt(M,M.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rd(t,s))));break;case 19:Jn(i,t),$n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:Jn(i,t),$n(t)}}function $n(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(ib(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=rm(t);nd(t,f,h);break;case 5:var b=s.stateNode;s.flags&32&&(Wn(b,""),s.flags&=-33);var A=rm(t);nd(t,A,b);break;case 3:case 4:var M=s.stateNode.containerInfo,K=rm(t);im(t,K,M);break;default:throw Error(a(161))}}catch(ee){xt(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fb(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ob(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return),js(i);break;case 1:ui(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&nb(i,i.return,s),js(i);break;case 27:tc(i.stateNode);case 26:case 5:ui(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function Gi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,b=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Gl(4,f);break;case 1:if(Gi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){xt(l,l.return,K)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)qy(M[h],A)}catch(K){xt(l,l.return,K)}}s&&b&64&&tb(f),Kl(f,f.return);break;case 27:ab(f);case 26:case 5:Gi(h,f,s),s&&l===null&&b&4&&rb(f),Kl(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&b&4&&ub(h,f);break;case 13:Gi(h,f,s),s&&b&4&&db(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Kl(f,f.return);break;case 30:break;default:Gi(h,f,s)}i=i.sibling}}function sm(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Dl(s))}function om(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t))}function qr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mb(t,i,s,l),i=i.sibling}function mb(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qr(t,i,s,l),h&2048&&Gl(9,i);break;case 1:qr(t,i,s,l);break;case 3:qr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){qr(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,b=f.id,A=f.onPostCommit;typeof A=="function"&&A(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){xt(i,i.return,M)}}else qr(t,i,s,l);break;case 31:qr(t,i,s,l);break;case 13:qr(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,b=i.alternate,i.memoizedState!==null?f._visibility&2?qr(t,i,s,l):Ql(t,i):f._visibility&2?qr(t,i,s,l):(f._visibility|=2,No(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sm(b,i);break;case 24:qr(t,i,s,l),h&2048&&om(i.alternate,i);break;default:qr(t,i,s,l)}}function No(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,b=i,A=s,M=l,K=b.flags;switch(b.tag){case 0:case 11:case 15:No(f,b,A,M,h),Gl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?No(f,b,A,M,h):Ql(f,b):(ee._visibility|=2,No(f,b,A,M,h)),h&&K&2048&&sm(b.alternate,b);break;case 24:No(f,b,A,M,h),h&&K&2048&&om(b.alternate,b);break;default:No(f,b,A,M,h)}i=i.sibling}}function Ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Ql(s,l),h&2048&&sm(l.alternate,l);break;case 24:Ql(s,l),h&2048&&om(l.alternate,l);break;default:Ql(s,l)}i=i.sibling}}var Xl=8192;function Co(t,i,s){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)pb(t,i,s),t=t.sibling}function pb(t,i,s){switch(t.tag){case 26:Co(t,i,s),t.flags&Xl&&t.memoizedState!==null&&E1(s,Hr,t.memoizedState,t.memoizedProps);break;case 5:Co(t,i,s);break;case 3:case 4:var l=Hr;Hr=yd(t.stateNode.containerInfo),Co(t,i,s),Hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Co(t,i,s),Xl=l):Co(t,i,s));break;default:Co(t,i,s)}}function gb(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];bn=l,vb(l,t)}gb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yb(t),t=t.sibling}function yb(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&Ea(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,id(t)):Yl(t);break;default:Yl(t)}}function id(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];bn=l,vb(l,t)}gb(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ea(8,i,i.return),id(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,id(i));break;default:id(i)}t=t.sibling}}function vb(t,i){for(;bn!==null;){var s=bn;switch(s.tag){case 0:case 11:case 15:Ea(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,bn=l;else e:for(s=t;bn!==null;){l=bn;var h=l.sibling,f=l.return;if(lb(l),l===s){bn=null;break e}if(h!==null){h.return=f,bn=h;break e}bn=f}}}var LA={getCacheForType:function(t){var i=An(rn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return An(rn).controller.signal}},UA=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ct=null,tt=null,rt=0,_t=0,mr=null,Ta=!1,Io=!1,lm=!1,Ki=0,Yt=0,Aa=0,Ms=0,cm=0,pr=0,ko=0,Wl=null,er=null,um=!1,ad=0,bb=0,sd=1/0,od=null,Sa=null,mn=0,Ra=null,Do=null,Qi=0,dm=0,hm=null,_b=null,Zl=0,fm=null;function gr(){return(yt&2)!==0&&rt!==0?rt&-rt:q.T!==null?bm():fe()}function xb(){if(pr===0)if((rt&536870912)===0||lt){var t=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),pr=t}else pr=536870912;return t=hr.current,t!==null&&(t.flags|=32),pr}function tr(t,i,s){(t===Ct&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),Na(t,rt,pr,!1)),Jr(t,s),((yt&2)===0||t!==Ct)&&(t===Ct&&((yt&2)===0&&(Ms|=s),Yt===4&&Na(t,rt,pr,!1)),di(t))}function wb(t,i,s){if((yt&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||or(t,i),h=l?FA(t,i):pm(t,i,!0),f=l;do{if(h===0){Io&&!l&&Na(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!BA(s)){h=pm(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var A=t;h=Wl;var M=A.current.memoizedState.isDehydrated;if(M&&(Oo(A,b).flags|=256),b=pm(A,b,!1),b!==2){if(lm&&!M){A.errorRecoveryDisabledLanes|=f,Ms|=f,h=4;break e}f=er,er=h,f!==null&&(er===null?er=f:er.push.apply(er,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){Oo(t,0),Na(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Na(l,i,pr,!Ta);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=ad+300-dt(),10<h)){if(Na(l,i,pr,!Ta),sr(l,0,!0)!==0)break e;Qi=i,l.timeoutHandle=$b(Eb.bind(null,l,s,er,od,um,i,pr,Ms,ko,Ta,f,"Throttled",-0,0),h);break e}Eb(l,s,er,od,um,i,pr,Ms,ko,Ta,f,null,-0,0)}}break}while(!0);di(t)}function Eb(t,i,s,l,h,f,b,A,M,K,ee,ae,Y,Z){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vr},pb(i,f,ae);var Se=(f&62914560)===f?ad-dt():(f&4194048)===f?bb-dt():0;if(Se=T1(ae,Se),Se!==null){Qi=f,t.cancelPendingCommit=Se(kb.bind(null,t,i,f,s,l,h,b,A,M,ee,ae,null,Y,Z)),Na(t,f,b,!K);return}}kb(t,i,f,s,l,h,b,A,M)}function BA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!ur(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Na(t,i,s,l){i&=~cm,i&=~Ms,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-zt(h),b=1<<f;l[f]=-1,h&=~b}s!==0&&Ii(t,s,i)}function ld(){return(yt&6)===0?(Jl(0),!1):!0}function mm(){if(tt!==null){if(_t===0)var t=tt.return;else t=tt,Pi=Ss=null,If(t),Eo=null,jl=0,t=tt;for(;t!==null;)eb(t.alternate,t),t=t.return;tt=null}}function Oo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,s1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qi=0,mm(),Ct=t,tt=s=ji(t.current,null),rt=i,_t=0,mr=null,Ta=!1,Io=or(t,i),lm=!1,ko=pr=cm=Ms=Aa=Yt=0,er=Wl=null,um=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-zt(l),f=1<<h;i|=t[h],l&=~f}return Ki=i,Cu(),s}function Tb(t,i){Qe=null,q.H=Fl,i===wo||i===Vu?(i=By(),_t=3):i===vf?(i=By(),_t=4):_t=i===Kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,tt===null&&(Yt=1,Zu(t,Tr(i,t.current)))}function Ab(){var t=hr.current;return t===null?!0:(rt&4194048)===rt?Nr===null:(rt&62914560)===rt||(rt&536870912)!==0?t===Nr:!1}function Sb(){var t=q.H;return q.H=Fl,t===null?Fl:t}function Rb(){var t=q.A;return q.A=LA,t}function cd(){Yt=4,Ta||(rt&4194048)!==rt&&hr.current!==null||(Io=!0),(Aa&134217727)===0&&(Ms&134217727)===0||Ct===null||Na(Ct,rt,pr,!1)}function pm(t,i,s){var l=yt;yt|=2;var h=Sb(),f=Rb();(Ct!==t||rt!==i)&&(od=null,Oo(t,i)),i=!1;var b=Yt;e:do try{if(_t!==0&&tt!==null){var A=tt,M=mr;switch(_t){case 8:mm(),b=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var K=_t;if(_t=0,mr=null,jo(t,A,M,K),s&&Io){b=0;break e}break;default:K=_t,_t=0,mr=null,jo(t,A,M,K)}}zA(),b=Yt;break}catch(ee){Tb(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ss=null,yt=l,q.H=h,q.A=f,tt===null&&(Ct=null,rt=0,Cu()),b}function zA(){for(;tt!==null;)Nb(tt)}function FA(t,i){var s=yt;yt|=2;var l=Sb(),h=Rb();Ct!==t||rt!==i?(od=null,sd=dt()+500,Oo(t,i)):Io=or(t,i);e:do try{if(_t!==0&&tt!==null){i=tt;var f=mr;t:switch(_t){case 1:_t=0,mr=null,jo(t,i,f,1);break;case 2:case 9:if(Ly(f)){_t=0,mr=null,Cb(i);break}i=function(){_t!==2&&_t!==9||Ct!==t||(_t=7),di(t)},f.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Ly(f)?(_t=0,mr=null,Cb(i)):(_t=0,mr=null,jo(t,i,f,7));break;case 5:var b=null;switch(tt.tag){case 26:b=tt.memoizedState;case 5:case 27:var A=tt;if(b?m0(b):A.stateNode.complete){_t=0,mr=null;var M=A.sibling;if(M!==null)tt=M;else{var K=A.return;K!==null?(tt=K,ud(K)):tt=null}break t}}_t=0,mr=null,jo(t,i,f,5);break;case 6:_t=0,mr=null,jo(t,i,f,6);break;case 8:mm(),Yt=6;break e;default:throw Error(a(462))}}HA();break}catch(ee){Tb(t,ee)}while(!0);return Pi=Ss=null,q.H=l,q.A=h,yt=s,tt!==null?0:(Ct=null,rt=0,Cu(),Yt)}function HA(){for(;tt!==null&&!wn();)Nb(tt)}function Nb(t){var i=Jv(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?ud(t):tt=i}function Cb(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Kv(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=Kv(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:If(i);default:eb(s,i),i=tt=Ry(i,Ki),i=Jv(s,i,Ki)}t.memoizedProps=t.pendingProps,i===null?ud(t):tt=i}function jo(t,i,s,l){Pi=Ss=null,If(i),Eo=null,jl=0;var h=i.return;try{if(kA(t,h,i,s,rt)){Yt=1,Zu(t,Tr(s,t.current)),tt=null;return}}catch(f){if(h!==null)throw tt=h,f;Yt=1,Zu(t,Tr(s,t.current)),tt=null;return}i.flags&32768?(lt||l===1?t=!0:Io||(rt&536870912)!==0?t=!1:(Ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ib(i,t)):ud(i)}function ud(t){var i=t;do{if((i.flags&32768)!==0){Ib(i,Ta);return}t=i.return;var s=jA(i.alternate,i,Ki);if(s!==null){tt=s;return}if(i=i.sibling,i!==null){tt=i;return}tt=i=t}while(i!==null);Yt===0&&(Yt=5)}function Ib(t,i){do{var s=MA(t.alternate,t);if(s!==null){s.flags&=32767,tt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){tt=t;return}tt=t=s}while(t!==null);Yt=6,tt=null}function kb(t,i,s,l,h,f,b,A,M){t.cancelPendingCommit=null;do dd();while(mn!==0);if((yt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=nf,gl(t,s,f,b,A,M),t===Ct&&(tt=Ct=null,rt=0),Do=i,Ra=t,Qi=s,dm=f,hm=h,_b=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QA(Bt,function(){return Pb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=se.p,se.p=2,b=yt,yt|=4;try{PA(t,i,s)}finally{yt=b,se.p=h,q.T=l}}mn=1,Db(),Ob(),jb()}}function Db(){if(mn===1){mn=0;var t=Ra,i=Do,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=se.p;se.p=2;var h=yt;yt|=4;try{hb(i,t);var f=Rm,b=vy(t.containerInfo),A=f.focusedElem,M=f.selectionRange;if(b!==A&&A&&A.ownerDocument&&yy(A.ownerDocument.documentElement,A)){if(M!==null&&Zh(A)){var K=M.start,ee=M.end;if(ee===void 0&&(ee=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ee,A.value.length);else{var ae=A.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),Se=A.textContent.length,Le=Math.min(M.start,Se),Rt=M.end===void 0?Le:Math.min(M.end,Se);!Z.extend&&Le>Rt&&(b=Rt,Rt=Le,Le=b);var z=gy(A,Le),L=gy(A,Rt);if(z&&L&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var G=ae.createRange();G.setStart(z.node,z.offset),Z.removeAllRanges(),Le>Rt?(Z.addRange(G),Z.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Z.addRange(G))}}}}for(ae=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ed=!!Sm,Rm=Sm=null}finally{yt=h,se.p=l,q.T=s}}t.current=i,mn=2}}function Ob(){if(mn===2){mn=0;var t=Ra,i=Do,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=se.p;se.p=2;var h=yt;yt|=4;try{ob(t,i.alternate,i)}finally{yt=h,se.p=l,q.T=s}}mn=3}}function jb(){if(mn===4||mn===3){mn=0,hn();var t=Ra,i=Do,s=Qi,l=_b;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Do=Ra=null,Mb(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sa=null),ce(s),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ar,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=se.p,se.p=2,q.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var A=l[b];f(A.value,{componentStack:A.stack})}}finally{q.T=i,se.p=h}}(Qi&3)!==0&&dd(),di(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===fm?Zl++:(Zl=0,fm=t):Zl=0,Jl(0)}}function Mb(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Dl(i)))}function dd(){return Db(),Ob(),jb(),Pb()}function Pb(){if(mn!==5)return!1;var t=Ra,i=dm;dm=0;var s=ce(Qi),l=q.T,h=se.p;try{se.p=32>s?32:s,q.T=null,s=hm,hm=null;var f=Ra,b=Qi;if(mn=0,Do=Ra=null,Qi=0,(yt&6)!==0)throw Error(a(331));var A=yt;if(yt|=4,yb(f.current),mb(f,f.current,b,s),yt=A,Jl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ar,f)}catch{}return!0}finally{se.p=h,q.T=l,Mb(t,i)}}function Vb(t,i,s){i=Tr(s,i),i=Gf(t.stateNode,i,2),t=_a(t,i,2),t!==null&&(Jr(t,2),di(t))}function xt(t,i,s){if(t.tag===3)Vb(t,t,s);else for(;i!==null;){if(i.tag===3){Vb(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sa===null||!Sa.has(l))){t=Tr(s,t),s=Lv(2),l=_a(i,s,2),l!==null&&(Uv(s,l,i,t),Jr(l,2),di(l));break}}i=i.return}}function gm(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new UA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(lm=!0,h.add(s),t=qA.bind(null,t,i,s),i.then(t,t))}function qA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ct===t&&(rt&s)===s&&(Yt===4||Yt===3&&(rt&62914560)===rt&&300>dt()-ad?(yt&2)===0&&Oo(t,0):cm|=s,ko===rt&&(ko=0)),di(t)}function Lb(t,i){i===0&&(i=Ci()),t=Es(t,i),t!==null&&(Jr(t,i),di(t))}function GA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Lb(t,s)}function KA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Lb(t,s)}function QA(t,i){return ye(t,i)}var hd=null,Mo=null,ym=!1,fd=!1,vm=!1,Ca=0;function di(t){t!==Mo&&t.next===null&&(Mo===null?hd=Mo=t:Mo=Mo.next=t),fd=!0,ym||(ym=!0,YA())}function Jl(t,i){if(!vm&&fd){vm=!0;do for(var s=!1,l=hd;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=h&~(b&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Fb(l,f))}else f=rt,f=sr(l,l===Ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||or(l,f)||(s=!0,Fb(l,f));l=l.next}while(s);vm=!1}}function XA(){Ub()}function Ub(){fd=ym=!1;var t=0;Ca!==0&&a1()&&(t=Ca);for(var i=dt(),s=null,l=hd;l!==null;){var h=l.next,f=Bb(l,i);f===0?(l.next=null,s===null?hd=h:s.next=h,h===null&&(Mo=s)):(s=l,(t!==0||(f&3)!==0)&&(fd=!0)),l=h}mn!==0&&mn!==5||Jl(t),Ca!==0&&(Ca=0)}function Bb(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-zt(f),A=1<<b,M=h[b];M===-1?((A&s)===0||(A&l)!==0)&&(h[b]=to(A,i)):M<=i&&(t.expiredLanes|=A),f&=~A}if(i=Ct,s=rt,s=sr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Mt(l),ce(s)){case 2:case 8:s=Bn;break;case 32:s=Bt;break;case 268435456:s=Ri;break;default:s=Bt}return l=zb.bind(null,t),s=ye(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Mt(l),t.callbackPriority=2,t.callbackNode=null,2}function zb(t,i){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dd()&&t.callbackNode!==s)return null;var l=rt;return l=sr(t,t===Ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wb(t,l,i),Bb(t,dt()),t.callbackNode!=null&&t.callbackNode===s?zb.bind(null,t):null)}function Fb(t,i){if(dd())return null;wb(t,i,!0)}function YA(){o1(function(){(yt&6)!==0?ye(Un,XA):Ub()})}function bm(){if(Ca===0){var t=_o;t===0&&(t=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Ca=t}return Ca}function Hb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function qb(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function WA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Hb((h[be]||null).action),b=l.submitter;b&&(i=(i=b[be]||null)?Hb(i.formAction):b.getAttribute("formAction"),i!==null&&(f=i,b=null));var A=new ii("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var M=b?qb(h,b):new FormData(h);Uf(s,{pending:!0,data:M,method:h.method,action:f},null,M)}}else typeof f=="function"&&(A.preventDefault(),M=b?qb(h,b):new FormData(h),Uf(s,{pending:!0,data:M,method:h.method,action:f},f,M))},currentTarget:h}]})}}for(var _m=0;_m<tf.length;_m++){var xm=tf[_m],ZA=xm.toLowerCase(),JA=xm[0].toUpperCase()+xm.slice(1);Fr(ZA,"on"+JA)}Fr(xy,"onAnimationEnd"),Fr(wy,"onAnimationIteration"),Fr(Ey,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(mA,"onTransitionRun"),Fr(pA,"onTransitionStart"),Fr(gA,"onTransitionCancel"),Fr(Ty,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Gb(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var b=l.length-1;0<=b;b--){var A=l[b],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=K;try{f(h)}catch(ee){Nu(ee)}h.currentTarget=null,f=M}else for(b=0;b<l.length;b++){if(A=l[b],M=A.instance,K=A.currentTarget,A=A.listener,M!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=K;try{f(h)}catch(ee){Nu(ee)}h.currentTarget=null,f=M}}}}function nt(t,i){var s=i[je];s===void 0&&(s=i[je]=new Set);var l=t+"__bubble";s.has(l)||(Kb(i,t,2,!1),s.add(l))}function wm(t,i,s){var l=0;i&&(l|=4),Kb(s,t,l,i)}var md="_reactListening"+Math.random().toString(36).slice(2);function Em(t){if(!t[md]){t[md]=!0,Qn.forEach(function(s){s!=="selectionchange"&&($A.has(s)||wm(s,!1,t),wm(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[md]||(i[md]=!0,wm("selectionchange",!1,i))}}function Kb(t,i,s,l){switch(x0(i)){case 2:var h=R1;break;case 8:h=N1;break;default:h=Lm}s=h.bind(null,i,s,t),h=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Tm(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var A=l.stateNode.containerInfo;if(A===h)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;A!==null;){if(b=It(A),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=f=b;continue e}A=A.parentNode}}l=l.return}ua(function(){var K=f,ee=_r(s),ae=[];e:{var Y=Ay.get(t);if(Y!==void 0){var Z=ii,Se=t;switch(t){case"keypress":if(ys(s)===0)break e;case"keydown":case"keyup":Z=Au;break;case"focusin":Se="focus",Z=bs;break;case"focusout":Se="blur",Z=bs;break;case"beforeblur":case"afterblur":Z=bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case xy:case wy:case Ey:Z=vu;break;case Ty:Z=S;break;case"scroll":case"scrollend":Z=El;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Oi;break;case"toggle":case"beforetoggle":Z=Ke}var Le=(i&4)!==0,Rt=!Le&&(t==="scroll"||t==="scrollend"),z=Le?Y!==null?Y+"Capture":null:Y;Le=[];for(var L=K,G;L!==null;){var re=L;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||z===null||(re=Lr(L,z),re!=null&&Le.push(ec(L,re,G))),Rt)break;L=L.return}0<Le.length&&(Y=new Z(Y,Se,null,s,ee),ae.push({event:Y,listeners:Le}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Y&&s!==_l&&(Se=s.relatedTarget||s.fromElement)&&(It(Se)||Se[Re]))break e;if((Z||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(Se=s.relatedTarget||s.toElement,Z=K,Se=Se?It(Se):null,Se!==null&&(Rt=c(Se),Le=Se.tag,Se!==Rt||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(Z=null,Se=K),Z!==Se)){if(Le=Tl,re="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Le=Oi,re="onPointerLeave",z="onPointerEnter",L="pointer"),Rt=Z==null?Y:kt(Z),G=Se==null?Y:kt(Se),Y=new Le(re,L+"leave",Z,s,ee),Y.target=Rt,Y.relatedTarget=G,re=null,It(ee)===K&&(Le=new Le(z,L+"enter",Se,s,ee),Le.target=G,Le.relatedTarget=Rt,re=Le),Rt=re,Z&&Se)t:{for(Le=e1,z=Z,L=Se,G=0,re=z;re;re=Le(re))G++;re=0;for(var Me=L;Me;Me=Le(Me))re++;for(;0<G-re;)z=Le(z),G--;for(;0<re-G;)L=Le(L),re--;for(;G--;){if(z===L||L!==null&&z===L.alternate){Le=z;break t}z=Le(z),L=Le(L)}Le=null}else Le=null;Z!==null&&Qb(ae,Y,Z,Le,!1),Se!==null&&Rt!==null&&Qb(ae,Rt,Se,Le,!0)}}e:{if(Y=K?kt(K):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var ht=uy;else if(ly(Y))if(dy)ht=dA;else{ht=cA;var Ce=lA}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&ro(K.elementType)&&(ht=uy):ht=uA;if(ht&&(ht=ht(t,K))){cy(ae,ht,s,ee);break e}Ce&&Ce(t,Y,K),t==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&yl(Y,"number",Y.value)}switch(Ce=K?kt(K):window,t){case"focusin":(ly(Ce)||Ce.contentEditable==="true")&&(ho=Ce,Jh=K,Cl=null);break;case"focusout":Cl=Jh=ho=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,by(ae,s,ee);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":by(ae,s,ee)}var We;if(gt)e:{switch(t){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else uo?_s(t,s)&&(it="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(it="onCompositionStart");it&&(oi&&s.locale!=="ko"&&(uo||it!=="onCompositionStart"?it==="onCompositionEnd"&&uo&&(We=wl()):(ri=ee,xl="value"in ri?ri.value:ri.textContent,uo=!0)),Ce=pd(K,it),0<Ce.length&&(it=new si(it,t,null,s,ee),ae.push({event:it,listeners:Ce}),We?it.data=We:(We=co(s),We!==null&&(it.data=We)))),(We=wr?iA(t,s):aA(t,s))&&(it=pd(K,"onBeforeInput"),0<it.length&&(Ce=new si("onBeforeInput","beforeinput",null,s,ee),ae.push({event:Ce,listeners:it}),Ce.data=We)),WA(ae,t,K,s,ee)}Gb(ae,i)})}function ec(t,i,s){return{instance:t,listener:i,currentTarget:s}}function pd(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Lr(t,s),h!=null&&l.unshift(ec(t,h,f)),h=Lr(t,i),h!=null&&l.push(ec(t,h,f))),t.tag===3)return l;t=t.return}return[]}function e1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qb(t,i,s,l,h){for(var f=i._reactName,b=[];s!==null&&s!==l;){var A=s,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===l)break;A!==5&&A!==26&&A!==27||K===null||(M=K,h?(K=Lr(s,f),K!=null&&b.unshift(ec(s,K,M))):h||(K=Lr(s,f),K!=null&&b.push(ec(s,K,M)))),s=s.return}b.length!==0&&t.push({event:i,listeners:b})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function Xb(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(n1,"")}function Yb(t,i){return i=Xb(i),Xb(t)===i}function St(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Wn(t,""+l);break;case"className":nn(t,"class",l);break;case"tabIndex":nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nn(t,s,l);break;case"style":bl(t,l,f);break;case"data":if(i!=="object"){nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&St(t,i,"name",h.name,h,null),St(t,i,"formEncType",h.formEncType,h,null),St(t,i,"formMethod",h.formMethod,h,null),St(t,i,"formTarget",h.formTarget,h,null)):(St(t,i,"encType",h.encType,h,null),St(t,i,"method",h.method,h,null),St(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Vr);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=io(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":nt("beforetoggle",t),nt("toggle",t),Kt(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kt(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pu.get(s)||s,Kt(t,s,l))}}function Am(t,i,s,l,h,f){switch(s){case"style":bl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[be]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Kt(t,s,l)}}}function Rn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var b=s[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,f,b,s,null)}}h&&St(t,i,"srcSet",s.srcSet,s,null),l&&St(t,i,"src",s.src,s,null);return;case"input":nt("invalid",t);var A=f=b=h=null,M=null,K=null;for(l in s)if(s.hasOwnProperty(l)){var ee=s[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":b=ee;break;case"checked":M=ee;break;case"defaultChecked":K=ee;break;case"value":f=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:St(t,i,l,ee,s,null)}}hu(t,f,A,M,K,b,h,!1);return;case"select":nt("invalid",t),l=b=f=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":b=A;break;case"multiple":l=A;default:St(t,i,h,A,s,null)}i=f,s=b,t.multiple=!!l,i!=null?sa(t,!!l,i,!1):s!=null&&sa(t,!!l,s,!0);return;case"textarea":nt("invalid",t),f=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(A=s[b],A!=null))switch(b){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:St(t,i,b,A,s,null)}oa(t,l,h,f);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":St(t,i,M,l,s,null));return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)nt($l[l],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(l=s[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,K,l,s,null)}return;default:if(ro(i)){for(ee in s)s.hasOwnProperty(ee)&&(l=s[ee],l!==void 0&&Am(t,i,ee,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&St(t,i,A,l,s,null))}function r1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,A=null,M=null,K=null,ee=null;for(Z in s){var ae=s[Z];if(s.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=ae;default:l.hasOwnProperty(Z)||St(t,i,Z,null,l,ae)}}for(var Y in l){var Z=l[Y];if(ae=s[Y],l.hasOwnProperty(Y)&&(Z!=null||ae!=null))switch(Y){case"type":f=Z;break;case"name":h=Z;break;case"checked":K=Z;break;case"defaultChecked":ee=Z;break;case"value":b=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Z!==ae&&St(t,i,Y,Z,l,ae)}}no(t,b,A,M,K,ee,f,h);return;case"select":Z=b=A=Y=null;for(f in s)if(M=s[f],s.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":Z=M;default:l.hasOwnProperty(f)||St(t,i,f,null,l,M)}for(h in l)if(f=l[h],M=s[h],l.hasOwnProperty(h)&&(f!=null||M!=null))switch(h){case"value":Y=f;break;case"defaultValue":A=f;break;case"multiple":b=f;default:f!==M&&St(t,i,h,f,l,M)}i=A,s=b,l=Z,Y!=null?sa(t,!!s,Y,!1):!!l!=!!s&&(i!=null?sa(t,!!s,i,!0):sa(t,!!s,s?[]:"",!1));return;case"textarea":Z=Y=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:St(t,i,A,null,l,h)}for(b in l)if(h=l[b],f=s[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":Y=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&St(t,i,b,h,l,f)}fu(t,Y,Z);return;case"option":for(var Se in s)Y=s[Se],s.hasOwnProperty(Se)&&Y!=null&&!l.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:St(t,i,Se,null,l,Y));for(M in l)Y=l[M],Z=s[M],l.hasOwnProperty(M)&&Y!==Z&&(Y!=null||Z!=null)&&(M==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":St(t,i,M,Y,l,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in s)Y=s[Le],s.hasOwnProperty(Le)&&Y!=null&&!l.hasOwnProperty(Le)&&St(t,i,Le,null,l,Y);for(K in l)if(Y=l[K],Z=s[K],l.hasOwnProperty(K)&&Y!==Z&&(Y!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:St(t,i,K,Y,l,Z)}return;default:if(ro(i)){for(var Rt in s)Y=s[Rt],s.hasOwnProperty(Rt)&&Y!==void 0&&!l.hasOwnProperty(Rt)&&Am(t,i,Rt,void 0,l,Y);for(ee in l)Y=l[ee],Z=s[ee],!l.hasOwnProperty(ee)||Y===Z||Y===void 0&&Z===void 0||Am(t,i,ee,Y,l,Z);return}}for(var z in s)Y=s[z],s.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&St(t,i,z,null,l,Y);for(ae in l)Y=l[ae],Z=s[ae],!l.hasOwnProperty(ae)||Y===Z||Y==null&&Z==null||St(t,i,ae,Y,l,Z)}function Wb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,b=h.initiatorType,A=h.duration;if(f&&A&&Wb(b)){for(b=0,A=h.responseEnd,l+=1;l<s.length;l++){var M=s[l],K=M.startTime;if(K>A)break;var ee=M.transferSize,ae=M.initiatorType;ee&&Wb(ae)&&(M=M.responseEnd,b+=ee*(M<A?1:(A-K)/(M-K)))}if(--l,i+=8*(f+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sm=null,Rm=null;function gd(t){return t.nodeType===9?t:t.ownerDocument}function Zb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jb(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cm=null;function a1(){var t=window.event;return t&&t.type==="popstate"?t===Cm?!1:(Cm=t,!0):(Cm=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,s1=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(l1)}:$b;function l1(t){setTimeout(function(){throw t})}function Ia(t){return t==="head"}function t0(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Uo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")tc(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,tc(s);for(var f=s.firstChild;f;){var b=f.nextSibling,A=f.nodeName;f[wt]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=b}}else s==="body"&&tc(t.ownerDocument.body);s=h}while(s);Uo(i)}function n0(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Im(s),Pt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function c1(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cr(t.nextSibling),t===null)break}return null}function u1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Cr(t.nextSibling),t===null))return null;return t}function r0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cr(t.nextSibling),t===null))return null;return t}function km(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function d1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Om=null;function i0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Cr(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function a0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function s0(t,i,s){switch(i=gd(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function tc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pt(t)}var Ir=new Map,o0=new Set;function yd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=se.d;se.d={f:h1,r:f1,D:m1,C:p1,L:g1,m:y1,X:b1,S:v1,M:_1};function h1(){var t=Xi.f(),i=ld();return t||i}function f1(t){var i=Xe(t);i!==null&&i.tag===5&&i.type==="form"?Tv(i):Xi.r(t)}var Po=typeof document>"u"?null:document;function l0(t,i,s){var l=Po;if(l&&typeof i=="string"&&i){var h=Yn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o0.has(h)||(o0.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Rn(i,"link",t),Dt(i),l.head.appendChild(i)))}}function m1(t){Xi.D(t),l0("dns-prefetch",t,null)}function p1(t,i){Xi.C(t,i),l0("preconnect",t,i)}function g1(t,i,s){Xi.L(t,i,s);var l=Po;if(l&&t&&i){var h='link[rel="preload"][as="'+Yn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Yn(s.imageSizes)+'"]')):h+='[href="'+Yn(t)+'"]';var f=h;switch(i){case"style":f=Vo(t);break;case"script":f=Lo(t)}Ir.has(f)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ir.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(nc(f))||i==="script"&&l.querySelector(rc(f))||(i=l.createElement("link"),Rn(i,"link",t),Dt(i),l.head.appendChild(i)))}}function y1(t,i){Xi.m(t,i);var s=Po;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Yn(l)+'"][href="'+Yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lo(t)}if(!Ir.has(f)&&(t=w({rel:"modulepreload",href:t},i),Ir.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rc(f)))return}l=s.createElement("link"),Rn(l,"link",t),Dt(l),s.head.appendChild(l)}}}function v1(t,i,s){Xi.S(t,i,s);var l=Po;if(l&&t){var h=vn(l).hoistableStyles,f=Vo(t);i=i||"default";var b=h.get(f);if(!b){var A={loading:0,preload:null};if(b=l.querySelector(nc(f)))A.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ir.get(f))&&jm(t,s);var M=b=l.createElement("link");Dt(M),Rn(M,"link",t),M._p=new Promise(function(K,ee){M.onload=K,M.onerror=ee}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vd(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:A},h.set(f,b)}}}function b1(t,i){Xi.X(t,i);var s=Po;if(s&&t){var l=vn(s).hoistableScripts,h=Lo(t),f=l.get(h);f||(f=s.querySelector(rc(h)),f||(t=w({src:t,async:!0},i),(i=Ir.get(h))&&Mm(t,i),f=s.createElement("script"),Dt(f),Rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _1(t,i){Xi.M(t,i);var s=Po;if(s&&t){var l=vn(s).hoistableScripts,h=Lo(t),f=l.get(h);f||(f=s.querySelector(rc(h)),f||(t=w({src:t,async:!0,type:"module"},i),(i=Ir.get(h))&&Mm(t,i),f=s.createElement("script"),Dt(f),Rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c0(t,i,s,l){var h=(h=Oe.current)?yd(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Vo(s.href),s=vn(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Vo(s.href);var f=vn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(nc(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Ir.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ir.set(t,s),f||x1(h,t,s,b.state))),i&&l===null)throw Error(a(528,""));return b}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lo(s),s=vn(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Vo(t){return'href="'+Yn(t)+'"'}function nc(t){return'link[rel="stylesheet"]['+t+"]"}function u0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function x1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Rn(i,"link",s),Dt(i),t.head.appendChild(i))}function Lo(t){return'[src="'+Yn(t)+'"]'}function rc(t){return"script[async]"+t}function d0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Yn(s.href)+'"]');if(l)return i.instance=l,Dt(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Rn(l,"style",h),vd(l,s.precedence,t),i.instance=l;case"stylesheet":h=Vo(s.href);var f=t.querySelector(nc(h));if(f)return i.state.loading|=4,i.instance=f,Dt(f),f;l=u0(s),(h=Ir.get(h))&&jm(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var b=f;return b._p=new Promise(function(A,M){b.onload=A,b.onerror=M}),Rn(f,"link",l),i.state.loading|=4,vd(f,s.precedence,t),i.instance=f;case"script":return f=Lo(s.src),(h=t.querySelector(rc(f)))?(i.instance=h,Dt(h),h):(l=s,(h=Ir.get(f))&&(l=w({},s),Mm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Rn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,vd(l,s.precedence,t));return i.instance}function vd(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var A=l[b];if(A.dataset.precedence===i)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function jm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bd=null;function h0(t,i,s){if(bd===null){var l=new Map,h=bd=new Map;h.set(s,l)}else h=bd,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[wt]||f[ge]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(i)||"";b=t+b;var A=l.get(b);A?A.push(f):l.set(b,[f])}}return l}function f0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function w1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function E1(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Vo(l.href),f=i.querySelector(nc(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=_d.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=f,Dt(f);return}f=i.ownerDocument||i,l=u0(l),(h=Ir.get(h))&&jm(l,h),f=f.createElement("link"),Dt(f);var b=f;b._p=new Promise(function(A,M){b.onload=A,b.onerror=M}),Rn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_d.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Pm=0;function T1(t,i){return t.stylesheets&&t.count===0&&wd(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&wd(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Pm===0&&(Pm=62500*i1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wd(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Pm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xd=null;function wd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xd=new Map,i.forEach(A1,t),xd=null,_d.call(t))}function A1(t,i){if(!(i.state.loading&4)){var s=xd.get(t);if(s)var l=s.get(null);else{s=new Map,xd.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),f=s.get(b)||l,f===l&&s.set(null,h),s.set(b,h),this.count++,l=_d.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ic={$$typeof:le,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function S1(t,i,s,l,h,f,b,A,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function p0(t,i,s,l,h,f,b,A,M,K,ee,ae){return t=new S1(t,i,s,b,M,K,ee,ae,A),i=1,f===!0&&(i|=24),f=dr(3,null,null,i),t.current=f,f.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},bf(f),t}function g0(t){return t?(t=po,t):po}function y0(t,i,s,l,h,f){h=g0(h),l.context===null?l.context=h:l.pendingContext=h,l=ba(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=_a(t,l,i),s!==null&&(tr(s,t,i),Pl(s,t,i))}function v0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Vm(t,i){v0(t,i),(t=t.alternate)&&v0(t,i)}function b0(t){if(t.tag===13||t.tag===31){var i=Es(t,67108864);i!==null&&tr(i,t,67108864),Vm(t,67108864)}}function _0(t){if(t.tag===13||t.tag===31){var i=gr();i=X(i);var s=Es(t,i);s!==null&&tr(s,t,i),Vm(t,i)}}var Ed=!0;function R1(t,i,s,l){var h=q.T;q.T=null;var f=se.p;try{se.p=2,Lm(t,i,s,l)}finally{se.p=f,q.T=h}}function N1(t,i,s,l){var h=q.T;q.T=null;var f=se.p;try{se.p=8,Lm(t,i,s,l)}finally{se.p=f,q.T=h}}function Lm(t,i,s,l){if(Ed){var h=Um(l);if(h===null)Tm(t,i,l,Td,s),w0(t,l);else if(I1(h,t,i,s,l))l.stopPropagation();else if(w0(t,l),i&4&&-1<C1.indexOf(t)){for(;h!==null;){var f=Xe(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=br(f.pendingLanes);if(b!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var M=1<<31-zt(b);A.entanglements[1]|=M,b&=~M}di(f),(yt&6)===0&&(sd=dt()+500,Jl(0))}}break;case 31:case 13:A=Es(f,2),A!==null&&tr(A,f,2),ld(),Vm(f,2)}if(f=Um(l),f===null&&Tm(t,i,l,Td,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Tm(t,i,l,null,s)}}function Um(t){return t=_r(t),Bm(t)}var Td=null;function Bm(t){if(Td=null,t=It(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=u(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Td=t,null}function x0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Un:return 2;case Bn:return 8;case Bt:case zn:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var zm=!1,ka=null,Da=null,Oa=null,ac=new Map,sc=new Map,ja=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(t,i){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":ac.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function oc(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Xe(i),i!==null&&b0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function I1(t,i,s,l,h){switch(i){case"focusin":return ka=oc(ka,t,i,s,l,h),!0;case"dragenter":return Da=oc(Da,t,i,s,l,h),!0;case"mouseover":return Oa=oc(Oa,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return ac.set(f,oc(ac.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,sc.set(f,oc(sc.get(f)||null,t,i,s,l,h)),!0}return!1}function E0(t){var i=It(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){t.blockedOn=i,xe(t.priority,function(){_0(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,xe(t.priority,function(){_0(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Um(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);_l=l,s.target.dispatchEvent(l),_l=null}else return i=Xe(s),i!==null&&b0(i),t.blockedOn=s,!1;i.shift()}return!0}function T0(t,i,s){Ad(t)&&s.delete(i)}function k1(){zm=!1,ka!==null&&Ad(ka)&&(ka=null),Da!==null&&Ad(Da)&&(Da=null),Oa!==null&&Ad(Oa)&&(Oa=null),ac.forEach(T0),sc.forEach(T0)}function Sd(t,i){t.blockedOn===i&&(t.blockedOn=null,zm||(zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,k1)))}var Rd=null;function A0(t){Rd!==t&&(Rd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rd===t&&(Rd=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Bm(l||s)===null)continue;break}var f=Xe(s);f!==null&&(t.splice(i,3),i-=3,Uf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Uo(t){function i(M){return Sd(M,t)}ka!==null&&Sd(ka,t),Da!==null&&Sd(Da,t),Oa!==null&&Sd(Oa,t),ac.forEach(i),sc.forEach(i);for(var s=0;s<ja.length;s++){var l=ja[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ja.length&&(s=ja[0],s.blockedOn===null);)E0(s),s.blockedOn===null&&ja.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],b=h[be]||null;if(typeof f=="function")b||A0(s);else if(b){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[be]||null)A=b.formAction;else if(Bm(h)!==null)continue}else A=b.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),A0(s)}}}function S0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Fm(t){this._internalRoot=t}Nd.prototype.render=Fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=gr();y0(s,l,t,i,null,null)},Nd.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;y0(t.current,2,null,t,null,null),ld(),i[Re]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var i=fe();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ja.length&&i!==0&&i<ja[s].priority;s++);ja.splice(s,0,t),s===0&&E0(t)}};var R0=e.version;if(R0!=="19.2.4")throw Error(a(527,R0,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var D1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{ar=Cd.inject(D1),Nt=Cd}catch{}}return cc.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=jv,f=Mv,b=Pv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=p0(t,1,!1,null,null,s,l,null,h,f,b,S0),t[Re]=i.current,Em(t),new Fm(i)},cc.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=jv,b=Mv,A=Pv,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),i=p0(t,1,!0,i,s??null,l,h,M,f,b,A,S0),i.context=g0(null),s=i.current,l=gr(),l=X(l),h=ba(l),h.callback=null,_a(s,h,l),s=l,i.current.lanes=s,Jr(i,s),di(i),t[Re]=i.current,Em(t),new Nd(i)},cc.version="19.2.4",cc}var V0;function G1(){if(V0)return Gm.exports;V0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=q1(),Gm.exports}var K1=G1();var Yx=r=>{throw TypeError(r)},Q1=(r,e,n)=>e.has(r)||Yx("Cannot "+n),Ym=(r,e,n)=>(Q1(r,e,"read from private field"),n?n.call(r):e.get(r)),X1=(r,e,n)=>e.has(r)?Yx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),L0="popstate";function Y1(r={}){function e(a,o){let{pathname:c,search:u,hash:m}=a.location;return Ic("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:xi(o)}return Z1(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substring(2,10)}function U0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ic(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:n,key:e&&e.key||a||W1()}}function xi({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function is(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Z1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,u=o.history,m="POP",y=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function w(){m="POP";let Q=_(),ne=Q==null?null:Q-g;g=Q,y&&y({action:m,location:F.location,delta:ne})}function T(Q,ne){m="PUSH";let $=Ic(F.location,Q,ne);g=_()+1;let le=U0($,g),Ne=F.createHref($);try{u.pushState(le,"",Ne)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(Ne)}c&&y&&y({action:m,location:F.location,delta:1})}function N(Q,ne){m="REPLACE";let $=Ic(F.location,Q,ne);g=_();let le=U0($,g),Ne=F.createHref($);u.replaceState(le,"",Ne),c&&y&&y({action:m,location:F.location,delta:0})}function k(Q){return Wx(Q)}let F={get action(){return m},get location(){return r(o,u)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(L0,w),y=Q,()=>{o.removeEventListener(L0,w),y=null}},createHref(Q){return e(o,Q)},createURL:k,encodeLocation(Q){let ne=k(Q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:T,replace:N,go(Q){return u.go(Q)}};return F}function Wx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:xi(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var pc,B0=class{constructor(r){if(X1(this,pc,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Ym(this,pc).has(r))return Ym(this,pc).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Ym(this,pc).set(r,e)}};pc=new WeakMap;var J1=new Set(["lazy","caseSensitive","path","id","index","children"]);function $1(r){return J1.has(r)}var eS=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function tS(r){return eS.has(r)}function nS(r){return r.index===!0}function kc(r,e,n=[],a={},o=!1){return r.map((c,u)=>{let m=[...n,String(u)],y=typeof c.id=="string"?c.id:m.join("-");if(Je(c.index!==!0||!c.children,"Cannot specify children on an index route"),Je(o||!a[y],`Found a route id collision on id "${y}".  Route id's must be globally unique within Data Router usages`),nS(c)){let g={...c,id:y};return a[y]=z0(g,e(g)),g}else{let g={...c,id:y,children:void 0};return a[y]=z0(g,e(g)),c.children&&(g.children=kc(c.children,e,m,a,o)),g}})}function z0(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function Va(r,e,n="/"){return gc(r,e,n,!1)}function gc(r,e,n,a){let o=typeof e=="string"?is(e):e,c=jr(o.pathname||"/",n);if(c==null)return null;let u=Zx(r);iS(u);let m=null;for(let y=0;m==null&&y<u.length;++y){let g=pS(c);m=fS(u[y],g,a)}return m}function rS(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Zx(r,e=[],n=[],a="",o=!1){let c=(u,m,y=o,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&y)return;Je(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let w=fi([a,_.relativePath]),T=n.concat(_);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Zx(u.children,e,T,w,y)),!(u.path==null&&!u.index)&&e.push({path:w,score:dS(w,u.index),routesMeta:T})};return r.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let y of Jx(u.path))c(u,m,!0,y)}),e}function Jx(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let u=Jx(a.join("/")),m=[];return m.push(...u.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...u),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function iS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:hS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var aS=/^:[\w-]+$/,sS=3,oS=2,lS=1,cS=10,uS=-2,F0=r=>r==="*";function dS(r,e){let n=r.split("/"),a=n.length;return n.some(F0)&&(a+=uS),e&&(a+=oS),n.filter(o=>!F0(o)).reduce((o,c)=>o+(aS.test(c)?sS:c===""?lS:cS),a)}function hS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function fS(r,e,n=!1){let{routesMeta:a}=r,o={},c="/",u=[];for(let m=0;m<a.length;++m){let y=a[m],g=m===a.length-1,_=c==="/"?e:e.slice(c.length)||"/",w=th({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},_),T=y.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=th({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:fi([c,w.pathname]),pathnameBase:vS(fi([c,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(c=fi([c,w.pathnameBase]))}return u}function th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=mS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:w},T)=>{if(_==="*"){let k=m[T]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const N=m[T];return w&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:r}}function mS(r,e=!1,n=!0){dn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function pS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function gS({basename:r,pathname:e}){return e==="/"?r:fi([r,e])}var $x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yp=r=>$x.test(r);function yS(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?is(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=H0(n.substring(1),"/"):c=H0(n,e)):c=e,{pathname:c,search:bS(a),hash:_S(o)}}function H0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ew(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wp(r){let e=ew(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Zp(r,e,n,a=!1){let o;typeof r=="string"?o=is(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Wm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Wm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Wm("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let w=e.length-1;if(!a&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}m=w>=0?e[w]:"/"}let y=yS(o,m),g=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||_)&&(y.pathname+="/"),y}var fi=r=>r.join("/").replace(/\/\/+/g,"/"),vS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_S=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Kc=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Dc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Qc(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nw(r,e){let n=r;if(typeof n!="string"||!$x.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(tw)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=jr(u.pathname,e);u.origin===c.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}var Ha=Symbol("Uninstrumented");function xS(r,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(c){let u=Object.keys(n);for(let m of u)c[m]&&n[m].push(c[m])}}));let a={};if(typeof e.lazy=="function"&&n.lazy.length>0){let o=Go(n.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(c=>{let u=o[c],m=n[`lazy.${c}`];if(typeof u=="function"&&m.length>0){let y=Go(m,u,()=>{});y&&(a.lazy=Object.assign(a.lazy||{},{[c]:y}))}})}return["loader","action"].forEach(o=>{let c=e[o];if(typeof c=="function"&&n[o].length>0){let u=c[Ha]??c,m=Go(n[o],u,(...y)=>q0(y[0]));m&&(o==="loader"&&u.hydrate===!0&&(m.hydrate=!0),m[Ha]=u,a[o]=m)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let c=o[Ha]??o,u=Go(n.middleware,c,(...m)=>q0(m[0]));return u?(u[Ha]=c,u):o})),a}function wS(r,e){let n={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let c=Object.keys(o);for(let u of c)o[u]&&n[u].push(o[u])}})),n.navigate.length>0){let a=r.navigate[Ha]??r.navigate,o=Go(n.navigate,a,(...c)=>{let[u,m]=c;return{to:typeof u=="number"||typeof u=="string"?u:u?xi(u):".",...G0(r,m??{})}});o&&(o[Ha]=a,r.navigate=o)}if(n.fetch.length>0){let a=r.fetch[Ha]??r.fetch,o=Go(n.fetch,a,(...c)=>{let[u,,m,y]=c;return{href:m??".",fetcherKey:u,...G0(r,y??{})}});o&&(o[Ha]=a,r.fetch=o)}return r}function Go(r,e,n){return r.length===0?null:async(...a)=>{let o=await rw(r,n(...a),()=>e(...a),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function rw(r,e,n,a){let o=r[a],c;if(o){let u,m=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=rw(r,e,n,a-1),c=await u,Je(c,"Expected a result"),c.type==="error"&&c.value instanceof Error?{status:"error",error:c.value}:{status:"success",error:void 0});try{await o(m,e)}catch(y){console.error("An instrumentation function threw an error:",y)}u||await m(),await u}else try{c={type:"success",value:await n()}}catch(u){c={type:"error",value:u}}return c||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function q0(r){let{request:e,context:n,params:a,unstable_pattern:o}=r;return{request:ES(e),params:{...a},unstable_pattern:o,context:TS(n)}}function G0(r,e){return{currentUrl:xi(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function ES(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function TS(r){if(SS(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var AS=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function SS(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===AS}var iw=["POST","PUT","PATCH","DELETE"],RS=new Set(iw),NS=["GET",...iw],CS=new Set(NS),aw=new Set([301,302,303,307,308]),IS=new Set([307,308]),Zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},DS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),sw="remix-router-transitions",ow=Symbol("ResetLoaderData");function OS(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||DS,c=o;if(r.unstable_instrumentations){let O=r.unstable_instrumentations;c=B=>({...o(B),...xS(O.map(X=>X.route).filter(Boolean),B)})}let u={},m=kc(r.routes,c,void 0,u),y,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=r.dataStrategy||LS,w={...r.future},T=null,N=new Set,k=null,F=null,Q=null,ne=r.hydrationData!=null,$=Va(m,r.history.location,g),le=!1,Ne=null,Ae;if($==null&&!r.patchRoutesOnNavigation){let O=kr(404,{pathname:r.history.location.pathname}),{matches:B,route:X}=Id(m);Ae=!0,$=B,Ne={[X.id]:O}}else if($&&!r.hydrationData&&Ci($,m,r.history.location.pathname).active&&($=null),$)if($.some(O=>O.route.lazy))Ae=!1;else if(!$.some(O=>Jp(O.route)))Ae=!0;else{let O=r.hydrationData?r.hydrationData.loaderData:null,B=r.hydrationData?r.hydrationData.errors:null;if(B){let X=$.findIndex(ce=>B[ce.route.id]!==void 0);Ae=$.slice(0,X+1).every(ce=>!pp(ce.route,O,B))}else Ae=$.every(X=>!pp(X.route,O,B))}else{Ae=!1,$=[];let O=Ci(null,m,r.history.location.pathname);O.active&&O.matches&&(le=!0,$=O.matches)}let Te,E={historyAction:r.history.action,location:r.history.location,matches:$,initialized:Ae,navigation:Zm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Ne,fetchers:new Map,blockers:new Map},R="POP",C=null,j=!1,D,U=!1,I=new Map,te=null,pe=!1,q=!1,se=new Set,de=new Map,Ie=0,Ve=-1,P=new Map,J=new Set,he=new Map,ue=new Map,Ee=new Set,Oe=new Map,Fe,vt=null;function mt(){if(T=r.history.listen(({action:O,location:B,delta:X})=>{if(Fe){Fe(),Fe=void 0;return}dn(Oe.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=Zr({currentLocation:E.location,nextLocation:B,historyAction:O});if(ce&&X!=null){let fe=new Promise(xe=>{Fe=xe});r.history.go(X*-1),Hn(ce,{state:"blocked",location:B,proceed(){Hn(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),fe.then(()=>r.history.go(X))},reset(){let xe=new Map(E.blockers);xe.set(ce,uc),Ue({blockers:xe})}}),C?.resolve(),C=null;return}return xn(O,B)}),n){nR(e,I);let O=()=>rR(e,I);e.addEventListener("pagehide",O),te=()=>e.removeEventListener("pagehide",O)}return E.initialized||xn("POP",E.location,{initialHydration:!0}),Te}function De(){T&&T(),te&&te(),N.clear(),D&&D.abort(),E.fetchers.forEach((O,B)=>ra(B)),E.blockers.forEach((O,B)=>ds(B))}function Gt(O){return N.add(O),()=>N.delete(O)}function Ue(O,B={}){O.matches&&(O.matches=O.matches.map(fe=>{let xe=u[fe.route.id],ve=fe.route;return ve.element!==xe.element||ve.errorElement!==xe.errorElement||ve.hydrateFallbackElement!==xe.hydrateFallbackElement?{...fe,route:xe}:fe})),E={...E,...O};let X=[],ce=[];E.fetchers.forEach((fe,xe)=>{fe.state==="idle"&&(Ee.has(xe)?X.push(xe):ce.push(xe))}),Ee.forEach(fe=>{!E.fetchers.has(fe)&&!de.has(fe)&&X.push(fe)}),[...N].forEach(fe=>fe(E,{deletedFetchers:X,newErrors:O.errors??null,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),X.forEach(fe=>ra(fe)),ce.forEach(fe=>E.fetchers.delete(fe))}function gn(O,B,{flushSync:X}={}){let ce=E.actionData!=null&&E.navigation.formMethod!=null&&Mn(E.navigation.formMethod)&&E.navigation.state==="loading"&&O.state?._isRedirect!==!0,fe;B.actionData?Object.keys(B.actionData).length>0?fe=B.actionData:fe=null:ce?fe=E.actionData:fe=null;let xe=B.loaderData?t_(E.loaderData,B.loaderData,B.matches||[],B.errors):E.loaderData,ve=E.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((je,ke)=>ve.set(ke,uc)));let ge=pe?!1:to(O,B.matches||E.matches),be=j===!0||E.navigation.formMethod!=null&&Mn(E.navigation.formMethod)&&O.state?._isRedirect!==!0;y&&(m=y,y=void 0),pe||R==="POP"||(R==="PUSH"?r.history.push(O,O.state):R==="REPLACE"&&r.history.replace(O,O.state));let Re;if(R==="POP"){let je=I.get(E.location.pathname);je&&je.has(O.pathname)?Re={currentLocation:E.location,nextLocation:O}:I.has(O.pathname)&&(Re={currentLocation:O,nextLocation:E.location})}else if(U){let je=I.get(E.location.pathname);je?je.add(O.pathname):(je=new Set([O.pathname]),I.set(E.location.pathname,je)),Re={currentLocation:E.location,nextLocation:O}}Ue({...B,actionData:fe,loaderData:xe,historyAction:R,location:O,initialized:!0,navigation:Zm,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:be,blockers:ve},{viewTransitionOpts:Re,flushSync:X===!0}),R="POP",j=!1,U=!1,pe=!1,q=!1,C?.resolve(),C=null,vt?.resolve(),vt=null}async function yn(O,B){if(C?.resolve(),C=null,typeof O=="number"){C||(C=a_());let et=C.promise;return r.history.go(O),et}let X=mp(E.location,E.matches,g,O,B?.fromRouteId,B?.relative),{path:ce,submission:fe,error:xe}=K0(!1,X,B),ve=E.location,ge=Ic(E.location,ce,B&&B.state);ge={...ge,...r.history.encodeLocation(ge)};let be=B&&B.replace!=null?B.replace:void 0,Re="PUSH";be===!0?Re="REPLACE":be===!1||fe!=null&&Mn(fe.formMethod)&&fe.formAction===E.location.pathname+E.location.search&&(Re="REPLACE");let je=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ke=(B&&B.flushSync)===!0,$e=Zr({currentLocation:ve,nextLocation:ge,historyAction:Re});if($e){Hn($e,{state:"blocked",location:ge,proceed(){Hn($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),yn(O,B)},reset(){let et=new Map(E.blockers);et.set($e,uc),Ue({blockers:et})}});return}await xn(Re,ge,{submission:fe,pendingError:xe,preventScrollReset:je,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:ke,callSiteDefaultShouldRevalidate:B&&B.unstable_defaultShouldRevalidate})}function Pr(){vt||(vt=a_()),Bn(),Ue({revalidation:"loading"});let O=vt.promise;return E.navigation.state==="submitting"?O:E.navigation.state==="idle"?(xn(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),O):(xn(R||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:U===!0}),O)}async function xn(O,B,X){D&&D.abort(),D=null,R=O,pe=(X&&X.startUninterruptedRevalidation)===!0,or(E.location,E.matches),j=(X&&X.preventScrollReset)===!0,U=(X&&X.enableViewTransition)===!0;let ce=y||m,fe=X&&X.overrideNavigation,xe=X?.initialHydration&&E.matches&&E.matches.length>0&&!le?E.matches:Va(ce,B,g),ve=(X&&X.flushSync)===!0;if(xe&&E.initialized&&!q&&KS(E.location,B)&&!(X&&X.submission&&Mn(X.submission.formMethod))){gn(B,{matches:xe},{flushSync:ve});return}let ge=Ci(xe,ce,B.pathname);if(ge.active&&ge.matches&&(xe=ge.matches),!xe){let{error:Pt,notFoundMatches:It,route:Xe}=Ft(B.pathname);gn(B,{matches:It,loaderData:{},errors:{[Xe.id]:Pt}},{flushSync:ve});return}D=new AbortController;let be=Bo(r.history,B,D.signal,X&&X.submission),Re=r.getContext?await r.getContext():new B0,je;if(X&&X.pendingError)je=[La(xe).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Mn(X.submission.formMethod)){let Pt=await Ai(be,B,X.submission,xe,Re,ge.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:ve});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[It,Xe]=Pt.pendingActionResult;if(yr(Xe)&&Dc(Xe.error)&&Xe.error.status===404){D=null,gn(B,{matches:Pt.matches,loaderData:{},errors:{[It]:Xe.error}});return}}xe=Pt.matches||xe,je=Pt.pendingActionResult,fe=Jm(B,X.submission),ve=!1,ge.active=!1,be=Bo(r.history,be.url,be.signal)}let{shortCircuited:ke,matches:$e,loaderData:et,errors:wt}=await Si(be,B,xe,Re,ge.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,ve,je,X&&X.callSiteDefaultShouldRevalidate);ke||(D=null,gn(B,{matches:$e||xe,...n_(je),loaderData:et,errors:wt}))}async function Ai(O,B,X,ce,fe,xe,ve,ge={}){Bn();let be=eR(B,X);if(Ue({navigation:be},{flushSync:ge.flushSync===!0}),xe){let ke=await qn(ce,B.pathname,O.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){if(ke.partialMatches.length===0){let{matches:et,route:wt}=Id(m);return{matches:et,pendingActionResult:[wt.id,{type:"error",error:ke.error}]}}let $e=La(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[$e,{type:"error",error:ke.error}]}}else if(ke.matches)ce=ke.matches;else{let{notFoundMatches:$e,error:et,route:wt}=Ft(B.pathname);return{matches:$e,pendingActionResult:[wt.id,{type:"error",error:et}]}}}let Re,je=Fd(ce,B);if(!je.route.action&&!je.route.lazy)Re={type:"error",error:kr(405,{method:O.method,pathname:B.pathname,routeId:je.route.id})};else{let ke=Qo(c,u,O,ce,je,ve?[]:a,fe),$e=await fn(O,ke,fe,null);if(Re=$e[je.route.id],!Re){for(let et of ce)if($e[et.route.id]){Re=$e[et.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Us(Re)){let ke;return ge&&ge.replace!=null?ke=ge.replace:ke=J0(Re.response.headers.get("Location"),new URL(O.url),g,r.history)===E.location.pathname+E.location.search,await dt(O,Re,!0,{submission:X,replace:ke}),{shortCircuited:!0}}if(yr(Re)){let ke=La(ce,je.route.id);return(ge&&ge.replace)!==!0&&(R="PUSH"),{matches:ce,pendingActionResult:[ke.route.id,Re,je.route.id]}}return{matches:ce,pendingActionResult:[je.route.id,Re]}}async function Si(O,B,X,ce,fe,xe,ve,ge,be,Re,je,ke,$e){let et=xe||Jm(B,ve),wt=ve||ge||i_(et),Pt=!pe&&!Re;if(fe){if(Pt){let Kt=jt(ke);Ue({navigation:et,...Kt!==void 0?{actionData:Kt}:{}},{flushSync:je})}let Ze=await qn(X,B.pathname,O.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:nn,route:Et}=Id(m);return{matches:nn,loaderData:{},errors:{[Et.id]:Ze.error}}}let Kt=La(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[Kt]:Ze.error}}}else if(Ze.matches)X=Ze.matches;else{let{error:Kt,notFoundMatches:nn,route:Et}=Ft(B.pathname);return{matches:nn,loaderData:{},errors:{[Et.id]:Kt}}}}let It=y||m,{dsMatches:Xe,revalidatingFetchers:kt}=Q0(O,ce,c,u,r.history,E,X,wt,B,Re?[]:a,Re===!0,q,se,Ee,he,J,It,g,r.patchRoutesOnNavigation!=null,ke,$e);if(Ve=++Ie,!r.dataStrategy&&!Xe.some(Ze=>Ze.shouldLoad)&&!Xe.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&kt.length===0){let Ze=zt();return gn(B,{matches:X,loaderData:{},errors:ke&&yr(ke[1])?{[ke[0]]:ke[1].error}:null,...n_(ke),...Ze?{fetchers:new Map(E.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(Pt){let Ze={};if(!fe){Ze.navigation=et;let Kt=jt(ke);Kt!==void 0&&(Ze.actionData=Kt)}kt.length>0&&(Ze.fetchers=ye(kt)),Ue(Ze,{flushSync:je})}kt.forEach(Ze=>{Nt(Ze.key),Ze.controller&&de.set(Ze.key,Ze.controller)});let vn=()=>kt.forEach(Ze=>Nt(Ze.key));D&&D.signal.addEventListener("abort",vn);let{loaderResults:Dt,fetcherResults:Qn}=await Un(Xe,kt,O,ce);if(O.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",vn),kt.forEach(Ze=>de.delete(Ze.key));let kn=kd(Dt);if(kn)return await dt(O,kn.result,!0,{replace:be}),{shortCircuited:!0};if(kn=kd(Qn),kn)return J.add(kn.key),await dt(O,kn.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Xn,errors:Dn}=e_(E,X,Dt,ke,kt,Qn);Re&&E.errors&&(Dn={...E.errors,...Dn});let lr=zt(),$r=us(Ve),ei=lr||$r||kt.length>0;return{matches:X,loaderData:Xn,errors:Dn,...ei?{fetchers:new Map(E.fetchers)}:{}}}function jt(O){if(O&&!yr(O[1]))return{[O[0]]:O[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function ye(O){return O.forEach(B=>{let X=E.fetchers.get(B.key),ce=dc(void 0,X?X.data:void 0);E.fetchers.set(B.key,ce)}),new Map(E.fetchers)}async function Mt(O,B,X,ce){Nt(O);let fe=(ce&&ce.flushSync)===!0,xe=y||m,ve=mp(E.location,E.matches,g,X,B,ce?.relative),ge=Va(xe,ve,g),be=Ci(ge,xe,ve);if(be.active&&be.matches&&(ge=be.matches),!ge){zn(O,B,kr(404,{pathname:ve}),{flushSync:fe});return}let{path:Re,submission:je,error:ke}=K0(!0,ve,ce);if(ke){zn(O,B,ke,{flushSync:fe});return}let $e=r.getContext?await r.getContext():new B0,et=(ce&&ce.preventScrollReset)===!0;if(je&&Mn(je.formMethod)){await wn(O,B,Re,ge,$e,be.active,fe,et,je,ce&&ce.unstable_defaultShouldRevalidate);return}he.set(O,{routeId:B,path:Re}),await hn(O,B,Re,ge,$e,be.active,fe,et,je)}async function wn(O,B,X,ce,fe,xe,ve,ge,be,Re){Bn(),he.delete(O);let je=E.fetchers.get(O);Bt(O,tR(be,je),{flushSync:ve});let ke=new AbortController,$e=Bo(r.history,X,ke.signal,be);if(xe){let Ye=await qn(ce,new URL($e.url).pathname,$e.signal,O);if(Ye.type==="aborted")return;if(Ye.type==="error"){zn(O,B,Ye.error,{flushSync:ve});return}else if(Ye.matches)ce=Ye.matches;else{zn(O,B,kr(404,{pathname:X}),{flushSync:ve});return}}let et=Fd(ce,X);if(!et.route.action&&!et.route.lazy){let Ye=kr(405,{method:be.formMethod,pathname:X,routeId:B});zn(O,B,Ye,{flushSync:ve});return}de.set(O,ke);let wt=Ie,Pt=Qo(c,u,$e,ce,et,a,fe),It=await fn($e,Pt,fe,O),Xe=It[et.route.id];if(!Xe){for(let Ye of Pt)if(It[Ye.route.id]){Xe=It[Ye.route.id];break}}if($e.signal.aborted){de.get(O)===ke&&de.delete(O);return}if(Ee.has(O)){if(Us(Xe)||yr(Xe)){Bt(O,Yi(void 0));return}}else{if(Us(Xe))if(de.delete(O),Ve>wt){Bt(O,Yi(void 0));return}else return J.add(O),Bt(O,dc(be)),dt($e,Xe,!1,{fetcherSubmission:be,preventScrollReset:ge});if(yr(Xe)){zn(O,B,Xe.error);return}}let kt=E.navigation.location||E.location,vn=Bo(r.history,kt,ke.signal),Dt=y||m,Qn=E.navigation.state!=="idle"?Va(Dt,E.navigation.location,g):E.matches;Je(Qn,"Didn't find any matches after fetcher action");let kn=++Ie;P.set(O,kn);let Xn=dc(be,Xe.data);E.fetchers.set(O,Xn);let{dsMatches:Dn,revalidatingFetchers:lr}=Q0(vn,fe,c,u,r.history,E,Qn,be,kt,a,!1,q,se,Ee,he,J,Dt,g,r.patchRoutesOnNavigation!=null,[et.route.id,Xe],Re);lr.filter(Ye=>Ye.key!==O).forEach(Ye=>{let cr=Ye.key,aa=E.fetchers.get(cr),pt=dc(void 0,aa?aa.data:void 0);E.fetchers.set(cr,pt),Nt(cr),Ye.controller&&de.set(cr,Ye.controller)}),Ue({fetchers:new Map(E.fetchers)});let $r=()=>lr.forEach(Ye=>Nt(Ye.key));ke.signal.addEventListener("abort",$r);let{loaderResults:ei,fetcherResults:Ze}=await Un(Dn,lr,vn,fe);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",$r),P.delete(O),de.delete(O),lr.forEach(Ye=>de.delete(Ye.key)),E.fetchers.has(O)){let Ye=Yi(Xe.data);E.fetchers.set(O,Ye)}let Kt=kd(ei);if(Kt)return dt(vn,Kt.result,!1,{preventScrollReset:ge});if(Kt=kd(Ze),Kt)return J.add(Kt.key),dt(vn,Kt.result,!1,{preventScrollReset:ge});let{loaderData:nn,errors:Et}=e_(E,Qn,ei,void 0,lr,Ze);us(kn),E.navigation.state==="loading"&&kn>Ve?(Je(R,"Expected pending action"),D&&D.abort(),gn(E.navigation.location,{matches:Qn,loaderData:nn,errors:Et,fetchers:new Map(E.fetchers)})):(Ue({errors:Et,loaderData:t_(E.loaderData,nn,Qn,Et),fetchers:new Map(E.fetchers)}),q=!1)}async function hn(O,B,X,ce,fe,xe,ve,ge,be){let Re=E.fetchers.get(O);Bt(O,dc(be,Re?Re.data:void 0),{flushSync:ve});let je=new AbortController,ke=Bo(r.history,X,je.signal);if(xe){let Xe=await qn(ce,new URL(ke.url).pathname,ke.signal,O);if(Xe.type==="aborted")return;if(Xe.type==="error"){zn(O,B,Xe.error,{flushSync:ve});return}else if(Xe.matches)ce=Xe.matches;else{zn(O,B,kr(404,{pathname:X}),{flushSync:ve});return}}let $e=Fd(ce,X);de.set(O,je);let et=Ie,wt=Qo(c,u,ke,ce,$e,a,fe),It=(await fn(ke,wt,fe,O))[$e.route.id];if(de.get(O)===je&&de.delete(O),!ke.signal.aborted){if(Ee.has(O)){Bt(O,Yi(void 0));return}if(Us(It))if(Ve>et){Bt(O,Yi(void 0));return}else{J.add(O),await dt(ke,It,!1,{preventScrollReset:ge});return}if(yr(It)){zn(O,B,It.error);return}Bt(O,Yi(It.data))}}async function dt(O,B,X,{submission:ce,fetcherSubmission:fe,preventScrollReset:xe,replace:ve}={}){X||(C?.resolve(),C=null),B.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ge=B.response.headers.get("Location");Je(ge,"Expected a Location header on the redirect Response"),ge=J0(ge,new URL(O.url),g,r.history);let be=Ic(E.location,ge,{_isRedirect:!0});if(n){let wt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Yp(ge)){const Pt=Wx(ge,!0);wt=Pt.origin!==e.location.origin||jr(Pt.pathname,g)==null}if(wt){ve?e.location.replace(ge):e.location.assign(ge);return}}D=null;let Re=ve===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:ke,formEncType:$e}=E.navigation;!ce&&!fe&&je&&ke&&$e&&(ce=i_(E.navigation));let et=ce||fe;if(IS.has(B.response.status)&&et&&Mn(et.formMethod))await xn(Re,be,{submission:{...et,formAction:ge},preventScrollReset:xe||j,enableViewTransition:X?U:void 0});else{let wt=Jm(be,ce);await xn(Re,be,{overrideNavigation:wt,fetcherSubmission:fe,preventScrollReset:xe||j,enableViewTransition:X?U:void 0})}}async function fn(O,B,X,ce){let fe,xe={};try{fe=await BS(_,O,B,ce,X,!1)}catch(ve){return B.filter(ge=>ge.shouldLoad).forEach(ge=>{xe[ge.route.id]={type:"error",error:ve}}),xe}if(O.signal.aborted)return xe;if(!Mn(O.method))for(let ve of B){if(fe[ve.route.id]?.type==="error")break;!fe.hasOwnProperty(ve.route.id)&&!E.loaderData.hasOwnProperty(ve.route.id)&&(!E.errors||!E.errors.hasOwnProperty(ve.route.id))&&ve.shouldCallHandler()&&(fe[ve.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ve.route.id}`)})}for(let[ve,ge]of Object.entries(fe))if(WS(ge)){let be=ge.result;xe[ve]={type:"redirect",response:qS(be,O,ve,B,g)}}else xe[ve]=await HS(ge);return xe}async function Un(O,B,X,ce){let fe=fn(X,O,ce,null),xe=Promise.all(B.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let je=(await fn(be.request,be.matches,ce,be.key))[be.match.route.id];return{[be.key]:je}}else return Promise.resolve({[be.key]:{type:"error",error:kr(404,{pathname:be.path})}})})),ve=await fe,ge=(await xe).reduce((be,Re)=>Object.assign(be,Re),{});return{loaderResults:ve,fetcherResults:ge}}function Bn(){q=!0,he.forEach((O,B)=>{de.has(B)&&se.add(B),Nt(B)})}function Bt(O,B,X={}){E.fetchers.set(O,B),Ue({fetchers:new Map(E.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function zn(O,B,X,ce={}){let fe=La(E.matches,B);ra(O),Ue({errors:{[fe.route.id]:X},fetchers:new Map(E.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function Ri(O){return ue.set(O,(ue.get(O)||0)+1),Ee.has(O)&&Ee.delete(O),E.fetchers.get(O)||kS}function Ni(O,B){Nt(O,B?.reason),Bt(O,Yi(null))}function ra(O){let B=E.fetchers.get(O);de.has(O)&&!(B&&B.state==="loading"&&P.has(O))&&Nt(O),he.delete(O),P.delete(O),J.delete(O),Ee.delete(O),se.delete(O),E.fetchers.delete(O)}function ar(O){let B=(ue.get(O)||0)-1;B<=0?(ue.delete(O),Ee.add(O)):ue.set(O,B),Ue({fetchers:new Map(E.fetchers)})}function Nt(O,B){let X=de.get(O);X&&(X.abort(B),de.delete(O))}function Fn(O){for(let B of O){let X=Ri(B),ce=Yi(X.data);E.fetchers.set(B,ce)}}function zt(){let O=[],B=!1;for(let X of J){let ce=E.fetchers.get(X);Je(ce,`Expected fetcher: ${X}`),ce.state==="loading"&&(J.delete(X),O.push(X),B=!0)}return Fn(O),B}function us(O){let B=[];for(let[X,ce]of P)if(ce<O){let fe=E.fetchers.get(X);Je(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(Nt(X),P.delete(X),B.push(X))}return Fn(B),B.length>0}function ia(O,B){let X=E.blockers.get(O)||uc;return Oe.get(O)!==B&&Oe.set(O,B),X}function ds(O){E.blockers.delete(O),Oe.delete(O)}function Hn(O,B){let X=E.blockers.get(O)||uc;Je(X.state==="unblocked"&&B.state==="blocked"||X.state==="blocked"&&B.state==="blocked"||X.state==="blocked"&&B.state==="proceeding"||X.state==="blocked"&&B.state==="unblocked"||X.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${B.state}`);let ce=new Map(E.blockers);ce.set(O,B),Ue({blockers:ce})}function Zr({currentLocation:O,nextLocation:B,historyAction:X}){if(Oe.size===0)return;Oe.size>1&&dn(!1,"A router only supports one blocker at a time");let ce=Array.from(Oe.entries()),[fe,xe]=ce[ce.length-1],ve=E.blockers.get(fe);if(!(ve&&ve.state==="proceeding")&&xe({currentLocation:O,nextLocation:B,historyAction:X}))return fe}function Ft(O){let B=kr(404,{pathname:O}),X=y||m,{matches:ce,route:fe}=Id(X);return{notFoundMatches:ce,route:fe,error:B}}function br(O,B,X){if(k=O,Q=B,F=X||null,!ne&&E.navigation===Zm){ne=!0;let ce=to(E.location,E.matches);ce!=null&&Ue({restoreScrollPosition:ce})}return()=>{k=null,Q=null,F=null}}function sr(O,B){return F&&F(O,B.map(ce=>rS(ce,E.loaderData)))||O.key}function or(O,B){if(k&&Q){let X=sr(O,B);k[X]=Q()}}function to(O,B){if(k){let X=sr(O,B),ce=k[X];if(typeof ce=="number")return ce}return null}function Ci(O,B,X){if(r.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:gc(B,X,g,!0)}}else return{active:!0,matches:gc(B,X,g,!0)||[]};return{active:!1,matches:null}}async function qn(O,B,X,ce){if(!r.patchRoutesOnNavigation)return{type:"success",matches:O};let fe=O;for(;;){let xe=y==null,ve=y||m,ge=u;try{await r.patchRoutesOnNavigation({signal:X,path:B,matches:fe,fetcherKey:ce,patch:(je,ke)=>{X.aborted||X0(je,ke,ve,ge,c,!1)}})}catch(je){return{type:"error",error:je,partialMatches:fe}}finally{xe&&!X.aborted&&(m=[...m])}if(X.aborted)return{type:"aborted"};let be=Va(ve,B,g),Re=null;if(be){if(Object.keys(be[0].params).length===0)return{type:"success",matches:be};if(Re=gc(ve,B,g,!0),!(Re&&fe.length<Re.length&&Jr(fe,Re.slice(0,fe.length))))return{type:"success",matches:be}}if(Re||(Re=gc(ve,B,g,!0)),!Re||Jr(fe,Re))return{type:"success",matches:null};fe=Re}}function Jr(O,B){return O.length===B.length&&O.every((X,ce)=>X.route.id===B[ce].route.id)}function gl(O){u={},y=kc(O,c,void 0,u)}function Ii(O,B,X=!1){let ce=y==null;X0(O,B,y||m,u,c,X),ce&&(m=[...m],Ue({}))}return Te={get basename(){return g},get future(){return w},get state(){return E},get routes(){return m},get window(){return e},initialize:mt,subscribe:Gt,enableScrollRestoration:br,navigate:yn,fetch:Mt,revalidate:Pr,createHref:O=>r.history.createHref(O),encodeLocation:O=>r.history.encodeLocation(O),getFetcher:Ri,resetFetcher:Ni,deleteFetcher:ar,dispose:De,getBlocker:ia,deleteBlocker:ds,patchRoutes:Ii,_internalFetchControllers:de,_internalSetRoutes:gl,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){Ue(O)}},r.unstable_instrumentations&&(Te=wS(Te,r.unstable_instrumentations.map(O=>O.router).filter(Boolean))),Te}function jS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function mp(r,e,n,a,o,c){let u,m;if(o){u=[];for(let g of e)if(u.push(g),g.route.id===o){m=g;break}}else u=e,m=e[e.length-1];let y=Zp(a||".",Wp(u),jr(r.pathname,n)||r.pathname,c==="path");if(a==null&&(y.search=r.search,y.hash=r.hash),(a==null||a===""||a===".")&&m){let g=eg(y.search);if(m.route.index&&!g)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let _=new URLSearchParams(y.search),w=_.getAll("index");_.delete("index"),w.filter(N=>N).forEach(N=>_.append("index",N));let T=_.toString();y.search=T?`?${T}`:""}}return n!=="/"&&(y.pathname=gS({basename:n,pathname:y.pathname})),xi(y)}function K0(r,e,n){if(!n||!jS(n))return{path:e};if(n.formMethod&&!$S(n.formMethod))return{path:e,error:kr(405,{method:n.formMethod})};let a=()=>({path:e,error:kr(400,{type:"invalid-body"})}),c=(n.formMethod||"get").toUpperCase(),u=fw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Mn(c))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[N,k])=>`${T}${N}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:c,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Mn(c))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:c,formAction:u,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,y;if(n.formData)m=yp(n.formData),y=n.formData;else if(n.body instanceof FormData)m=yp(n.body),y=n.body;else if(n.body instanceof URLSearchParams)m=n.body,y=$0(m);else if(n.body==null)m=new URLSearchParams,y=new FormData;else try{m=new URLSearchParams(n.body),y=$0(m)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Mn(g.formMethod))return{path:e,submission:g};let _=is(e);return r&&_.search&&eg(_.search)&&m.append("index",""),_.search=`?${m}`,{path:xi(_),submission:g}}function Q0(r,e,n,a,o,c,u,m,y,g,_,w,T,N,k,F,Q,ne,$,le,Ne){let Ae=le?yr(le[1])?le[1].error:le[1].data:void 0,Te=o.createURL(c.location),E=o.createURL(y),R;if(_&&c.errors){let pe=Object.keys(c.errors)[0];R=u.findIndex(q=>q.route.id===pe)}else if(le&&yr(le[1])){let pe=le[0];R=u.findIndex(q=>q.route.id===pe)-1}let C=le?le[1].statusCode:void 0,j=C&&C>=400,D={currentUrl:Te,currentParams:c.matches[0]?.params||{},nextUrl:E,nextParams:u[0].params,...m,actionResult:Ae,actionStatus:C},U=Qc(u),I=u.map((pe,q)=>{let{route:se}=pe,de=null;if(R!=null&&q>R?de=!1:se.lazy?de=!0:Jp(se)?_?de=pp(se,c.loaderData,c.errors):MS(c.loaderData,c.matches[q],pe)&&(de=!0):de=!1,de!==null)return gp(n,a,r,U,pe,g,e,de);let Ie=!1;typeof Ne=="boolean"?Ie=Ne:j?Ie=!1:(w||Te.pathname+Te.search===E.pathname+E.search||Te.search!==E.search||PS(c.matches[q],pe))&&(Ie=!0);let Ve={...D,defaultShouldRevalidate:Ie},P=Ec(pe,Ve);return gp(n,a,r,U,pe,g,e,P,Ve,Ne)}),te=[];return k.forEach((pe,q)=>{if(_||!u.some(ue=>ue.route.id===pe.routeId)||N.has(q))return;let se=c.fetchers.get(q),de=se&&se.state!=="idle"&&se.data===void 0,Ie=Va(Q,pe.path,ne);if(!Ie){if($&&de)return;te.push({key:q,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(F.has(q))return;let Ve=Fd(Ie,pe.path),P=new AbortController,J=Bo(o,pe.path,P.signal),he=null;if(T.has(q))T.delete(q),he=Qo(n,a,J,Ie,Ve,g,e);else if(de)w&&(he=Qo(n,a,J,Ie,Ve,g,e));else{let ue;typeof Ne=="boolean"?ue=Ne:j?ue=!1:ue=w;let Ee={...D,defaultShouldRevalidate:ue};Ec(Ve,Ee)&&(he=Qo(n,a,J,Ie,Ve,g,e,Ee))}he&&te.push({key:q,routeId:pe.routeId,path:pe.path,matches:he,match:Ve,request:J,controller:P})}),{dsMatches:I,revalidatingFetchers:te}}function Jp(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function pp(r,e,n){if(r.lazy)return!0;if(!Jp(r))return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function MS(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function PS(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Ec(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function X0(r,e,n,a,o,c){let u;if(r){let g=a[r];Je(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let m=[],y=[];if(e.forEach(g=>{let _=u.find(w=>lw(g,w));_?y.push({existingRoute:_,newRoute:g}):m.push(g)}),m.length>0){let g=kc(m,o,[r||"_","patch",String(u?.length||"0")],a);u.push(...g)}if(c&&y.length>0)for(let g=0;g<y.length;g++){let{existingRoute:_,newRoute:w}=y[g],T=_,[N]=kc([w],o,[],{},!0);Object.assign(T,{element:N.element?N.element:T.element,errorElement:N.errorElement?N.errorElement:T.errorElement,hydrateFallbackElement:N.hydrateFallbackElement?N.hydrateFallbackElement:T.hydrateFallbackElement})}}function lw(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>lw(n,o))):!1}var Y0=new WeakMap,cw=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[r];if(!c)return;let u=Y0.get(o);u||(u={},Y0.set(o,u));let m=u[r];if(m)return m;let y=(async()=>{let g=$1(r),w=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)dn(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),u[r]=Promise.resolve();else if(w)dn(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let T=await c();T!=null&&(Object.assign(o,{[r]:T}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return u[r]=y,y},W0=new WeakMap;function VS(r,e,n,a,o){let c=n[r.id];if(Je(c,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=W0.get(c);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{Je(typeof r.lazy=="function","No lazy route function found");let T=await r.lazy(),N={};for(let k in T){let F=T[k];if(F===void 0)continue;let Q=tS(k),$=c[k]!==void 0&&k!=="hasErrorBoundary";Q?dn(!Q,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):$?dn(!$,`Route "${c.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):N[k]=F}Object.assign(c,N),Object.assign(c,{...a(c),lazy:void 0})})();return W0.set(c,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(r.lazy),m=[],y;for(let _ of u){if(o&&o.includes(_))continue;let w=cw({key:_,route:r,manifest:n,mapRouteProperties:a});w&&(m.push(w),_===e&&(y=w))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),y?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:y}}async function Z0(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,c)=>{n[e[c].route.id]=o}),n}async function LS(r){return r.matches.some(e=>e.route.middleware)?uw(r,()=>Z0(r)):Z0(r)}function uw(r,e){return US(r,e,a=>{if(JS(a))throw a;return a},XS,n);function n(a,o,c){if(c)return Promise.resolve(Object.assign(c.value,{[o]:{type:"error",result:a}}));{let{matches:u}=r,m=Math.min(Math.max(u.findIndex(g=>g.route.id===o),0),Math.max(u.findIndex(g=>g.shouldCallHandler()),0)),y=La(u,u[m].route.id).route.id;return Promise.resolve({[y]:{type:"error",result:a}})}}}async function US(r,e,n,a,o){let{matches:c,request:u,params:m,context:y,unstable_pattern:g}=r,_=c.flatMap(T=>T.route.middleware?T.route.middleware.map(N=>[T.route.id,N]):[]);return await dw({request:u,params:m,context:y,unstable_pattern:g},_,e,n,a,o)}async function dw(r,e,n,a,o,c,u=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let y=e[u];if(!y)return await n();let[g,_]=y,w,T=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await dw(r,e,n,a,o,c,u+1)},w.value}catch(N){return w={value:await c(N,g,w)},w.value}};try{let N=await _(r,T),k=N!=null?a(N):void 0;return o(k)?k:w?k??w.value:(w={value:await T()},w.value)}catch(N){return await c(N,g,w)}}function hw(r,e,n,a,o){let c=cw({key:"middleware",route:a.route,manifest:e,mapRouteProperties:r}),u=VS(a.route,Mn(n.method)?"action":"loader",e,r,o);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function gp(r,e,n,a,o,c,u,m,y=null,g){let _=!1,w=hw(r,e,n,o,c);return{...o,_lazyPromises:w,shouldLoad:m,shouldRevalidateArgs:y,shouldCallHandler(T){return _=!0,y?typeof g=="boolean"?Ec(o,{...y,defaultShouldRevalidate:g}):typeof T=="boolean"?Ec(o,{...y,defaultShouldRevalidate:T}):Ec(o,y):m},resolve(T){let{lazy:N,loader:k,middleware:F}=o.route,Q=_||m||T&&!Mn(n.method)&&(N||k),ne=F&&F.length>0&&!k&&!N;return Q&&(Mn(n.method)||!ne)?zS({request:n,unstable_pattern:a,match:o,lazyHandlerPromise:w?.handler,lazyRoutePromise:w?.route,handlerOverride:T,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Qo(r,e,n,a,o,c,u,m=null){return a.map(y=>y.route.id!==o.route.id?{...y,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:hw(r,e,n,y,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:gp(r,e,n,Qc(a),y,c,u,!0,m))}async function BS(r,e,n,a,o,c){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let u={request:e,unstable_pattern:Qc(n),params:n[0].params,context:o,matches:n},y=await r({...u,fetcherKey:a,runClientMiddleware:g=>{let _=u;return uw(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return y}async function zS({request:r,unstable_pattern:e,match:n,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:c,scopedContext:u}){let m,y,g=Mn(r.method),_=g?"action":"loader",w=T=>{let N,k=new Promise((ne,$)=>N=$);y=()=>N(),r.signal.addEventListener("abort",y);let F=ne=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${n.route.id}]`)):T({request:r,unstable_pattern:e,params:n.params,context:u},...ne!==void 0?[ne]:[]),Q=(async()=>{try{return{type:"data",result:await(c?c($=>F($)):F())}}catch(ne){return{type:"error",result:ne}}})();return Promise.race([Q,k])};try{let T=g?n.route.action:n.route.loader;if(a||o)if(T){let N,[k]=await Promise.all([w(T).catch(F=>{N=F}),a,o]);if(N!==void 0)throw N;m=k}else{await a;let N=g?n.route.action:n.route.loader;if(N)[m]=await Promise.all([w(N),o]);else if(_==="action"){let k=new URL(r.url),F=k.pathname+k.search;throw kr(405,{method:r.method,pathname:F,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(T)m=await w(T);else{let N=new URL(r.url),k=N.pathname+N.search;throw kr(404,{pathname:k})}}catch(T){return{type:"error",result:T}}finally{y&&r.signal.removeEventListener("abort",y)}return m}async function FS(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function HS(r){let{result:e,type:n}=r;if($p(e)){let a;try{a=await FS(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Kc(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?r_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:QS(e),statusCode:Dc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Dc(e)?e.status:void 0}:r_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function qS(r,e,n,a,o){let c=r.headers.get("Location");if(Je(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yp(c)){let u=a.slice(0,a.findIndex(m=>m.route.id===n)+1);c=mp(new URL(e.url),u,o,c),r.headers.set("Location",c)}return r}function J0(r,e,n,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Yp(r)){let c=r,u=c.startsWith("//")?new URL(e.protocol+c):new URL(c);if(o.includes(u.protocol))throw new Error("Invalid redirect location");let m=jr(u.pathname,n)!=null;if(u.origin===e.origin&&m)return u.pathname+u.search+u.hash}try{let c=a.createURL(r);if(o.includes(c.protocol))throw new Error("Invalid redirect location")}catch{}return r}function Bo(r,e,n,a){let o=r.createURL(fw(e)).toString(),c={signal:n};if(a&&Mn(a.formMethod)){let{formMethod:u,formEncType:m}=a;c.method=u.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(a.json)):m==="text/plain"?c.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?c.body=yp(a.formData):c.body=a.formData}return new Request(o,c)}function yp(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function $0(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function GS(r,e,n,a=!1,o=!1){let c={},u=null,m,y=!1,g={},_=n&&yr(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,N=e[T];if(Je(!Us(N),"Cannot handle redirect results in processLoaderData"),yr(N)){let k=N.error;if(_!==void 0&&(k=_,_=void 0),u=u||{},o)u[T]=k;else{let F=La(r,T);u[F.route.id]==null&&(u[F.route.id]=k)}a||(c[T]=ow),y||(y=!0,m=Dc(N.error)?N.error.status:500),N.headers&&(g[T]=N.headers)}else c[T]=N.data,N.statusCode&&N.statusCode!==200&&!y&&(m=N.statusCode),N.headers&&(g[T]=N.headers)}),_!==void 0&&n&&(u={[n[0]]:_},n[2]&&(c[n[2]]=void 0)),{loaderData:c,errors:u,statusCode:m||200,loaderHeaders:g}}function e_(r,e,n,a,o,c){let{loaderData:u,errors:m}=GS(e,n,a);return o.filter(y=>!y.matches||y.matches.some(g=>g.shouldLoad)).forEach(y=>{let{key:g,match:_,controller:w}=y;if(w&&w.signal.aborted)return;let T=c[g];if(Je(T,"Did not find corresponding fetcher result"),yr(T)){let N=La(r.matches,_?.route.id);m&&m[N.route.id]||(m={...m,[N.route.id]:T.error}),r.fetchers.delete(g)}else if(Us(T))Je(!1,"Unhandled fetcher revalidation redirect");else{let N=Yi(T.data);r.fetchers.set(g,N)}}),{loaderData:u,errors:m}}function t_(r,e,n,a){let o=Object.entries(e).filter(([,c])=>c!==ow).reduce((c,[u,m])=>(c[u]=m,c),{});for(let c of n){let u=c.route.id;if(!e.hasOwnProperty(u)&&r.hasOwnProperty(u)&&c.route.loader&&(o[u]=r[u]),a&&a.hasOwnProperty(u))break}return o}function n_(r){return r?yr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function La(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function Id(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(r,{pathname:e,routeId:n,method:a,type:o,message:c}={}){let u="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(u="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(u="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(u="Not Found",m=`No route matches URL "${e}"`):r===405&&(u="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Kc(r||500,u,new Error(m),!0)}function kd(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(Us(o))return{key:a,result:o}}}function fw(r){let e=typeof r=="string"?is(r):r;return xi({...e,hash:""})}function KS(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function QS(r){return new Kc(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function XS(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,n])=>typeof e=="string"&&YS(n))}function YS(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function WS(r){return $p(r.result)&&aw.has(r.result.status)}function yr(r){return r.type==="error"}function Us(r){return(r&&r.type)==="redirect"}function r_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function $p(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function ZS(r){return aw.has(r)}function JS(r){return $p(r)&&ZS(r.status)&&r.headers.has("Location")}function $S(r){return CS.has(r.toUpperCase())}function Mn(r){return RS.has(r.toUpperCase())}function eg(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Fd(r,e){let n=typeof e=="string"?is(e).search:e.search;if(r[r.length-1].route.index&&eg(n||""))return r[r.length-1];let a=ew(r);return a[a.length-1]}function i_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:c,json:u}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:e,formAction:n,formEncType:a,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function Jm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function dc(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Yi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function nR(r,e){try{let n=r.sessionStorage.getItem(sw);if(n){let a=JSON.parse(n);for(let[o,c]of Object.entries(a||{}))c&&Array.isArray(c)&&e.set(o,new Set(c||[]))}}catch{}}function rR(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(sw,JSON.stringify(n))}catch(a){dn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function a_(){let r,e,n=new Promise((a,o)=>{r=async c=>{a(c);try{await n}catch{}},e=async c=>{o(c);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ws=V.createContext(null);Ws.displayName="DataRouter";var Xc=V.createContext(null);Xc.displayName="DataRouterState";var mw=V.createContext(!1);function iR(){return V.useContext(mw)}var tg=V.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var pw=V.createContext(new Map);pw.displayName="Fetchers";var aR=V.createContext(null);aR.displayName="Await";var Mr=V.createContext(null);Mr.displayName="Navigation";var wh=V.createContext(null);wh.displayName="Location";var Wr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var ng=V.createContext(null);ng.displayName="RouteError";var gw="REACT_ROUTER_ERROR",sR="REDIRECT",oR="ROUTE_ERROR_RESPONSE";function lR(r){if(r.startsWith(`${gw}:${sR}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cR(r){if(r.startsWith(`${gw}:${oR}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Kc(e.status,e.statusText,e.data)}catch{}}function uR(r,{relative:e}={}){Je(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(Mr),{hash:o,pathname:c,search:u}=Zc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fi([n,c])),a.createHref({pathname:m,search:u,hash:o})}function Yc(){return V.useContext(wh)!=null}function as(){return Je(Yc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(wh).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vw(r){V.useContext(Mr).static||V.useLayoutEffect(r)}function Wc(){let{isDataRoute:r}=V.useContext(Wr);return r?SR():dR()}function dR(){Je(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Ws),{basename:e,navigator:n}=V.useContext(Mr),{matches:a}=V.useContext(Wr),{pathname:o}=as(),c=JSON.stringify(Wp(a)),u=V.useRef(!1);return vw(()=>{u.current=!0}),V.useCallback((y,g={})=>{if(dn(u.current,yw),!u.current)return;if(typeof y=="number"){n.go(y);return}let _=Zp(y,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fi([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,c,o,r])}var hR=V.createContext(null);function fR(r){let e=V.useContext(Wr).outlet;return V.useMemo(()=>e&&V.createElement(hR.Provider,{value:r},e),[e,r])}function mR(){let{matches:r}=V.useContext(Wr),e=r[r.length-1];return e?e.params:{}}function Zc(r,{relative:e}={}){let{matches:n}=V.useContext(Wr),{pathname:a}=as(),o=JSON.stringify(Wp(n));return V.useMemo(()=>Zp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function pR(r,e,n,a,o){Je(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Mr),{matches:u}=V.useContext(Wr),m=u[u.length-1],y=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let $=w&&w.path||"";_w(g,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=as(),N;N=T;let k=N.pathname||"/",F=k;if(_!=="/"){let $=_.replace(/^\//,"").split("/");F="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let Q=Va(r,{pathname:F});return dn(w||Q!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),dn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_R(Q&&Q.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:fi([_,c.encodeLocation?c.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:fi([_,c.encodeLocation?c.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,a,o)}function gR(){let r=AR(),e=Dc(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,u)}var yR=V.createElement(gR,null),bw=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=cR(r.digest);n&&(r=n)}let e=r!==void 0?V.createElement(Wr.Provider,{value:this.props.routeContext},V.createElement(ng.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?V.createElement(vR,{error:r},e):e}};bw.contextType=mw;var $m=new WeakMap;function vR({children:r,error:e}){let{basename:n}=V.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=lR(e.digest);if(a){let o=$m.get(e);if(o)throw o;let c=nw(a.location,n);if(tw&&!$m.get(e))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw $m.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function bR({routeContext:r,match:e,children:n}){let a=V.useContext(Ws);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Wr.Provider,{value:r},n)}function _R(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,u=n?.errors;if(u!=null){let _=c.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Je(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let m=!1,y=-1;if(n)for(let _=0;_<c.length;_++){let w=c[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:T,errors:N}=n,k=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!N||N[w.route.id]===void 0);if(w.route.lazy||k){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=n&&a?(_,w)=>{a(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Qc(n.matches),errorInfo:w})}:void 0;return c.reduceRight((_,w,T)=>{let N,k=!1,F=null,Q=null;n&&(N=u&&w.route.id?u[w.route.id]:void 0,F=w.route.errorElement||yR,m&&(y<0&&T===0?(_w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):y===T&&(k=!0,Q=w.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,T+1)),$=()=>{let le;return N?le=F:k?le=Q:w.route.Component?le=V.createElement(w.route.Component,null):w.route.element?le=w.route.element:le=_,V.createElement(bR,{match:w,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:le})};return n&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?V.createElement(bw,{location:n.location,revalidation:n.revalidation,component:F,error:N,children:$(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):$()},null)}function rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(r){let e=V.useContext(Ws);return Je(e,rg(r)),e}function wR(r){let e=V.useContext(Xc);return Je(e,rg(r)),e}function ER(r){let e=V.useContext(Wr);return Je(e,rg(r)),e}function ig(r){let e=ER(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function TR(){return ig("useRouteId")}function AR(){let r=V.useContext(ng),e=wR("useRouteError"),n=ig("useRouteError");return r!==void 0?r:e.errors?.[n]}function SR(){let{router:r}=xR("useNavigate"),e=ig("useNavigate"),n=V.useRef(!1);return vw(()=>{n.current=!0}),V.useCallback(async(o,c={})=>{dn(n.current,yw),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var s_={};function _w(r,e,n){!e&&!s_[r]&&(s_[r]=!0,dn(!1,n))}var o_={};function l_(r,e){!r&&!o_[e]&&(o_[e]=!0,console.warn(e))}var RR="useOptimistic",c_=B1[RR],NR=()=>{};function CR(r){return c_?c_(r):[r,NR]}function IR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var kR=["HydrateFallback","hydrateFallbackElement"],DR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function OR({router:r,flushSync:e,onError:n,unstable_useTransitions:a}){a=iR()||a;let[c,u]=V.useState(r.state),[m,y]=CR(c),[g,_]=V.useState(),[w,T]=V.useState({isTransitioning:!1}),[N,k]=V.useState(),[F,Q]=V.useState(),[ne,$]=V.useState(),le=V.useRef(new Map),Ne=V.useCallback((R,{deletedFetchers:C,newErrors:j,flushSync:D,viewTransitionOpts:U})=>{j&&n&&Object.values(j).forEach(te=>n(te,{location:R.location,params:R.matches[0]?.params??{},unstable_pattern:Qc(R.matches)})),R.fetchers.forEach((te,pe)=>{te.data!==void 0&&le.current.set(pe,te.data)}),C.forEach(te=>le.current.delete(te)),l_(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(l_(U==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!I){e&&D?e(()=>u(R)):a===!1?u(R):V.startTransition(()=>{a===!0&&y(te=>u_(te,R)),u(R)});return}if(e&&D){e(()=>{F&&(N?.resolve(),F.skipTransition()),T({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let te=r.window.document.startViewTransition(()=>{e(()=>u(R))});te.finished.finally(()=>{e(()=>{k(void 0),Q(void 0),_(void 0),T({isTransitioning:!1})})}),e(()=>Q(te));return}F?(N?.resolve(),F.skipTransition(),$({state:R,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(_(R),T({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[r.window,e,F,N,a,y,n]);V.useLayoutEffect(()=>r.subscribe(Ne),[r,Ne]),V.useEffect(()=>{w.isTransitioning&&!w.flushSync&&k(new DR)},[w]),V.useEffect(()=>{if(N&&g&&r.window){let R=g,C=N.promise,j=r.window.document.startViewTransition(async()=>{a===!1?u(R):V.startTransition(()=>{a===!0&&y(D=>u_(D,R)),u(R)}),await C});j.finished.finally(()=>{k(void 0),Q(void 0),_(void 0),T({isTransitioning:!1})}),Q(j)}},[g,N,r.window,a,y]),V.useEffect(()=>{N&&g&&m.location.key===g.location.key&&N.resolve()},[N,F,m.location,g]),V.useEffect(()=>{!w.isTransitioning&&ne&&(_(ne.state),T({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}),$(void 0))},[w.isTransitioning,ne]);let Ae=V.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,C,j)=>r.navigate(R,{state:C,preventScrollReset:j?.preventScrollReset}),replace:(R,C,j)=>r.navigate(R,{replace:!0,state:C,preventScrollReset:j?.preventScrollReset})}),[r]),Te=r.basename||"/",E=V.useMemo(()=>({router:r,navigator:Ae,static:!1,basename:Te,onError:n}),[r,Ae,Te,n]);return V.createElement(V.Fragment,null,V.createElement(Ws.Provider,{value:E},V.createElement(Xc.Provider,{value:m},V.createElement(pw.Provider,{value:le.current},V.createElement(tg.Provider,{value:w},V.createElement(VR,{basename:Te,location:m.location,navigationType:m.historyAction,navigator:Ae,unstable_useTransitions:a},V.createElement(jR,{routes:r.routes,future:r.future,state:m,onError:n})))))),null)}function u_(r,e){return{...r,navigation:e.navigation.state!=="idle"?e.navigation:r.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:r.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:r.actionData,fetchers:e.fetchers}}var jR=V.memo(MR);function MR({routes:r,future:e,state:n,onError:a}){return pR(r,void 0,n,a,e)}function PR(r){return fR(r.context)}function VR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Je(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=V.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof n=="string"&&(n=is(n));let{pathname:g="/",search:_="",hash:w="",state:T=null,key:N="default"}=n,k=V.useMemo(()=>{let F=jr(g,m);return F==null?null:{location:{pathname:F,search:_,hash:w,state:T,key:N},navigationType:a}},[m,g,_,w,T,N,a]);return dn(k!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:V.createElement(Mr.Provider,{value:y},V.createElement(wh.Provider,{children:e,value:k}))}var Hd="get",qd="application/x-www-form-urlencoded";function Eh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function LR(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function UR(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function BR(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function zR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FR(r,e){return r.button===0&&(!e||e==="_self")&&!zR(r)}var Dd=null;function HR(){if(Dd===null)try{new FormData(document.createElement("form"),0),Dd=!1}catch{Dd=!0}return Dd}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(r){return r!=null&&!qR.has(r)?(dn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):r}function GR(r,e){let n,a,o,c,u;if(UR(r)){let m=r.getAttribute("action");a=m?jr(m,e):null,n=r.getAttribute("method")||Hd,o=ep(r.getAttribute("enctype"))||qd,c=new FormData(r)}else if(LR(r)||BR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(a=y?jr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hd,o=ep(r.getAttribute("formenctype"))||ep(m.getAttribute("enctype"))||qd,c=new FormData(m,r),!HR()){let{name:g,type:_,value:w}=r;if(_==="image"){let T=g?`${g}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else g&&c.append(g,w)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hd,a=null,o=qd,u=r}return c&&o==="text/plain"&&(u=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function KR(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&jr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function QR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YR(r,e,n){let a=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await QR(c,n);return u.links?u.links():[]}return[]}));return $R(a.flat(1).filter(XR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d_(r,e,n,a,o,c){let u=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>u(y,g)||m(y,g)):c==="data"?e.filter((y,g)=>{let _=a.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(u(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WR(r,e,{includeHydrateFallback:n}={}){return ZR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ZR(r){return[...new Set(r)]}function JR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function $R(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let c=JSON.stringify(JR(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function xw(){let r=V.useContext(Ws);return ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eN(){let r=V.useContext(Xc);return ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sg=V.createContext(void 0);sg.displayName="FrameworkContext";function ww(){let r=V.useContext(sg);return ag(r,"You must render this element inside a <HydratedRouter> element"),r}function tN(r,e){let n=V.useContext(sg),[a,o]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,T=V.useRef(null);V.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let F=ne=>{ne.forEach($=>{u($.isIntersecting)})},Q=new IntersectionObserver(F,{threshold:.5});return T.current&&Q.observe(T.current),()=>{Q.disconnect()}}},[r]),V.useEffect(()=>{if(a){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[a]);let N=()=>{o(!0)},k=()=>{o(!1),u(!1)};return n?r!=="intent"?[c,T,{}]:[c,T,{onFocus:hc(m,N),onBlur:hc(y,k),onMouseEnter:hc(g,N),onMouseLeave:hc(_,k),onTouchStart:hc(w,N)}]:[!1,T,{}]}function hc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function nN({page:r,...e}){let{router:n}=xw(),a=V.useMemo(()=>Va(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?V.createElement(iN,{page:r,matches:a,...e}):null}function rN(r){let{manifest:e,routeModules:n}=ww(),[a,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return YR(r,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[r,e,n]),a}function iN({page:r,matches:e,...n}){let a=as(),{future:o,manifest:c,routeModules:u}=ww(),{basename:m}=xw(),{loaderData:y,matches:g}=eN(),_=V.useMemo(()=>d_(r,e,g,c,a,"data"),[r,e,g,c,a]),w=V.useMemo(()=>d_(r,e,g,c,a,"assets"),[r,e,g,c,a]),T=V.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,Q=!1;if(e.forEach($=>{let le=c.routes[$.route.id];!le||!le.hasLoader||(!_.some(Ne=>Ne.route.id===$.route.id)&&$.route.id in y&&u[$.route.id]?.shouldRevalidate||le.hasClientLoader?Q=!0:F.add($.route.id))}),F.size===0)return[];let ne=KR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&F.size>0&&ne.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,a,c,_,e,r,u]),N=V.useMemo(()=>WR(w,c),[w,c]),k=rN(w);return V.createElement(V.Fragment,null,T.map(F=>V.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),N.map(F=>V.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:Q})=>V.createElement("link",{key:F,nonce:n.nonce,...Q,crossOrigin:Q.crossOrigin??n.crossOrigin})))}function aN(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sN&&(window.__reactRouterVersion="7.13.0")}catch{}function oN(r,e){return OS({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Y1({window:e?.window}),hydrationData:lN(),routes:r,mapRouteProperties:IR,hydrationRouteProperties:kR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function lN(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:cN(r.errors)}),r}function cN(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Kc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let u=new c(o.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let c=new Error(o.message);c.stack="",n[a]=c}}else n[a]=o;return n}var Ew=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:u,state:m,target:y,to:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T,...N},k){let{basename:F,unstable_useTransitions:Q}=V.useContext(Mr),ne=typeof g=="string"&&Ew.test(g),$=nw(g,F);g=$.to;let le=uR(g,{relative:o}),[Ne,Ae,Te]=tN(a,N),E=fN(g,{replace:u,state:m,target:y,preventScrollReset:_,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:T,unstable_useTransitions:Q});function R(j){e&&e(j),j.defaultPrevented||E(j)}let C=V.createElement("a",{...N,...Te,href:$.absoluteURL||le,onClick:$.isExternal||c?e:R,ref:aN(k,Ae),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return Ne&&!ne?V.createElement(V.Fragment,null,C,V.createElement(nN,{page:le})):C});ut.displayName="Link";var uN=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:m,children:y,...g},_){let w=Zc(u,{relative:g.relative}),T=as(),N=V.useContext(Xc),{navigator:k,basename:F}=V.useContext(Mr),Q=N!=null&&vN(w)&&m===!0,ne=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,$=T.pathname,le=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||($=$.toLowerCase(),le=le?le.toLowerCase():null,ne=ne.toLowerCase()),le&&F&&(le=jr(le,F)||le);const Ne=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ae=$===ne||!o&&$.startsWith(ne)&&$.charAt(Ne)==="/",Te=le!=null&&(le===ne||!o&&le.startsWith(ne)&&le.charAt(ne.length)==="/"),E={isActive:Ae,isPending:Te,isTransitioning:Q},R=Ae?e:void 0,C;typeof a=="function"?C=a(E):C=[a,Ae?"active":null,Te?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(E):c;return V.createElement(ut,{...g,"aria-current":R,className:C,ref:_,style:j,to:u,viewTransition:m},typeof y=="function"?y(E):y)});uN.displayName="NavLink";var dN=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:u=Hd,action:m,onSubmit:y,relative:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T,...N},k)=>{let{unstable_useTransitions:F}=V.useContext(Mr),Q=gN(),ne=yN(m,{relative:g}),$=u.toLowerCase()==="get"?"get":"post",le=typeof m=="string"&&Ew.test(m),Ne=Ae=>{if(y&&y(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let Te=Ae.nativeEvent.submitter,E=Te?.getAttribute("formmethod")||u,R=()=>Q(Te||Ae.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:o,state:c,relative:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:T});F&&n!==!1?V.startTransition(()=>R()):R()};return V.createElement("form",{ref:k,method:$,action:ne,onSubmit:a?y:Ne,...N,"data-discover":!le&&r==="render"?"true":void 0})});dN.displayName="Form";function hN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(r){let e=V.useContext(Ws);return Je(e,hN(r)),e}function fN(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=Wc(),_=as(),w=Zc(r,{relative:c});return V.useCallback(T=>{if(FR(T,e)){T.preventDefault();let N=n!==void 0?n:xi(_)===xi(w),k=()=>g(r,{replace:N,state:a,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});y?V.startTransition(()=>k()):k()}},[_,g,w,n,a,e,r,o,c,u,m,y])}var mN=0,pN=()=>`__${String(++mN)}__`;function gN(){let{router:r}=Tw("useSubmit"),{basename:e}=V.useContext(Mr),n=TR(),a=r.fetch,o=r.navigate;return V.useCallback(async(c,u={})=>{let{action:m,method:y,encType:g,formData:_,body:w}=GR(c,e);if(u.navigate===!1){let T=u.fetcherKey||pN();await a(T,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||y,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||y,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,o,e,n])}function yN(r,{relative:e}={}){let{basename:n}=V.useContext(Mr),a=V.useContext(Wr);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Zc(r||".",{relative:e})},u=as();if(r==null){c.search=u.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(_=>_==="")){m.delete("index"),y.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fi([n,c.pathname])),xi(c)}function vN(r,{relative:e}={}){let n=V.useContext(tg);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Tw("useViewTransitionState"),o=Zc(r,{relative:e});if(!n.isTransitioning)return!1;let c=jr(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=jr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return th(o.pathname,u)!=null||th(o.pathname,c)!=null}var bN=Xx();function _N(r){return V.createElement(OR,{flushSync:bN.flushSync,...r})}function xN(){return p.jsxs("footer",{className:"bg-background-dark text-[#f7f5f8] py-16 px-4 border-t border-white/10 mt-auto",children:[p.jsxs("div",{className:"max-w-[1100px] mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[p.jsxs("div",{className:"col-span-1 md:col-span-1 flex flex-col gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-white",children:[p.jsx("img",{alt:"Black Eagle Archery logo",className:"h-6 w-6 object-contain",src:"/logo.png"}),p.jsx("span",{className:"text-lg font-bold",children:"Black Eagle"})]}),p.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:"Handcrafted traditional bows made in the USA. Preserving history, one shot at a time."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Shop"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Recurve Bows"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Longbows"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Accessories"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Apparel"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Company"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/about",children:"Our Story"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/about",children:"About Freddie"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/",children:"Journal"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/contact",children:"Contact Us"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Contact"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"location_on"})," Bend, Oregon"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"mail"})," info@blackeagle.com"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"call"})," (555) 123-4567"]})]})]})]}),p.jsxs("div",{className:"max-w-[1100px] mx-auto mt-16 pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-white/40",children:[p.jsx("p",{children:" 2023 Black Eagle Archery. All rights reserved."}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx(ut,{className:"hover:text-white",to:"/",children:"Privacy Policy"}),p.jsx(ut,{className:"hover:text-white",to:"/",children:"Terms of Service"})]})]})]})}const og="black-eagle-cart",lg=typeof window<"u",vp=new Set,Oc=()=>{if(!lg)return[];const r=window.localStorage.getItem(og);if(!r)return[];try{const e=JSON.parse(r);return!Array.isArray(e)||e.length===0?[]:e}catch{return[]}},jc=r=>{lg&&(window.localStorage.setItem(og,JSON.stringify(r)),vp.forEach(e=>e(r)))},h_=r=>`${r.productId}::${r.option??""}`,wN=r=>(vp.add(r),()=>vp.delete(r)),cg=r=>{const e=Oc(),n=h_(r),a=e.findIndex(c=>h_(c)===n);if(a>=0){const c=e[a],u={...c,quantity:c.quantity+r.quantity,note:r.note??c.note},m=[...e];return m[a]=u,jc(m),m}const o=[...e,r];return jc(o),o},f_=(r,e,n)=>{const a=Oc();if(n<=0){const c=a.filter(u=>!(u.productId===r&&u.option===e));return jc(c),c}const o=a.map(c=>c.productId!==r||c.option!==e?c:{...c,quantity:n});return jc(o),o},EN=(r,e)=>{const a=Oc().filter(o=>!(o.productId===r&&o.option===e));return jc(a),a},Aw=()=>{const[r,e]=V.useState(()=>Oc());return V.useEffect(()=>{const n=wN(e);if(!lg)return n;const a=o=>{o.key===og&&e(Oc())};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a),n()}},[]),r};function TN(){const[r,e]=V.useState(!1),n=Aw(),a=V.useMemo(()=>n.reduce((o,c)=>o+c.quantity,0),[n]);return p.jsxs("header",{className:"fixed top-0 left-0 z-50 w-full border-b border-[#e5ded0] bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm shadow-sm",children:[p.jsxs("div",{className:"px-4 md:px-10 py-3 flex items-center justify-between max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"size-8 flex items-center justify-center",children:p.jsx("img",{alt:"Black Eagle Archery logo",className:"h-8 w-8 object-contain",src:"/logo.png"})}),p.jsx("h2",{className:"text-[#160c1d] dark:text-white text-xl font-bold tracking-tight",children:"Black Eagle Archery"})]}),p.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/",children:"Home"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/products",children:"Shop"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/about",children:"About Freddie"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/contact",children:"Contact"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/admin",children:"Admin"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden text-[#160c1d] dark:text-white",onClick:()=>e(o=>!o),type:"button",children:p.jsx("span",{className:"material-symbols-outlined",children:r?"close":"menu"})}),p.jsxs(ut,{className:"flex items-center justify-center rounded-lg h-10 w-10 bg-primary/10 hover:bg-primary/20 text-primary transition-colors relative",to:"/cart",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"shopping_cart"}),a>0?p.jsx("span",{className:"absolute -top-1 -right-1 min-w-5 h-5 px-1 rounded-full bg-primary text-white text-xs font-bold flex items-center justify-center",children:a}):null]})]})]}),r?p.jsx("div",{className:"md:hidden border-t border-[#e5ded0] bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm",children:p.jsxs("nav",{className:"px-4 py-4 flex flex-col gap-3 max-w-7xl mx-auto",children:[p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/",children:"Home"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/products",children:"Shop"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/about",children:"About Freddie"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/contact",children:"Contact"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/admin",children:"Admin"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/cart",children:"Cart"})]})}):null]})}function AN(){const e=as().pathname.startsWith("/admin");return p.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#160c1d] dark:text-[#f7f5f8] font-display overflow-x-hidden flex flex-col min-h-screen",children:[e?null:p.jsx(TN,{}),p.jsx("main",{className:`flex-1 ${e?"":"pt-16"}`,children:p.jsx(PR,{})}),e?null:p.jsx(xN,{})]})}const SN=()=>{};var m_={};const Sw=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RN=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],u=r[n++],m=r[n++],y=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],u=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,m=u?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,_=c>>2,w=(c&3)<<4|m>>4;let T=(m&15)<<2|g>>6,N=g&63;y||(N=64,u||(T=64)),a.push(n[_],n[w],n[T],n[N])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||w==null)throw new NN;const T=c<<2|m>>4;if(a.push(T),g!==64){const N=m<<4&240|g>>2;if(a.push(N),w!==64){const k=g<<6&192|w;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CN=function(r){const e=Sw(r);return Rw.encodeByteArray(e,!0)},nh=function(r){return CN(r).replace(/\./g,"")},Nw=function(r){try{return Rw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kN=()=>IN().__FIREBASE_DEFAULTS__,DN=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ON=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Nw(r[1]);return e&&JSON.parse(e)},Th=()=>{try{return SN()||kN()||DN()||ON()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cw=r=>Th()?.emulatorHosts?.[r],Iw=r=>{const e=Cw(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},kw=()=>Th()?.config,Dw=r=>Th()?.[`_${r}`];class jN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function ss(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ug(r){return(await fetch(r,{credentials:"include"})).ok}function MN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(u)),""].join(".")}const Tc={};function PN(){const r={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?r.emulator.push(e):r.prod.push(e);return r}function VN(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let p_=!1;function dg(r,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||Tc[r]===e||Tc[r]||p_)return;Tc[r]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",c=PN().prod.length>0;function u(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{p_=!0,u()},T}function _(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=VN(a),N=n("text"),k=document.getElementById(N)||document.createElement("span"),F=n("learnmore"),Q=document.getElementById(F)||document.createElement("a"),ne=n("preprendIcon"),$=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const le=T.element;m(le),_(Q,F);const Ne=g();y($,ne),le.append($,k,Q,Ne),document.body.appendChild(le)}c?(k.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function UN(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HN(){const r=Ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qN(){return!UN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const QN="FirebaseError";class Ti extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=QN,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?XN(c,a):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Ti(o,m,a)}}function XN(r,e){return r.replace(YN,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YN=/\{\$([^}]+)}/g;function WN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=r[o],u=e[o];if(g_(c)&&g_(u)){if(!Fs(c,u))return!1}else if(c!==u)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}function $c(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function vc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ZN(r,e){const n=new JN(r,e);return n.subscribe.bind(n)}class JN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");$N(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=tp),o.error===void 0&&(o.error=tp),o.complete===void 0&&(o.complete=tp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tp(){}function tn(r){return r&&r._delegate?r._delegate:r}class Za{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vs="[DEFAULT]";class eC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new jN;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nC(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&u.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tC(r){return r===Vs?void 0:r}function nC(r){return r.instantiationMode==="EAGER"}class rC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var at;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(at||(at={}));const iC={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},aC=at.INFO,sC={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},oC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=sC[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const lC=(r,e)=>e.some(n=>r instanceof n);let y_,v_;function cC(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ow=new WeakMap,bp=new WeakMap,jw=new WeakMap,np=new WeakMap,fg=new WeakMap;function dC(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{n(Ga(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Ow.set(n,r)}).catch(()=>{}),fg.set(e,r),e}function hC(r){if(bp.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});bp.set(r,e)}let _p={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return bp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fC(r){_p=r(_p)}function mC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(rp(this),e,...n);return jw.set(a,e.sort?e.sort():[e]),Ga(a)}:uC().includes(r)?function(...e){return r.apply(rp(this),e),Ga(Ow.get(this))}:function(...e){return Ga(r.apply(rp(this),e))}}function pC(r){return typeof r=="function"?mC(r):(r instanceof IDBTransaction&&hC(r),lC(r,cC())?new Proxy(r,_p):r)}function Ga(r){if(r instanceof IDBRequest)return dC(r);if(np.has(r))return np.get(r);const e=pC(r);return e!==r&&(np.set(r,e),fg.set(e,r)),e}const rp=r=>fg.get(r);function gC(r,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),m=Ga(u);return a&&u.addEventListener("upgradeneeded",y=>{a(Ga(u.result),y.oldVersion,y.newVersion,Ga(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const yC=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],ip=new Map;function b_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=vC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||yC.includes(n)))return;const c=async function(u,...m){const y=this.transaction(u,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return ip.set(e,c),c}fC(r=>({...r,get:(e,n,a)=>b_(e,n)||r.get(e,n,a),has:(e,n)=>!!b_(e,n)||r.has(e,n)}));class bC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_C(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function _C(r){return r.getComponent()?.type==="VERSION"}const xp="@firebase/app",__="0.14.8";const $i=new hg("@firebase/app"),xC="@firebase/app-compat",wC="@firebase/analytics-compat",EC="@firebase/analytics",TC="@firebase/app-check-compat",AC="@firebase/app-check",SC="@firebase/auth",RC="@firebase/auth-compat",NC="@firebase/database",CC="@firebase/data-connect",IC="@firebase/database-compat",kC="@firebase/functions",DC="@firebase/functions-compat",OC="@firebase/installations",jC="@firebase/installations-compat",MC="@firebase/messaging",PC="@firebase/messaging-compat",VC="@firebase/performance",LC="@firebase/performance-compat",UC="@firebase/remote-config",BC="@firebase/remote-config-compat",zC="@firebase/storage",FC="@firebase/storage-compat",HC="@firebase/firestore",qC="@firebase/ai",GC="@firebase/firestore-compat",KC="firebase",QC="12.9.0";const wp="[DEFAULT]",XC={[xp]:"fire-core",[xC]:"fire-core-compat",[EC]:"fire-analytics",[wC]:"fire-analytics-compat",[AC]:"fire-app-check",[TC]:"fire-app-check-compat",[SC]:"fire-auth",[RC]:"fire-auth-compat",[NC]:"fire-rtdb",[CC]:"fire-data-connect",[IC]:"fire-rtdb-compat",[kC]:"fire-fn",[DC]:"fire-fn-compat",[OC]:"fire-iid",[jC]:"fire-iid-compat",[MC]:"fire-fcm",[PC]:"fire-fcm-compat",[VC]:"fire-perf",[LC]:"fire-perf-compat",[UC]:"fire-rc",[BC]:"fire-rc-compat",[zC]:"fire-gcs",[FC]:"fire-gcs-compat",[HC]:"fire-fst",[GC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[KC]:"fire-js-all"};const rh=new Map,YC=new Map,Ep=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hs(r){const e=r.name;if(Ep.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,r);for(const n of rh.values())x_(n,r);for(const n of YC.values())x_(n,r);return!0}function Ah(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dr(r){return r==null?!1:r.settings!==void 0}const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Jc("app","Firebase",WC);class ZC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}const ll=QC;function Sh(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:wp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ka.create("bad-app-name",{appName:String(o)});if(n||(n=kw()),!n)throw Ka.create("no-options");const c=rh.get(o);if(c){if(Fs(n,c.options)&&Fs(a,c.config))return c;throw Ka.create("duplicate-app",{appName:o})}const u=new rC(o);for(const y of Ep.values())u.addComponent(y);const m=new ZC(n,a,u);return rh.set(o,m),m}function mg(r=wp){const e=rh.get(r);if(!e&&r===wp&&kw())return Sh();if(!e)throw Ka.create("no-app",{appName:r});return e}function mi(r,e,n){let a=XC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(u.join(" "));return}Hs(new Za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const JC="firebase-heartbeat-database",$C=1,Mc="firebase-heartbeat-store";let ap=null;function Mw(){return ap||(ap=gC(JC,$C,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ka.create("idb-open",{originalErrorMessage:r.message})})),ap}async function eI(r){try{const n=(await Mw()).transaction(Mc),a=await n.objectStore(Mc).get(Pw(r));return await n.done,a}catch(e){if(e instanceof Ti)$i.warn(e.message);else{const n=Ka.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function w_(r,e){try{const a=(await Mw()).transaction(Mc,"readwrite");await a.objectStore(Mc).put(e,Pw(r)),await a.done}catch(n){if(n instanceof Ti)$i.warn(n.message);else{const a=Ka.create("idb-set",{originalErrorMessage:n?.message});$i.warn(a.message)}}}function Pw(r){return`${r.name}!${r.options.appId}`}const tI=1024,nI=30;class rI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>nI){const o=sI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:n,unsentEntries:a}=iI(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $i.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function iI(r,e=tI){const n=[];let a=r.slice();for(const o of r){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),T_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class aI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function T_(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function sI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function oI(r){Hs(new Za("platform-logger",e=>new bC(e),"PRIVATE")),Hs(new Za("heartbeat",e=>new rI(e),"PRIVATE")),mi(xp,__,r),mi(xp,__,"esm2020"),mi("fire-js","")}oI("");var lI="firebase",cI="12.9.0";mi(lI,cI,"app");function Vw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uI=Vw,Lw=new Jc("auth","Firebase",Vw());const ih=new hg("@firebase/auth");function dI(r,...e){ih.logLevel<=at.WARN&&ih.warn(`Auth (${ll}): ${r}`,...e)}function Gd(r,...e){ih.logLevel<=at.ERROR&&ih.error(`Auth (${ll}): ${r}`,...e)}function Xr(r,...e){throw pg(r,...e)}function pi(r,...e){return pg(r,...e)}function Uw(r,e,n){const a={...uI(),[e]:n};return new Jc("auth","Firebase",a).create(e,{appName:r.name})}function Qa(r){return Uw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Lw.create(r,...e)}function Be(r,e,...n){if(!r)throw pg(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gd(e),new Error(e)}function ea(r,e){r||Wi(e)}function Tp(){return typeof self<"u"&&self.location?.href||""}function hI(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}function fI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hI()||zN()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=LN()||FN()}get(){return fI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(r,e){ea(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Bw{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new eu(3e4,6e4);function Zs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function os(r,e,n,a,o={}){return zw(r,o,async()=>{let c={},u={};a&&(e==="GET"?u=a:c={body:JSON.stringify(a)});const m=$c({key:r.config.apiKey,...u}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...c};return BN()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ss(r.emulatorConfig.host)&&(g.credentials="include"),Bw.fetch()(await Fw(r,r.config.apiHost,n,m),g)})}async function zw(r,e,n){r._canInitEmulator=!1;const a={...pI,...e};try{const o=new bI(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Od(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(r,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw Od(r,"email-already-in-use",u);if(y==="USER_DISABLED")throw Od(r,"user-disabled",u);const _=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Uw(r,_,g);Xr(r,_)}}catch(o){if(o instanceof Ti)throw o;Xr(r,"network-request-failed",{message:String(o)})}}async function Rh(r,e,n,a,o={}){const c=await os(r,e,n,a,o);return"mfaPendingCredential"in c&&Xr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fw(r,e,n,a){const o=`${e}${n}?${a}`,c=r,u=c.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return gI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function vI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(pi(this.auth,"network-request-failed")),yI.get())})}}function Od(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=pi(r,e,a);return o.customData._tokenResponse=n,o}function S_(r){return r!==void 0&&r.enterprise!==void 0}class _I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xI(r,e){return os(r,"GET","/v2/recaptchaConfig",Zs(r,e))}async function wI(r,e){return os(r,"POST","/v1/accounts:delete",e)}async function ah(r,e){return os(r,"POST","/v1/accounts:lookup",e)}function Ac(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EI(r,e=!1){const n=tn(r),a=await n.getIdToken(e),o=yg(a);Be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:a,authTime:Ac(sp(o.auth_time)),issuedAtTime:Ac(sp(o.iat)),expirationTime:Ac(sp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sp(r){return Number(r)*1e3}function yg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nw(n);return o?JSON.parse(o):(Gd("Failed to decode base64 JWT payload"),null)}catch(o){return Gd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R_(r){const e=yg(r);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pc(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ti&&TI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function TI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class AI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const e=r.auth,n=await r.getIdToken(),a=await Pc(r,ah(e,{idToken:n}));Be(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hw(o.providerUserInfo):[],u=RI(r.providerData,c),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!u?.length,g=m?y:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function SI(r){const e=tn(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RI(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Hw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function NI(r,e){const n=await zw(r,{},async()=>{const a=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await Fw(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return r.emulatorConfig&&ss(r.emulatorConfig.host)&&(y.credentials="include"),Bw.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CI(r,e){return os(r,"POST","/v2/accounts:revokeToken",Zs(r,e))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=R_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await NI(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,u=new Xo;return a&&(Be(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Be(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Pa(r,e){Be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EI(this,e)}reload(){return SI(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Pc(this,wI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:N,providerData:k,stsTokenManager:F}=n;Be(w&&F,e,"internal-error");const Q=Xo.fromJSON(this.name,F);Be(typeof w=="string",e,"internal-error"),Pa(a,e.name),Pa(o,e.name),Be(typeof T=="boolean",e,"internal-error"),Be(typeof N=="boolean",e,"internal-error"),Pa(c,e.name),Pa(u,e.name),Pa(m,e.name),Pa(y,e.name),Pa(g,e.name),Pa(_,e.name);const ne=new Gr({uid:w,auth:e,email:o,emailVerified:T,displayName:a,isAnonymous:N,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(ne.providerData=k.map($=>({...$}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,a=!1){const o=new Xo;o.updateFromServerResponse(n);const c=new Gr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new Xo;m.updateFromIdToken(a);const y=new Gr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,g),y}}const N_=new Map;function Zi(r){ea(r instanceof Function,"Expected a class definition");let e=N_.get(r);return e?(ea(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,N_.set(r,e),e)}class qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qw.type="NONE";const C_=qw;function Kd(r,e,n){return`firebase:${r}:${e}:${n}`}class Yo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Kd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Kd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ah(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Yo(Zi(C_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Zi(C_);const u=Kd(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(u);if(_){let w;if(typeof _=="string"){const T=await ah(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Gr._fromGetAccountInfoResponse(e,T,_)}else w=Gr._fromJSON(e,_);g!==c&&(m=w),c=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Yo(c,e,a):(c=y[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Yo(c,e,a))}}function I_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ww(e))return"Blackberry";if(Zw(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||Qw(e))&&!e.includes("edge/"))return"Chrome";if(Yw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Gw(r=Ln()){return/firefox\//i.test(r)}function Kw(r=Ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qw(r=Ln()){return/crios\//i.test(r)}function Xw(r=Ln()){return/iemobile/i.test(r)}function Yw(r=Ln()){return/android/i.test(r)}function Ww(r=Ln()){return/blackberry/i.test(r)}function Zw(r=Ln()){return/webos/i.test(r)}function vg(r=Ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function II(r=Ln()){return vg(r)&&!!window.navigator?.standalone}function kI(){return HN()&&document.documentMode===10}function Jw(r=Ln()){return vg(r)||Yw(r)||Zw(r)||Ww(r)||/windows phone/i.test(r)||Xw(r)}function $w(r,e=[]){let n;switch(r){case"Browser":n=I_(Ln());break;case"Worker":n=`${I_(Ln())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${a}`}class DI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((u,m)=>{try{const y=e(c);u(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function OI(r,e={}){return os(r,"GET","/v2/passwordPolicy",Zs(r,e))}const jI=6;class MI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class PI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new DI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ah(this,{idToken:e}),a=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Qa(this));const n=e?tn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OI(this),n=new MI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await CI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(r){return tn(r)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VI(r){Nh=r}function eE(r){return Nh.loadJS(r)}function LI(){return Nh.recaptchaEnterpriseScript}function UI(){return Nh.gapiScript}function BI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zI{constructor(){this.enterprise=new FI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HI="recaptcha-enterprise",tE="NO_RECAPTCHA";class qI{constructor(e){this.type=HI,this.auth=cl(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{xI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _I(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(y=>{m(y)})})}function o(c,u,m){const y=window.grecaptcha;S_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(tE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zI().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{a(this.auth).then(m=>{if(!n&&S_(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=LI();y.length!==0&&(y+=m),eE(y).then(()=>{o(m,c,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function D_(r,e,n,a=!1,o=!1){const c=new qI(r);let u;if(o)u=tE;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function O_(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await D_(r,e,n,n==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await D_(r,e,n,n==="getOobCode");return a(r,u)}else return Promise.reject(c)})}function GI(r,e){const n=Ah(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Fs(c,e??{}))return o;Xr(o,"already-initialized")}return n.initialize({options:e})}function KI(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function QI(r,e,n){const a=cl(r);Be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=nE(e),{host:u,port:m}=XI(e),y=m===null?"":`:${m}`,g={url:`${c}//${u}${y}/`},_=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Be(Fs(g,a.config.emulator)&&Fs(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,ss(u)?(ug(`${c}//${u}${y}`),dg("Auth",!0)):YI()}function nE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XI(r){const e=nE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:j_(a.substr(c.length+1))}}else{const[c,u]=a.split(":");return{host:c,port:j_(u)}}}function j_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function WI(r,e){return os(r,"POST","/v1/accounts:signUp",e)}async function ZI(r,e){return Rh(r,"POST","/v1/accounts:signInWithPassword",Zs(r,e))}async function JI(r,e){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,e))}async function $I(r,e){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,e))}class Vc extends bg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Vc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,n,"signInWithPassword",ZI);case"emailLink":return JI(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,a,"signUpPassword",WI);case"emailLink":return $I(e,{idToken:n,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wo(r,e){return Rh(r,"POST","/v1/accounts:signInWithIdp",Zs(r,e))}const e2="http://localhost";class qs extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const u=new qs(a,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Wo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$c(n)}return e}}function t2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n2(r){const e=yc(vc(r)).link,n=e?yc(vc(e)).deep_link_id:null,a=yc(vc(r)).deep_link_id;return(a?yc(vc(a)).link:null)||a||n||e||r}class _g{constructor(e){const n=yc(vc(e)),a=n.apiKey??null,o=n.oobCode??null,c=t2(n.mode??null);Be(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=n2(e);try{return new _g(n)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=_g.parseLink(n);return Be(a,"argument-error"),Vc._fromEmailAndCode(e,a.code,a.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ua extends tu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";class Ba extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ba.credential(n,a)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";class za extends tu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";class Fa extends tu{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Fa.credential(n,a)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await Gr._fromIdTokenResponse(e,a,o),u=M_(a);return new el({user:c,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=M_(a);return new el({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function M_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class oh extends Ti{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new oh(e,n,a,o)}}function iE(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,c,e,a):c})}async function r2(r,e,n=!1){const a=await Pc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return el._forOperation(r,"link",a)}async function i2(r,e,n=!1){const{auth:a}=r;if(Dr(a.app))return Promise.reject(Qa(a));const o="reauthenticate";try{const c=await Pc(r,iE(a,o,e,r),n);Be(c.idToken,a,"internal-error");const u=yg(c.idToken);Be(u,a,"internal-error");const{sub:m}=u;return Be(r.uid===m,a,"user-mismatch"),el._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Xr(a,"user-mismatch"),c}}async function aE(r,e,n=!1){if(Dr(r.app))return Promise.reject(Qa(r));const a="signIn",o=await iE(r,a,e),c=await el._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(c.user),c}async function a2(r,e){return aE(cl(r),e)}async function s2(r){const e=cl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function o2(r,e,n){return Dr(r.app)?Promise.reject(Qa(r)):a2(tn(r),ul.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&s2(r),a})}function l2(r,e,n,a){return tn(r).onIdTokenChanged(e,n,a)}function c2(r,e,n){return tn(r).beforeAuthStateChanged(e,n)}function u2(r){return tn(r).signOut()}const lh="__sak";class sE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const d2=1e3,h2=10;class oE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,y)=>{this.notifyListeners(u,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},c=this.storage.getItem(a);kI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,h2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const f2=oE;class lE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lE.type="SESSION";const cE=lE;function m2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(u).map(async g=>g(n.origin,c)),y=await m2(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function xg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,y)=>{const g=xg("",20);o.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(T.data.response);break;default:clearTimeout(_),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function gi(){return window}function g2(r){gi().location.href=r}function uE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function y2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){return navigator?.serviceWorker?.controller||null}function b2(){return uE()?self:null}const dE="firebaseLocalStorageDb",_2=1,ch="firebaseLocalStorage",hE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,e){return r.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function x2(){const r=indexedDB.deleteDatabase(dE);return new nu(r).toPromise()}function Sp(){const r=indexedDB.open(dE,_2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:hE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?e(a):(a.close(),await x2(),e(await Sp()))})})}async function P_(r,e,n){const a=Ih(r,!0).put({[hE]:e,value:n});return new nu(a).toPromise()}async function w2(r,e){const n=Ih(r,!1).get(e),a=await new nu(n).toPromise();return a===void 0?null:a.value}function V_(r,e){const n=Ih(r,!0).delete(e);return new nu(n).toPromise()}const E2=800,T2=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>T2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(b2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await P_(e,lh,"1"),await V_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>w2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ih(o,!1).getAll();return new nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const A2=fE;new eu(3e4,6e4);function S2(r,e){return e?Zi(e):(Be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wg extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R2(r){return aE(r.auth,new wg(r),r.bypassAuthState)}function N2(r){const{auth:e,user:n}=r;return Be(n,e,"internal-error"),i2(n,new wg(r),r.bypassAuthState)}async function C2(r){const{auth:e,user:n}=r;return Be(n,e,"internal-error"),r2(n,new wg(r),r.bypassAuthState)}class mE{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return N2;default:Xr(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I2=new eu(2e3,1e4);class Ko extends mE{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I2.get())};e()}}Ko.currentPopupAction=null;const k2="pendingRedirect",Qd=new Map;class D2 extends mE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const a=await O2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O2(r,e){const n=P2(e),a=M2(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function j2(r,e){Qd.set(r._key(),e)}function M2(r){return Zi(r._redirectPersistence)}function P2(r){return Kd(k2,r.config.apiKey,r.name)}async function V2(r,e,n=!1){if(Dr(r.app))return Promise.reject(Qa(r));const a=cl(r),o=S2(a,e),u=await new D2(a,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}const L2=600*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function B2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(r);default:return!1}}async function z2(r,e={}){return os(r,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function q2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await z2(r);for(const n of e)try{if(G2(n))return}catch{}Xr(r,"unauthorized-domain")}function G2(r){const e=Tp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!H2.test(n))return!1;if(F2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const K2=new eu(3e4,6e4);function U_(){const r=gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Q2(r){return new Promise((e,n)=>{function a(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(pi(r,"network-request-failed"))},timeout:K2.get()})}if(gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gi().gapi?.load)a();else{const o=BI("iframefcb");return gi()[o]=()=>{gapi.load?a():n(pi(r,"network-request-failed"))},eE(`${UI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function X2(r){return Xd=Xd||Q2(r),Xd}const Y2=new eu(5e3,15e3),W2="__/auth/iframe",Z2="emulator/auth/iframe",J2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(r){const e=r.config;Be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gg(e,Z2):`https://${r.config.authDomain}/${W2}`,a={apiKey:e.apiKey,appName:r.name,v:ll},o=$2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${$c(a).slice(1)}`}async function tk(r){const e=await X2(r),n=gi().gapi;return Be(n,r,"internal-error"),e.open({where:document.body,url:ek(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const u=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{c(u)},Y2.get());function y(){gi().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{c(u)})}))}const nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rk=500,ik=600,ak="_blank",sk="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ok(r,e,n,a=rk,o=ik){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...nk,width:a.toString(),height:o.toString(),top:c,left:u},g=Ln().toLowerCase();n&&(m=Qw(g)?ak:n),Gw(g)&&(e=e||sk,y.scrollbars="yes");const _=Object.entries(y).reduce((T,[N,k])=>`${T}${N}=${k},`,"");if(II(g)&&m!=="_self")return lk(e||"",m),new B_(null);const w=window.open(e||"",m,_);Be(w,r,"popup-blocked");try{w.focus()}catch{}return new B_(w)}function lk(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const ck="__/auth/handler",uk="emulator/auth/handler",dk=encodeURIComponent("fac");async function z_(r,e,n,a,o,c){Be(r.config.authDomain,r,"auth-domain-config-required"),Be(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:ll,eventId:o};if(e instanceof rE){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",WN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof tu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const y=await r._getAppCheckToken(),g=y?`#${dk}=${encodeURIComponent(y)}`:"";return`${hk(r)}?${$c(m).slice(1)}${g}`}function hk({config:r}){return r.emulator?gg(r,uk):`https://${r.authDomain}/${ck}`}const op="webStorageSupport";class fk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=V2,this._overrideRedirectResult=j2}async _openPopup(e,n,a,o){ea(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await z_(e,n,a,Tp(),o);return ok(e,c,xg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await z_(e,n,a,Tp(),o);return g2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ea(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await tk(e),a=new U2(e);return n.register("authEvent",o=>(Be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},o=>{const c=o?.[0]?.[op];c!==void 0&&n(!!c),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jw()||Kw()||vg()}}const mk=fk;var F_="@firebase/auth",H_="1.12.0";class pk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yk(r){Hs(new Za("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;Be(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(r)},g=new PI(a,o,c,y);return KI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Hs(new Za("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(a=>new pk(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(F_,H_,gk(r)),mi(F_,H_,"esm2020")}const vk=300,bk=Dw("authIdTokenMaxAge")||vk;let q_=null;const _k=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>bk)return;const o=n?.token;q_!==o&&(q_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xk(r=mg()){const e=Ah(r,"auth");if(e.isInitialized())return e.getImmediate();const n=GI(r,{popupRedirectResolver:mk,persistence:[A2,f2,cE]}),a=Dw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const u=_k(c.toString());c2(n,u,()=>u(n.currentUser)),l2(n,m=>u(m))}}const o=Cw("auth");return o&&QI(n,`http://${o}`),n}function wk(){return document.getElementsByTagName("head")?.[0]??document}VI({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=pi("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",wk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yk("Browser");const Ek="type.googleapis.com/google.protobuf.Int64Value",Tk="type.googleapis.com/google.protobuf.UInt64Value";function gE(r,e){const n={};for(const a in r)r.hasOwnProperty(a)&&(n[a]=e(r[a]));return n}function uh(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>uh(e));if(typeof r=="function"||typeof r=="object")return gE(r,e=>uh(e));throw new Error("Data cannot be encoded in JSON: "+r)}function tl(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case Ek:case Tk:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>tl(e)):typeof r=="function"||typeof r=="object"?gE(r,e=>tl(e)):r}const Eg="functions";const G_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ir extends Ti{constructor(e,n,a){super(`${Eg}/${e}`,n||""),this.details=a,Object.setPrototypeOf(this,ir.prototype)}}function Ak(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function dh(r,e){let n=Ak(r),a=n,o;try{const c=e&&e.error;if(c){const u=c.status;if(typeof u=="string"){if(!G_[u])return new ir("internal","internal");n=G_[u],a=u}const m=c.message;typeof m=="string"&&(a=m),o=c.details,o!==void 0&&(o=tl(o))}}catch{}return n==="ok"?null:new ir(n,a,o)}class Sk{constructor(e,n,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||a.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}const Rp="us-central1",Rk=/^data: (.*?)(?:\n|$)/;function Nk(r){let e=null;return{promise:new Promise((n,a)=>{e=setTimeout(()=>{a(new ir("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class Ck{constructor(e,n,a,o,c=Rp,u=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new Sk(e,n,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Rp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Ik(r,e,n){const a=ss(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${n}`,a&&(ug(r.emulatorOrigin+"/backends"),dg("Functions",!0))}function kk(r,e,n){const a=o=>Ok(r,e,o,{});return a.stream=(o,c)=>Mk(r,e,o,c),a}function yE(r){return r.emulatorOrigin&&ss(r.emulatorOrigin)?"include":void 0}async function Dk(r,e,n,a,o){n["Content-Type"]="application/json";let c;try{c=await a(r,{method:"POST",body:JSON.stringify(e),headers:n,credentials:yE(o)})}catch{return{status:0,json:null}}let u=null;try{u=await c.json()}catch{}return{status:c.status,json:u}}async function vE(r,e){const n={},a=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return a.authToken&&(n.Authorization="Bearer "+a.authToken),a.messagingToken&&(n["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=a.appCheckToken),n}function Ok(r,e,n,a){const o=r._url(e);return jk(r,o,n,a)}async function jk(r,e,n,a){n=uh(n);const o={data:n},c=await vE(r,a),u=a.timeout||7e4,m=Nk(u),y=await Promise.race([Dk(e,o,c,r.fetchImpl,r),m.promise,r.cancelAllRequests]);if(m.cancel(),!y)throw new ir("cancelled","Firebase Functions instance was deleted.");const g=dh(y.status,y.json);if(g)throw g;if(!y.json)throw new ir("internal","Response is not valid JSON object.");let _=y.json.data;if(typeof _>"u"&&(_=y.json.result),typeof _>"u")throw new ir("internal","Response is missing data field.");return{data:tl(_)}}function Mk(r,e,n,a){const o=r._url(e);return Pk(r,o,n,a||{})}async function Pk(r,e,n,a){n=uh(n);const o={data:n},c=await vE(r,a);c["Content-Type"]="application/json",c.Accept="text/event-stream";let u;try{u=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:a?.signal,credentials:yE(r)})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const k=new ir("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const N=dh(0,null);return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}let m,y;const g=new Promise((T,N)=>{m=T,y=N});a?.signal?.addEventListener("abort",()=>{const T=new ir("cancelled","Request was cancelled.");y(T)});const _=u.body.getReader(),w=Vk(_,m,y,a?.signal);return{stream:{[Symbol.asyncIterator](){const T=w.getReader();return{async next(){const{value:N,done:k}=await T.read();return{value:N,done:k}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:g}}function Vk(r,e,n,a){const o=(u,m)=>{const y=u.match(Rk);if(!y)return;const g=y[1];try{const _=JSON.parse(g);if("result"in _){e(tl(_.result));return}if("message"in _){m.enqueue(tl(_.message));return}if("error"in _){const w=dh(0,_);m.error(w),n(w);return}}catch(_){if(_ instanceof ir){m.error(_),n(_);return}}},c=new TextDecoder;return new ReadableStream({start(u){let m="";return y();async function y(){if(a?.aborted){const g=new ir("cancelled","Request was cancelled");return u.error(g),n(g),Promise.resolve()}try{const{value:g,done:_}=await r.read();if(_){m.trim()&&o(m.trim(),u),u.close();return}if(a?.aborted){const T=new ir("cancelled","Request was cancelled");u.error(T),n(T),await r.cancel();return}m+=c.decode(g,{stream:!0});const w=m.split(`
`);m=w.pop()||"";for(const T of w)T.trim()&&o(T.trim(),u);return y()}catch(g){const _=g instanceof ir?g:dh(0,null);u.error(_),n(_)}}},cancel(){return r.cancel()}})}const K_="@firebase/functions",Q_="0.13.1";const Lk="auth-internal",Uk="app-check-internal",Bk="messaging-internal";function zk(r){const e=(n,{instanceIdentifier:a})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(Lk),u=n.getProvider(Bk),m=n.getProvider(Uk);return new Ck(o,c,u,m,a)};Hs(new Za(Eg,e,"PUBLIC").setMultipleInstances(!0)),mi(K_,Q_,r),mi(K_,Q_,"esm2020")}function Fk(r=mg(),e=Rp){const a=Ah(tn(r),Eg).getImmediate({identifier:e}),o=Iw("functions");return o&&Hk(a,...o),a}function Hk(r,e,n){Ik(tn(r),e,n)}function Tg(r,e,n){return kk(tn(r),e)}zk();var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xa,bE;(function(){var r;function e(E,R){function C(){}C.prototype=R.prototype,E.F=R.prototype,E.prototype=new C,E.prototype.constructor=E,E.D=function(j,D,U){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return R.prototype[D].apply(j,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,R,C){C||(C=0);const j=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)j[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)j[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=E.g[0],C=E.g[1],D=E.g[2];let U=E.g[3],I;I=R+(U^C&(D^U))+j[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+j[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+j[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+j[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+j[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+j[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+j[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+j[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+j[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+j[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+j[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+j[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+j[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+j[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+j[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+j[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^U&(C^D))+j[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+j[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+j[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+j[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+j[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+j[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+j[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+j[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+j[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+j[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+j[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+j[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+j[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+j[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+j[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+j[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^U)+j[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+j[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+j[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+j[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+j[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+j[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+j[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+j[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+j[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+j[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+j[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+j[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+j[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+j[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+j[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+j[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~U))+j[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+j[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+j[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+j[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+j[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+j[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+j[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+j[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+j[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+j[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+j[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+j[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+j[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+j[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+j[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+j[9]+3951481745&4294967295,E.g[0]=E.g[0]+R&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+U&4294967295}a.prototype.v=function(E,R){R===void 0&&(R=E.length);const C=R-this.blockSize,j=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=C;)o(this,E,U),U+=this.blockSize;if(typeof E=="string"){for(;U<R;)if(j[D++]=E.charCodeAt(U++),D==this.blockSize){o(this,j),D=0;break}}else for(;U<R;)if(j[D++]=E[U++],D==this.blockSize){o(this,j),D=0;break}}this.h=D,this.o+=R},a.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var R=1;R<E.length-8;++R)E[R]=0;R=this.o*8;for(var C=E.length-8;C<E.length;++C)E[C]=R&255,R/=256;for(this.v(E),E=Array(16),R=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)E[R++]=this.g[C]>>>j&255;return E};function c(E,R){var C=m;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=R(E)}function u(E,R){this.h=R;const C=[];let j=!0;for(let D=E.length-1;D>=0;D--){const U=E[D]|0;j&&U==R||(C[D]=U,j=!1)}this.g=C}var m={};function y(E){return-128<=E&&E<128?c(E,function(R){return new u([R|0],R<0?-1:0)}):new u([E|0],E<0?-1:0)}function g(E){if(isNaN(E)||!isFinite(E))return w;if(E<0)return Q(g(-E));const R=[];let C=1;for(let j=0;E>=C;j++)R[j]=E/C|0,C*=4294967296;return new u(R,0)}function _(E,R){if(E.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(E.charAt(0)=="-")return Q(_(E.substring(1),R));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let j=w;for(let U=0;U<E.length;U+=8){var D=Math.min(8,E.length-U);const I=parseInt(E.substring(U,U+D),R);D<8?(D=g(Math.pow(R,D)),j=j.j(D).add(g(I))):(j=j.j(C),j=j.add(g(I)))}return j}var w=y(0),T=y(1),N=y(16777216);r=u.prototype,r.m=function(){if(F(this))return-Q(this).m();let E=0,R=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);E+=(j>=0?j:4294967296+j)*R,R*=4294967296}return E},r.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(F(this))return"-"+Q(this).toString(E);const R=g(Math.pow(E,6));var C=this;let j="";for(;;){const D=Ne(C,R).g;C=ne(C,D.j(R));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(E);if(C=D,k(C))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},r.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(let R=0;R<E.g.length;R++)if(E.g[R]!=0)return!1;return!0}function F(E){return E.h==-1}r.l=function(E){return E=ne(this,E),F(E)?-1:k(E)?0:1};function Q(E){const R=E.g.length,C=[];for(let j=0;j<R;j++)C[j]=~E.g[j];return new u(C,~E.h).add(T)}r.abs=function(){return F(this)?Q(this):this},r.add=function(E){const R=Math.max(this.g.length,E.g.length),C=[];let j=0;for(let D=0;D<=R;D++){let U=j+(this.i(D)&65535)+(E.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);j=I>>>16,U&=65535,I&=65535,C[D]=I<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function ne(E,R){return E.add(Q(R))}r.j=function(E){if(k(this)||k(E))return w;if(F(this))return F(E)?Q(this).j(Q(E)):Q(Q(this).j(E));if(F(E))return Q(this.j(Q(E)));if(this.l(N)<0&&E.l(N)<0)return g(this.m()*E.m());const R=this.g.length+E.g.length,C=[];for(var j=0;j<2*R;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<E.g.length;D++){const U=this.i(j)>>>16,I=this.i(j)&65535,te=E.i(D)>>>16,pe=E.i(D)&65535;C[2*j+2*D]+=I*pe,$(C,2*j+2*D),C[2*j+2*D+1]+=U*pe,$(C,2*j+2*D+1),C[2*j+2*D+1]+=I*te,$(C,2*j+2*D+1),C[2*j+2*D+2]+=U*te,$(C,2*j+2*D+2)}for(E=0;E<R;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=R;E<2*R;E++)C[E]=0;return new u(C,0)};function $(E,R){for(;(E[R]&65535)!=E[R];)E[R+1]+=E[R]>>>16,E[R]&=65535,R++}function le(E,R){this.g=E,this.h=R}function Ne(E,R){if(k(R))throw Error("division by zero");if(k(E))return new le(w,w);if(F(E))return R=Ne(Q(E),R),new le(Q(R.g),Q(R.h));if(F(R))return R=Ne(E,Q(R)),new le(Q(R.g),R.h);if(E.g.length>30){if(F(E)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,j=R;j.l(E)<=0;)C=Ae(C),j=Ae(j);var D=Te(C,1),U=Te(j,1);for(j=Te(j,2),C=Te(C,2);!k(j);){var I=U.add(j);I.l(E)<=0&&(D=D.add(C),U=I),j=Te(j,1),C=Te(C,1)}return R=ne(E,D.j(R)),new le(D,R)}for(D=w;E.l(R)>=0;){for(C=Math.max(1,Math.floor(E.m()/R.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=g(C),I=U.j(R);F(I)||I.l(E)>0;)C-=j,U=g(C),I=U.j(R);k(U)&&(U=T),D=D.add(U),E=ne(E,I)}return new le(D,E)}r.B=function(E){return Ne(this,E).h},r.and=function(E){const R=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<R;j++)C[j]=this.i(j)&E.i(j);return new u(C,this.h&E.h)},r.or=function(E){const R=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<R;j++)C[j]=this.i(j)|E.i(j);return new u(C,this.h|E.h)},r.xor=function(E){const R=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<R;j++)C[j]=this.i(j)^E.i(j);return new u(C,this.h^E.h)};function Ae(E){const R=E.g.length+1,C=[];for(let j=0;j<R;j++)C[j]=E.i(j)<<1|E.i(j-1)>>>31;return new u(C,E.h)}function Te(E,R){const C=R>>5;R%=32;const j=E.g.length-C,D=[];for(let U=0;U<j;U++)D[U]=R>0?E.i(U+C)>>>R|E.i(U+C+1)<<32-R:E.i(U+C);return new u(D,E.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Xa=u}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,bc,xE,Yd,Np,wE,EE,TE;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function o(d,v){if(v)e:{var x=a;d=d.split(".");for(var S=0;S<d.length-1;S++){var H=d[S];if(!(H in x))break e;x=x[H]}d=d[d.length-1],S=x[d],v=v(S),v!=S&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var x=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&x.push([S,v[S]]);return x}});var c=c||{},u=this||self;function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,x){return d.call.apply(d.bind,arguments)}function g(d,v,x){return g=y,g.apply(null,arguments)}function _(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function w(d,v){function x(){}x.prototype=v.prototype,d.Z=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(S,H,W){for(var me=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)me[Ke-2]=arguments[Ke];return v.prototype[H].apply(S,me)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function N(d){const v=d.length;if(v>0){const x=Array(v);for(let S=0;S<v;S++)x[S]=d[S];return x}return[]}function k(d,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=d.length||0;const W=H.length||0;d.length=x+W;for(let me=0;me<W;me++)d[x+me]=H[me]}else d.push(H)}}class F{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(d){u.setTimeout(()=>{throw d},0)}function ne(){var d=E;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,x){const S=le.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new F(()=>new Ne,d=>d.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Te=!1,E=new $,R=()=>{const d=Promise.resolve(void 0);Ae=()=>{d.then(C)}};function C(){for(var d;d=ne();){try{d.h.call(d.g)}catch(x){Q(x)}var v=le;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}Te=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function te(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}w(te,D),te.prototype.init=function(d,v){const x=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),q=0;function se(d,v,x,S,H){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=H,this.key=++q,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ie(d,v,x){for(const S in d)v.call(x,d[S],S,d)}function Ve(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function P(d){const v={};for(const x in d)v[x]=d[x];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,v){let x,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(x in S)d[x]=S[x];for(let W=0;W<J.length;W++)x=J[W],Object.prototype.hasOwnProperty.call(S,x)&&(d[x]=S[x])}}function ue(d){this.src=d,this.g={},this.h=0}ue.prototype.add=function(d,v,x,S,H){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const me=Oe(d,v,S,H);return me>-1?(v=d[me],x||(v.fa=!1)):(v=new se(v,this.src,W,!!S,H),v.fa=x,d.push(v)),v};function Ee(d,v){const x=v.type;if(x in d.g){var S=d.g[x],H=Array.prototype.indexOf.call(S,v,void 0),W;(W=H>=0)&&Array.prototype.splice.call(S,H,1),W&&(de(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Oe(d,v,x,S){for(let H=0;H<d.length;++H){const W=d[H];if(!W.da&&W.listener==v&&W.capture==!!x&&W.ha==S)return H}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),vt={};function mt(d,v,x,S,H){if(Array.isArray(v)){for(let W=0;W<v.length;W++)mt(d,v[W],x,S,H);return null}return x=Si(x),d&&d[pe]?d.J(v,x,m(S)?!!S.capture:!1,H):De(d,v,x,!1,S,H)}function De(d,v,x,S,H,W){if(!v)throw Error("Invalid event type");const me=m(H)?!!H.capture:!!H;let Ke=xn(d);if(Ke||(d[Fe]=Ke=new ue(d)),x=Ke.add(v,x,S,me,W),x.proxy)return x;if(S=Gt(),x.proxy=S,S.src=d,S.listener=x,d.addEventListener)U||(H=me),H===void 0&&(H=!1),d.addEventListener(v.toString(),S,H);else if(d.attachEvent)d.attachEvent(yn(v.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Gt(){function d(x){return v.call(d.src,d.listener,x)}const v=Pr;return d}function Ue(d,v,x,S,H){if(Array.isArray(v))for(var W=0;W<v.length;W++)Ue(d,v[W],x,S,H);else S=m(S)?!!S.capture:!!S,x=Si(x),d&&d[pe]?(d=d.i,W=String(v).toString(),W in d.g&&(v=d.g[W],x=Oe(v,x,S,H),x>-1&&(de(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete d.g[W],d.h--)))):d&&(d=xn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Oe(v,x,S,H)),(x=d>-1?v[d]:null)&&gn(x))}function gn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[pe])Ee(v.i,d);else{var x=d.type,S=d.proxy;v.removeEventListener?v.removeEventListener(x,S,d.capture):v.detachEvent?v.detachEvent(yn(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=xn(v))?(Ee(x,d),x.h==0&&(x.src=null,v[Fe]=null)):de(d)}}}function yn(d){return d in vt?vt[d]:vt[d]="on"+d}function Pr(d,v){if(d.da)d=!0;else{v=new te(v,this);const x=d.listener,S=d.ha||d.src;d.fa&&gn(d),d=x.call(S,v)}return d}function xn(d){return d=d[Fe],d instanceof ue?d:null}var Ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function Si(d){return typeof d=="function"?d:(d[Ai]||(d[Ai]=function(v){return d.handleEvent(v)}),d[Ai])}function jt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}w(jt,j),jt.prototype[pe]=!0,jt.prototype.removeEventListener=function(d,v,x,S){Ue(this,d,v,x,S)};function ye(d,v){var x,S=d.G;if(S)for(x=[];S;S=S.G)x.push(S);if(d=d.M,S=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var H=v;v=new D(S,d),he(v,H)}H=!0;let W,me;if(x)for(me=x.length-1;me>=0;me--)W=v.g=x[me],H=Mt(W,S,!0,v)&&H;if(W=v.g=d,H=Mt(W,S,!0,v)&&H,H=Mt(W,S,!1,v)&&H,x)for(me=0;me<x.length;me++)W=v.g=x[me],H=Mt(W,S,!1,v)&&H}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const x=d.g[v];for(let S=0;S<x.length;S++)de(x[S]);delete d.g[v],d.h--}}this.G=null},jt.prototype.J=function(d,v,x,S){return this.i.add(String(d),v,!1,x,S)},jt.prototype.K=function(d,v,x,S){return this.i.add(String(d),v,!0,x,S)};function Mt(d,v,x,S){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let W=0;W<v.length;++W){const me=v[W];if(me&&!me.da&&me.capture==x){const Ke=me.listener,Wt=me.ha||me.src;me.fa&&Ee(d.i,me),H=Ke.call(Wt,S)!==!1&&H}}return H&&!S.defaultPrevented}function wn(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function hn(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,hn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dt extends j{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(d){j.call(this),this.h=d,this.g={}}w(fn,j);var Un=[];function Bn(d){Ie(d.g,function(v,x){this.g.hasOwnProperty(x)&&gn(v)},d),d.g={}}fn.prototype.N=function(){fn.Z.N.call(this),Bn(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=u.JSON.stringify,zn=u.JSON.parse,Ri=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ni(){}function ra(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){D.call(this,"d")}w(Nt,D);function Fn(){D.call(this,"c")}w(Fn,D);var zt={},us=null;function ia(){return us=us||new jt}zt.Ia="serverreachability";function ds(d){D.call(this,zt.Ia,d)}w(ds,D);function Hn(d){const v=ia();ye(v,new ds(v))}zt.STAT_EVENT="statevent";function Zr(d,v){D.call(this,zt.STAT_EVENT,d),this.stat=v}w(Zr,D);function Ft(d){const v=ia();ye(v,new Zr(v,d))}zt.Ja="timingevent";function br(d,v){D.call(this,zt.Ja,d),this.size=v}w(br,D);function sr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function to(d,v,x,S,H,W){d.info(function(){if(d.g)if(W){var me="",Ke=W.split("&");for(let gt=0;gt<Ke.length;gt++){var Wt=Ke[gt].split("=");if(Wt.length>1){const Ht=Wt[0];Wt=Wt[1];const wr=Ht.split("_");me=wr.length>=2&&wr[1]=="type"?me+(Ht+"="+Wt+"&"):me+(Ht+"=redacted&")}}}else me=null;else me=W;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+x+`
`+me})}function Ci(d,v,x,S,H,W,me){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+x+`
`+W+" "+me})}function qn(d,v,x,S){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+gl(d,x)+(S?" "+S:"")})}function Jr(d,v){d.info(function(){return"TIMEOUT: "+v})}or.prototype.info=function(){};function gl(d,v){if(!d.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var x=W[d];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let me=1;me<S.length;me++)S[me]=""}}}}return Bt(W)}catch{return v}}var Ii={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},O={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},B;function X(){}w(X,Ni),X.prototype.g=function(){return new XMLHttpRequest},B=new X;function ce(d){return encodeURIComponent(String(d))}function fe(d){var v=1;d=d.split(":");const x=[];for(;v>0&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function xe(d,v,x,S){this.j=d,this.i=v,this.l=x,this.S=S||1,this.V=new fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var ge={},be={};function Re(d,v,x){d.M=1,d.A=hs(Et(v)),d.u=x,d.R=!0,je(d,null)}function je(d,v){d.F=Date.now(),wt(d),d.B=Et(d.A);var x=d.B,S=d.S;Array.isArray(S)||(S=[String(S)]),ro(x.i,"t",S),d.C=0,x=d.j.L,d.h=new ve,d.g=Eu(d.j,x?v:null,!d.u),d.P>0&&(d.O=new dt(g(d.Y,d,d.g),d.P)),v=d.V,x=d.g,S=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Un[0]=H.toString()),H=Un);for(let W=0;W<H.length;W++){const me=mt(x,H[W],S||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.J?P(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hn(),to(d.i,d.v,d.B,d.l,d.S,d.u)}xe.prototype.ba=function(d){d=d.target;const v=this.O;v&&Ur(d)==3?v.j():this.Y(d)},xe.prototype.Y=function(d){try{if(d==this.g)e:{const Ke=Ur(this.g),Wt=this.g.ya(),gt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||Ke!=4||Wt==7||(Wt==8||gt<=0?Hn(3):Hn(2)),It(this);var v=this.g.ca();this.X=v;var x=ke(this);if(this.o=v==200,Ci(this.i,this.v,this.B,this.l,this.S,Ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var W=S;break t}}W=null}if(d=W)qn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vn(this,d);else{this.o=!1,this.m=3,Ft(12),kt(this),Xe(this);break e}}if(this.R){d=!0;let Ht;for(;!this.K&&this.C<x.length;)if(Ht=et(this,x),Ht==be){Ke==4&&(this.m=4,Ft(14),d=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==ge){this.m=4,Ft(15),qn(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else qn(this.i,this.l,Ht,null),vn(this,Ht);if($e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||x.length!=0||this.h.h||(this.m=1,Ft(16),d=!1),this.o=this.o&&d,!d)qn(this.i,this.l,x,"[Invalid Chunked Response]"),kt(this),Xe(this);else if(x.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Al(me),me.P=!0,Ft(11))}}else qn(this.i,this.l,x,null),vn(this,x);Ke==4&&kt(this),this.o&&!this.K&&(Ke==4?bu(this.j,this):(this.o=!1,wt(this)))}else Di(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),kt(this),Xe(this)}}}catch{}};function ke(d){if(!$e(d))return d.g.la();const v=En(d.g);if(v==="")return"";let x="";const S=v.length,H=Ur(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return kt(d),Xe(d),"";d.h.i=new u.TextDecoder}for(let W=0;W<S;W++)d.h.h=!0,x+=d.h.i.decode(v[W],{stream:!(H&&W==S-1)});return v.length=0,d.h.g+=x,d.C=0,d.h.g}function $e(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function et(d,v){var x=d.C,S=v.indexOf(`
`,x);return S==-1?be:(x=Number(v.substring(x,S)),isNaN(x)?ge:(S+=1,S+x>v.length?be:(v=v.slice(S,S+x),d.C=S+x,v)))}xe.prototype.cancel=function(){this.K=!0,kt(this)};function wt(d){d.T=Date.now()+d.H,Pt(d,d.H)}function Pt(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=sr(g(d.aa,d),v)}function It(d){d.D&&(u.clearTimeout(d.D),d.D=null)}xe.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Hn(),Ft(17)),kt(this),this.m=2,Xe(this)):Pt(this,this.T-d)};function Xe(d){d.j.I==0||d.K||bu(d.j,d)}function kt(d){It(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Bn(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function vn(d,v){try{var x=d.j;if(x.I!=0&&(x.g==d||Dn(x.h,d))){if(!d.L&&Dn(x.h,d)&&x.I==3){try{var S=x.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)lo(x),ha(x);else break e;bs(x),Ft(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=sr(g(x.Va,x),6e3));Xn(x.h)<=1&&x.ta&&(x.ta=void 0)}else si(x,11)}else if((d.L||x.g==d)&&lo(x),!I(v))for(H=x.Ba.g.parse(v),v=0;v<H.length;v++){let gt=H[v];const Ht=gt[0];if(!(Ht<=x.K))if(x.K=Ht,gt=gt[1],x.I==2)if(gt[0]=="c"){x.M=gt[1],x.ba=gt[2];const wr=gt[3];wr!=null&&(x.ka=wr,x.j.info("VER="+x.ka));const oi=gt[4];oi!=null&&(x.za=oi,x.j.info("SVER="+x.za));const Br=gt[5];Br!=null&&typeof Br=="number"&&Br>0&&(S=1.5*Br,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const zr=d.g;if(zr){const _s=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var W=S.h;W.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(lr(W,W.h),W.h=null))}if(S.G){const co=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(S.wa=co,pt(S.J,S.G,co))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var me=d;if(S.na=wu(S,S.L?S.ba:null,S.W),me.L){$r(S.h,me);var Ke=me,Wt=S.O;Wt&&(Ke.H=Wt),Ke.D&&(It(Ke),wt(Ke)),S.g=me}else yu(S);x.i.length>0&&ai(x)}else gt[0]!="stop"&&gt[0]!="close"||si(x,7);else x.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?si(x,7):El(x):gt[0]!="noop"&&x.l&&x.l.qa(gt),x.A=0)}}Hn(4)}catch{}}var Dt=class{constructor(d,v){this.g=d,this.map=v}};function Qn(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xn(d){return d.h?1:d.g?d.g.size:0}function Dn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function lr(d,v){d.g?d.g.add(v):d.h=v}function $r(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qn.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ei(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.G);return v}return N(d.i)}var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(d,v){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const S=d[x].indexOf("=");let H,W=null;S>=0?(H=d[x].substring(0,S),W=d[x].substring(S+1)):H=d[x],v(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function nn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof nn?(this.l=d.l,Ye(this,d.j),this.o=d.o,this.g=d.g,cr(this,d.u),this.h=d.h,aa(this,pu(d.i)),this.m=d.m):d&&(v=String(d).match(Ze))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=ti(v[2]||""),this.g=ti(v[3]||"",!0),cr(this,v[4]),this.h=ti(v[5]||"",!0),aa(this,v[6]||"",!0),this.m=ti(v[7]||"")):(this.l=!1,this.i=new oa(null,this.l))}nn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(fs(v,no,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(fs(v,no,!0),"@"),d.push(ce(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(fs(x,x.charAt(0)=="/"?yl:hu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",fs(x,fu)),d.join("")},nn.prototype.resolve=function(d){const v=Et(this);let x=!!d.j;x?Ye(v,d.j):x=!!d.o,x?v.o=d.o:x=!!d.g,x?v.g=d.g:x=d.u!=null;var S=d.h;if(x)cr(v,d.u);else if(x=!!d.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let me=0;me<H.length;){const Ke=H[me++];Ke=="."?S&&me==H.length&&W.push(""):Ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),S&&me==H.length&&W.push("")):(W.push(Ke),S=!0)}S=W.join("/")}else S=H}return x?v.h=S:x=d.i.toString()!=="",x?aa(v,pu(d.i)):x=!!d.m,x&&(v.m=d.m),v};function Et(d){return new nn(d)}function Ye(d,v,x){d.j=x?ti(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function cr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function aa(d,v,x){v instanceof oa?(d.i=v,io(d.i,d.l)):(x||(v=fs(v,sa)),d.i=new oa(v,d.l))}function pt(d,v,x){d.i.set(v,x)}function hs(d){return pt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ti(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function fs(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,Yn),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var no=/[#\/\?@]/g,hu=/[#\?:]/g,yl=/[#\?]/g,sa=/[#\?@]/g,fu=/#/g;function oa(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Wn(d){d.g||(d.g=new Map,d.h=0,d.i&&Kt(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=oa.prototype,r.add=function(d,v){Wn(this),this.i=null,d=la(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function mu(d,v){Wn(d),v=la(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function vl(d,v){return Wn(d),v=la(d,v),d.g.has(v)}r.forEach=function(d,v){Wn(this),this.g.forEach(function(x,S){x.forEach(function(H){d.call(v,H,S,this)},this)},this)};function bl(d,v){Wn(d);let x=[];if(typeof v=="string")vl(d,v)&&(x=x.concat(d.g.get(la(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)x=x.concat(d[v]);return x}r.set=function(d,v){return Wn(this),this.i=null,d=la(this,d),vl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=bl(this,d),d.length>0?String(d[0]):v):v};function ro(d,v,x){mu(d,v),x.length>0&&(d.i=null,d.g.set(la(d,v),N(x)),d.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var x=v[S];const H=ce(x);x=bl(this,x);for(let W=0;W<x.length;W++){let me=H;x[W]!==""&&(me+="="+ce(x[W])),d.push(me)}}return this.i=d.join("&")};function pu(d){const v=new oa;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function la(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function io(d,v){v&&!d.j&&(Wn(d),d.i=null,d.g.forEach(function(x,S){const H=S.toLowerCase();S!=H&&(mu(this,S),ro(this,H,x))},d)),d.j=v}function Vr(d,v){const x=new or;if(u.Image){const S=new Image;S.onload=_(_r,x,"TestLoadImage: loaded",!0,v,S),S.onerror=_(_r,x,"TestLoadImage: error",!1,v,S),S.onabort=_(_r,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=_(_r,x,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else v(!1)}function _l(d,v){const x=new or,S=new AbortController,H=setTimeout(()=>{S.abort(),_r(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:S.signal}).then(W=>{clearTimeout(H),W.ok?_r(x,"TestPingServer: ok",!0,v):_r(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),_r(x,"TestPingServer: error",!1,v)})}function _r(d,v,x,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(x)}catch{}}function ca(){this.g=new Ri}function ni(d){this.i=d.Sb||null,this.h=d.ab||!1}w(ni,Ni),ni.prototype.g=function(){return new ms(this.i,this.h)};function ms(d,v){jt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ms,jt),r=ms.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Lr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ua(this):Lr(this),this.readyState==3&&ao(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,ua(this))},r.Na=function(d){this.g&&(this.response=d,ua(this))},r.ga=function(){this.g&&ua(this)};function ua(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Lr(d)}r.setRequestHeader=function(d,v){this.A.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xr(d){let v="";return Ie(d,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function ps(d,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=xr(x),typeof d=="string"?x!=null&&ce(x):pt(d,v,x))}function Tt(d){jt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Tt,jt);var ri=/^https?$/i,xl=["POST","PUT"];r=Tt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():B.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(W){gs(this,W);return}if(d=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)x.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())x.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(xl,v,void 0)>=0)||S||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of x)this.g.setRequestHeader(W,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){gs(this,W)}};function gs(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,wl(d),ki(d)}function wl(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ye(this,"complete"),ye(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(d){if(d.h&&typeof c<"u"){if(d.v&&Ur(d)==4)setTimeout(d.Ca.bind(d),0);else if(ye(d,"readystatechange"),Ur(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=W===0){let me=String(d.D).match(Ze)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),S=!ri.test(me?me.toLowerCase():"")}x=S}if(x)ye(d,"complete"),ye(d,"success");else{d.o=6;try{var H=Ur(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",wl(d)}}finally{ki(d)}}}}function ki(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,v||ye(d,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ur(d){return d.g?d.g.readyState:0}r.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),zn(v)}};function En(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(d){const v={};d=(d.g&&Ur(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(I(d[S]))continue;var x=fe(d[S]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=v[H]||[];v[H]=W,W.push(x)}Ve(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function da(d){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,d),this.Za=ii("retryDelaySeedMs",1e4,d),this.Ta=ii("forwardChannelMaxRetries",2,d),this.va=ii("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Qn(d&&d.concurrentRequestLimit),this.Ba=new ca,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=da.prototype,r.ka=8,r.I=1,r.connect=function(d,v,x,S){Ft(0),this.W=d,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=wu(this,null,this.W),ai(this)};function El(d){if(so(d),d.I==3){var v=d.V++,x=Et(d.J);if(pt(x,"SID",d.M),pt(x,"RID",v),pt(x,"TYPE","terminate"),vs(d,x),v=new xe(d,d.j,v),v.M=2,v.A=hs(Et(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=Eu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wt(v)}xu(d)}function ha(d){d.g&&(Al(d),d.g.cancel(),d.g=null)}function so(d){ha(d),d.v&&(u.clearTimeout(d.v),d.v=null),lo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ai(d){if(!kn(d.h)&&!d.m){d.m=!0;var v=d.Ea;Ae||R(),Te||(Ae(),Te=!0),E.add(v,d),d.D=0}}function oo(d,v){return Xn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=sr(g(d.Ea,d,v),_u(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new xe(this,this.j,d);let W=this.o;if(this.U&&(W?(W=P(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=gu(this,H,v),x=Et(this.J),pt(x,"RID",d),pt(x,"CVER",22),this.G&&pt(x,"X-HTTP-Session-Id",this.G),vs(this,x),W&&(this.R?v="headers="+ce(xr(W))+"&"+v:this.u&&ps(x,this.u,W)),lr(this.h,H),this.Ra&&pt(x,"TYPE","init"),this.S?(pt(x,"$req",v),pt(x,"SID","null"),H.U=!0,Re(H,x,null)):Re(H,x,v),this.I=2}}else this.I==3&&(d?Tl(this,d):this.i.length==0||kn(this.h)||Tl(this))};function Tl(d,v){var x;v?x=v.l:x=d.V++;const S=Et(d.J);pt(S,"SID",d.M),pt(S,"RID",x),pt(S,"AID",d.K),vs(d,S),d.u&&d.o&&ps(S,d.u,d.o),x=new xe(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),v&&(d.i=v.G.concat(d.i)),v=gu(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),lr(d.h,x),Re(x,S,v)}function vs(d,v){d.H&&Ie(d.H,function(x,S){pt(v,S,x)}),d.l&&Ie({},function(x,S){pt(v,S,x)})}function gu(d,v,x){x=Math.min(d.i.length,x);const S=d.l?g(d.l.Ka,d.l,d):null;e:{var H=d.i;let Ke=-1;for(;;){const Wt=["count="+x];Ke==-1?x>0?(Ke=H[0].g,Wt.push("ofs="+Ke)):Ke=0:Wt.push("ofs="+Ke);let gt=!0;for(let Ht=0;Ht<x;Ht++){var W=H[Ht].g;const wr=H[Ht].map;if(W-=Ke,W<0)Ke=Math.max(0,H[Ht].g-100),gt=!1;else try{W="req"+W+"_"||"";try{var me=wr instanceof Map?wr:Object.entries(wr);for(const[oi,Br]of me){let zr=Br;m(Br)&&(zr=Bt(Br)),Wt.push(W+oi+"="+encodeURIComponent(zr))}}catch(oi){throw Wt.push(W+"type="+encodeURIComponent("_badmap")),oi}}catch{S&&S(wr)}}if(gt){me=Wt.join("&");break e}}me=void 0}return d=d.i.splice(0,x),v.G=d,me}function yu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;Ae||R(),Te||(Ae(),Te=!0),E.add(v,d),d.A=0}}function bs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=sr(g(d.Da,d),_u(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=sr(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),ha(this),vu(this))};function Al(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function vu(d){d.g=new xe(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Et(d.na);pt(v,"RID","rpc"),pt(v,"SID",d.M),pt(v,"AID",d.K),pt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&pt(v,"TO",d.ia),pt(v,"TYPE","xmlhttp"),vs(d,v),d.u&&d.o&&ps(v,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=hs(Et(v)),x.u=null,x.R=!0,je(x,d)}r.Va=function(){this.C!=null&&(this.C=null,ha(this),bs(this),Ft(19))};function lo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function bu(d,v){var x=null;if(d.g==v){lo(d),Al(d),d.g=null;var S=2}else if(Dn(d.h,v))x=v.G,$r(d.h,v),S=1;else return;if(d.I!=0){if(v.o)if(S==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;S=ia(),ye(S,new br(S,x)),ai(d)}else yu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&oo(d,v)||S==2&&bs(d)))switch(x&&x.length>0&&(v=d.h,v.i=v.i.concat(x)),H){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function _u(d,v){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*v}function si(d,v){if(d.j.info("Error code "+v),v==2){var x=g(d.bb,d),S=d.Ua;const H=!S;S=new nn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ye(S,"https"),hs(S),H?Vr(S.toString(),x):_l(S.toString(),x)}else Ft(2);d.I=0,d.l&&d.l.pa(v),xu(d),so(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function xu(d){if(d.I=0,d.ja=[],d.l){const v=ei(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ja,v),k(d.ja,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.oa()}}function wu(d,v,x){var S=x instanceof nn?Et(x):new nn(x);if(S.g!="")v&&(S.g=v+"."+S.g),cr(S,S.u);else{var H=u.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const W=new nn(null);S&&Ye(W,S),v&&(W.g=v),H&&cr(W,H),x&&(W.h=x),S=W}return x=d.G,v=d.wa,x&&v&&pt(S,x,v),pt(S,"VER",d.ka),vs(d,S),S}function Eu(d,v,x){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Tt(new ni({ab:x})):new Tt(d.ma),v.Fa(d.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(d,v){return new Gn(d,v)};function Gn(d,v){jt.call(this),this.g=new da(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!I(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Oi(this)}w(Gn,jt),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){El(this.g)},Gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Bt(d),d=x);v.i.push(new Dt(v.Ya++,d)),v.I==3&&ai(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Gn.Z.N.call(this)};function Au(d){Nt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Au,Nt);function Su(){Fn.call(this),this.status=1}w(Su,Fn);function Oi(d){this.g=d}w(Oi,Tu),Oi.prototype.ra=function(){ye(this.g,"a")},Oi.prototype.qa=function(d){ye(this.g,new Au(d))},Oi.prototype.pa=function(d){ye(this.g,new Su)},Oi.prototype.oa=function(){ye(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,TE=function(){return new fa},EE=function(){return ia()},wE=zt,Np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Yd=Ii,O.COMPLETE="complete",xE=O,ra.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",jt.prototype.listen=jt.prototype.J,bc=ra,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,_E=Tt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");let dl="12.9.0";function qk(r){dl=r}const Gs=new hg("@firebase/firestore");function zo(){return Gs.logLevel}function we(r,...e){if(Gs.logLevel<=at.DEBUG){const n=e.map(Ag);Gs.debug(`Firestore (${dl}): ${r}`,...n)}}function ta(r,...e){if(Gs.logLevel<=at.ERROR){const n=e.map(Ag);Gs.error(`Firestore (${dl}): ${r}`,...n)}}function Ks(r,...e){if(Gs.logLevel<=at.WARN){const n=e.map(Ag);Gs.warn(`Firestore (${dl}): ${r}`,...n)}}function Ag(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ze(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,AE(r,a,n)}function AE(r,e,n){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ta(a),new Error(a)}function bt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||AE(e,o,a)}function Ge(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ya{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class SE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class Kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Qk{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ya,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ya)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(bt(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class Xk{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Yk{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Xk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const a=c=>{c.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Zk(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function st(r,e){return r<e?-1:r>e?1:0}function Cp(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return lp(o)===lp(c)?st(o,c):lp(o)?1:-1}return st(r.length,e.length)}const Jk=55296,$k=57343;function lp(r){const e=r.charCodeAt(0);return e>=Jk&&e<=$k}function nl(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const W_="__name__";class hi{constructor(e,n,a){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ze(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=hi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return st(e.length,n.length)}static compareSegments(e,n){const a=hi.isNumericId(e),o=hi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class Ot extends hi{construct(e,n,a){return new Ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends hi{construct(e,n,a){return new Cn(e,n,a)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Cn([W_])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(a+=m,o++):(c(),o++)}if(c(),u)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ot.fromString(e))}static fromName(e){return new Pe(Ot.fromString(e).popFirst(5))}static empty(){return new Pe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ot(e.slice()))}}function RE(r,e,n){if(!n)throw new _e(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tD(r,e,n,a){if(e===!0&&a===!0)throw new _e(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z_(r){if(!Pe.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J_(r){if(Pe.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function NE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ze(12329,{type:typeof r})}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function un(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!NE(r))throw new _e(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new _e(ie.INVALID_ARGUMENT,n);return!0}const $_=-62135596800,ex=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*ex);return new Ut(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$_)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ex}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Ut._jsonSchema))return new Ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:un("string",Ut._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ut(0,0))}static max(){return new He(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lc=-1;function nD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=He.fromTimestamp(a===1e9?new Ut(n+1,0):new Ut(n,a));return new Ja(o,Pe.empty(),e)}function rD(r){return new Ja(r.readTime,r.key,Lc)}class Ja{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ja(He.min(),Pe.empty(),Lc)}static max(){return new Ja(He.max(),Pe.empty(),Lc)}}function iD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(r.documentKey,e.documentKey),n!==0?n:st(r.largestBatchId,e.largestBatchId))}const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==aD)throw r;we("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,a)=>{n(e)}))}static reject(e){return new oe(((n,a)=>{a(e)}))}static waitFor(e){return new oe(((n,a)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(y=>a(y)))})),u=!0,c===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const a of e)n=n.next((o=>o?oe.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new oe(((a,o)=>{const c=e.length,u=new Array(c);let m=0;for(let y=0;y<c;y++){const g=y;n(e[g]).next((_=>{u[g]=_,++m,m===c&&a(u)}),(_=>o(_)))}}))}static doWhile(e,n){return new oe(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function oD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(r){return r.name==="IndexedDbTransactionError"}class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;const Rg=-1;function Oh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function lD(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const CE="";function cD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tx(e)),e=uD(r.get(n),e);return tx(e)}function uD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case CE:n+="";break;default:n+=c}}return n}function tx(r){return r+CE+""}function nx(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Qt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Nn.RED,this.left=o??Nn.EMPTY,this.right=c??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Nn(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rx(this.data.getIterator())}getIteratorFrom(e){return new rx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class rx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new pn(Cn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kE("Invalid base64 string: "+c):c}})(e);return new In(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(r){if(bt(!!r,39018),typeof r=="string"){let e=0;const n=dD.exec(r);if(bt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:$t(r.seconds),nanos:$t(r.nanos)}}function $t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?In.fromBase64String(r):In.fromUint8Array(r)}const DE="server_timestamp",OE="__type__",jE="__previous_value__",ME="__local_write_time__";function Ng(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===DE}function jh(r){const e=r.mapValue.fields[jE];return Ng(e)?jh(e):e}function Uc(r){const e=$a(r.mapValue.fields[ME].timestampValue);return new Ut(e.seconds,e.nanos)}class hD{constructor(e,n,a,o,c,u,m,y,g,_,w){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=w}}const fh="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}function fD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(r.options.projectId,e)}const PE="__type__",mD="__max__",Pd={mapValue:{}},VE="__vector__",mh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ng(r)?4:gD(r)?9007199254740991:pD(r)?10:11:ze(28295,{value:r})}function wi(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Uc(r).isEqual(Uc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=$a(o.timestampValue),m=$a(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return es(o.bytesValue).isEqual(es(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return $t(o.geoPointValue.latitude)===$t(c.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return $t(o.integerValue)===$t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=$t(o.doubleValue),m=$t(c.doubleValue);return u===m?hh(u)===hh(m):isNaN(u)&&isNaN(m)}return!1})(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(nx(u)!==nx(m))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(m[y]===void 0||!wi(u[y],m[y])))return!1;return!0})(r,e);default:return ze(52216,{left:r})}}function zc(r,e){return(r.values||[]).find((n=>wi(n,e)))!==void 0}function rl(r,e){if(r===e)return 0;const n=ts(r),a=ts(e);if(n!==a)return st(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(r.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=$t(c.integerValue||c.doubleValue),y=$t(u.integerValue||u.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return ix(r.timestampValue,e.timestampValue);case 4:return ix(Uc(r),Uc(e));case 5:return Cp(r.stringValue,e.stringValue);case 6:return(function(c,u){const m=es(c),y=es(u);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),y=u.split("/");for(let g=0;g<m.length&&g<y.length;g++){const _=st(m[g],y[g]);if(_!==0)return _}return st(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=st($t(c.latitude),$t(u.latitude));return m!==0?m:st($t(c.longitude),$t(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ax(r.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},y=u.fields||{},g=m[mh]?.arrayValue,_=y[mh]?.arrayValue,w=st(g?.values?.length||0,_?.values?.length||0);return w!==0?w:ax(g,_)})(r.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Pd.mapValue&&u===Pd.mapValue)return 0;if(c===Pd.mapValue)return 1;if(u===Pd.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),g=u.fields||{},_=Object.keys(g);y.sort(),_.sort();for(let w=0;w<y.length&&w<_.length;++w){const T=Cp(y[w],_[w]);if(T!==0)return T;const N=rl(m[y[w]],g[_[w]]);if(N!==0)return N}return st(y.length,_.length)})(r.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function ix(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return st(r,e);const n=$a(r),a=$a(e),o=st(n.seconds,a.seconds);return o!==0?o:st(n.nanos,a.nanos)}function ax(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=rl(n[o],a[o]);if(c)return c}return st(n.length,a.length)}function il(r){return Ip(r)}function Ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=$a(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Ip(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of a)c?c=!1:o+=",",o+=`${u}:${Ip(n.fields[u])}`;return o+"}"})(r.mapValue):ze(61005,{value:r})}function Wd(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+Wd(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Wd(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ls(a.fields,((c,u)=>{o+=c.length+Wd(u)})),o})(r.mapValue);default:throw ze(13486,{value:r})}}function sx(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function kp(r){return!!r&&"integerValue"in r}function Cg(r){return!!r&&"arrayValue"in r}function ox(r){return!!r&&"nullValue"in r}function lx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zd(r){return!!r&&"mapValue"in r}function pD(r){return(r?.mapValue?.fields||{})[PE]?.stringValue===VE}function Sc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Sc(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(r.arrayValue.values[n]);return e}return{...r}}function gD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Cn.emptyPath(),a={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}u?a[m.lastSegment()]=Sc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ls(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new rr(Sc(this.value))}}function LE(r){const e=[];return ls(r.fields,((n,a)=>{const o=new Cn([n]);if(Zd(a)){const c=LE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new vr(e)}class Vn{constructor(e,n,a,o,c,u,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Vn(e,0,He.min(),He.min(),He.min(),rr.empty(),0)}static newFoundDocument(e,n,a,o){return new Vn(e,1,n,He.min(),a,o,0)}static newNoDocument(e,n){return new Vn(e,2,n,He.min(),He.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,He.min(),He.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function cx(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?a=Pe.comparator(Pe.fromName(u.referenceValue),n.key):a=rl(u,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function ux(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!wi(r.position[n],e.position[n]))return!1;return!0}class Fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function yD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class UE{}class cn extends UE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new bD(e,n,a):n==="array-contains"?new wD(e,a):n==="in"?new ED(e,a):n==="not-in"?new TD(e,a):n==="array-contains-any"?new AD(e,a):new cn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new _D(e,a):new xD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends UE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return BE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(r){return r.op==="and"}function zE(r){return vD(r)&&BE(r)}function vD(r){for(const e of r.filters)if(e instanceof Yr)return!1;return!0}function Dp(r){if(r instanceof cn)return r.field.canonicalString()+r.op.toString()+il(r.value);if(zE(r))return r.filters.map((e=>Dp(e))).join(",");{const e=r.filters.map((n=>Dp(n))).join(",");return`${r.op}(${e})`}}function FE(r,e){return r instanceof cn?(function(a,o){return o instanceof cn&&a.op===o.op&&a.field.isEqual(o.field)&&wi(a.value,o.value)})(r,e):r instanceof Yr?(function(a,o){return o instanceof Yr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,u,m)=>c&&FE(u,o.filters[m])),!0):!1})(r,e):void ze(19439)}function HE(r){return r instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`})(r):r instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"})(r):"Filter"}class bD extends cn{constructor(e,n,a){super(e,n,a),this.key=Pe.fromName(a.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class _D extends cn{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xD extends cn{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qE(r,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class wD extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&zc(n.arrayValue,this.value)}}class ED extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class TD extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class AD extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>zc(this.value.arrayValue,a)))}}class SD{constructor(e,n=null,a=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function dx(r,e=null,n=[],a=[],o=null,c=null,u=null){return new SD(r,e,n,a,o,c,u)}function Ig(r){const e=Ge(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Dp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=n}return e.Te}function kg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!FE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ux(r.startAt,e.startAt)&&ux(r.endAt,e.endAt)}function Op(r){return Pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ml{constructor(e,n=null,a=[],o=[],c=null,u="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RD(r,e,n,a,o,c,u,m){return new ml(r,e,n,a,o,c,u,m)}function Mh(r){return new ml(r)}function hx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ND(r){return Pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function GE(r){return r.collectionGroup!==null}function Rc(r){const e=Ge(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new pn(Cn.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Fc(c,a))})),n.has(Cn.keyField().canonicalString())||e.Ie.push(new Fc(Cn.keyField(),a))}return e.Ie}function vi(r){const e=Ge(r);return e.Ee||(e.Ee=CD(e,Rc(r))),e.Ee}function CD(r,e){if(r.limitType==="F")return dx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fc(o.field,c)}));const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return dx(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function jp(r,e){const n=r.filters.concat([e]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ID(r,e){const n=r.explicitOrderBy.concat([e]);return new ml(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Mp(r,e,n){return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ph(r,e){return kg(vi(r),vi(e))&&r.limitType===e.limitType}function KE(r){return`${Ig(vi(r))}|lt:${r.limitType}`}function Fo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>HE(o))).join(", ")}]`),Oh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>il(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(vi(r))}; limitType=${r.limitType})`}function Vh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Rc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(u,m,y){const g=cx(u,m,y);return u.inclusive?g<=0:g<0})(a.startAt,Rc(a),o)||a.endAt&&!(function(u,m,y){const g=cx(u,m,y);return u.inclusive?g>=0:g>0})(a.endAt,Rc(a),o))})(r,e)}function kD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QE(r){return(e,n)=>{let a=!1;for(const o of Rc(r)){const c=DD(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function DD(r,e,n){const a=r.field.isKeyField()?Pe.comparator(e.key,n.key):(function(c,u,m){const y=u.data.field(c),g=m.data.field(c);return y!==null&&g!==null?rl(y,g):ze(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ze(19790,{direction:r.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const OD=new Qt(Pe.comparator);function na(){return OD}const XE=new Qt(Pe.comparator);function _c(...r){let e=XE;for(const n of r)e=e.insert(n.key,n);return e}function YE(r){let e=XE;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Bs(){return Nc()}function WE(){return Nc()}function Nc(){return new Js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jD=new Qt(Pe.comparator),MD=new pn(Pe.comparator);function ot(...r){let e=MD;for(const n of r)e=e.add(n);return e}const PD=new pn(st);function VD(){return PD}function Dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function ZE(r){return{integerValue:""+r}}function LD(r,e){return lD(e)?ZE(e):Dg(r,e)}class Lh{constructor(){this._=void 0}}function UD(r,e,n){return r instanceof Hc?(function(o,c){const u={fields:{[OE]:{stringValue:DE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ng(c)&&(c=jh(c)),c&&(u.fields[jE]=c),{mapValue:u}})(n,e):r instanceof qc?$E(r,e):r instanceof Gc?eT(r,e):(function(o,c){const u=JE(o,c),m=fx(u)+fx(o.Ae);return kp(u)&&kp(o.Ae)?ZE(m):Dg(o.serializer,m)})(r,e)}function BD(r,e,n){return r instanceof qc?$E(r,e):r instanceof Gc?eT(r,e):n}function JE(r,e){return r instanceof gh?(function(a){return kp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Hc extends Lh{}class qc extends Lh{constructor(e){super(),this.elements=e}}function $E(r,e){const n=tT(e);for(const a of r.elements)n.some((o=>wi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Gc extends Lh{constructor(e){super(),this.elements=e}}function eT(r,e){let n=tT(e);for(const a of r.elements)n=n.filter((o=>!wi(o,a)));return{arrayValue:{values:n}}}class gh extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fx(r){return $t(r.integerValue||r.doubleValue)}function tT(r){return Cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zD{constructor(e,n){this.field=e,this.transform=n}}function FD(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof qc&&o instanceof qc||a instanceof Gc&&o instanceof Gc?nl(a.elements,o.elements,wi):a instanceof gh&&o instanceof gh?wi(a.Ae,o.Ae):a instanceof Hc&&o instanceof Hc})(r.transform,e.transform)}class HD{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function nT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Og(r.key,Kr.none()):new iu(r.key,r.data,Kr.none());{const n=r.data,a=rr.empty();let o=new pn(Cn.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?a.delete(c):a.set(c,u),o=o.add(c)}return new cs(r.key,a,new vr(o.toArray()),Kr.none())}}function qD(r,e,n){r instanceof iu?(function(o,c,u){const m=o.value.clone(),y=px(o.fieldTransforms,c,u.transformResults);m.setAll(y),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,n):r instanceof cs?(function(o,c,u){if(!Jd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=px(o.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(rT(o)),y.setAll(m),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(r,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Cc(r,e,n,a){return r instanceof iu?(function(c,u,m,y){if(!Jd(c.precondition,u))return m;const g=c.value.clone(),_=gx(c.fieldTransforms,y,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof cs?(function(c,u,m,y){if(!Jd(c.precondition,u))return m;const g=gx(c.fieldTransforms,y,u),_=u.data;return _.setAll(rT(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(c,u,m){return Jd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(r,e,n)}function GD(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=JE(a.transform,o||null);c!=null&&(n===null&&(n=rr.empty()),n.set(a.field,c))}return n||null}function mx(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&nl(a,o,((c,u)=>FD(c,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends Uh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Uh{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function px(r,e,n){const a=new Map;bt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],u=c.transform,m=e.data.field(c.field);a.set(c.field,BD(u,m,n[o]))}return a}function gx(r,e,n){const a=new Map;for(const o of r){const c=o.transform,u=n.data.field(o.field);a.set(o.field,UD(c,u,e))}return a}class Og extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&qD(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Cc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Cc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=WE();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const y=nT(u,m);y!==null&&a.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(He.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,a)=>mx(n,a)))&&nl(this.baseMutations,e.baseMutations,((n,a)=>mx(n,a)))}}class jg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){bt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return jD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,a[u].version);return new jg(e,n,a,o)}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YD{constructor(e,n){this.count=e,this.unchangedNames=n}}var ln,ct;function WD(r){switch(r){case ie.OK:return ze(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return ze(15467,{code:r})}}function iT(r){if(r===void 0)return ta("GRPC error has no .code"),ie.UNKNOWN;switch(r){case ln.OK:return ie.OK;case ln.CANCELLED:return ie.CANCELLED;case ln.UNKNOWN:return ie.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ie.INTERNAL;case ln.UNAVAILABLE:return ie.UNAVAILABLE;case ln.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case ln.NOT_FOUND:return ie.NOT_FOUND;case ln.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case ln.ABORTED:return ie.ABORTED;case ln.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case ln.DATA_LOSS:return ie.DATA_LOSS;default:return ze(39323,{code:r})}}(ct=ln||(ln={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function ZD(){return new TextEncoder}const JD=new Xa([4294967295,4294967295],0);function yx(r){const e=ZD().encode(r),n=new bE;return n.update(e),new Uint8Array(n.digest())}function vx(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xa([n,a],0),new Xa([o,c],0)]}class Mg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(a<0)throw new xc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Xa.fromNumber(a)));return o.compare(JD)===1&&(o=new Xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yx(e),[a,o]=vx(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);if(!this.we(u))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Mg(c,o,n);return a.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=yx(e),[a,o]=vx(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Bh(He.min(),o,new Qt(st),na(),ot())}}class au{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new au(a,n,ot(),ot(),ot())}}class $d{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class aT{constructor(e,n){this.targetId=e,this.Ce=n}}class sT{constructor(e,n,a=In.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class bx{constructor(){this.ve=0,this.Fe=_x(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),a=ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ze(38017,{changeType:c})}})),new au(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=_x()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $D{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.He=Vd(),this.Je=Vd(),this.Ze=new Qt(st)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Op(c))if(a===0){const u=new Pe(c.path);this.et(n,u,Vn.newNoDocument(u,He.min()))}else bt(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const m=this.ut(e),y=m?this.ct(m,e,u):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=es(a).toUint8Array()}catch(y){if(y instanceof kE)return Ks("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Mg(u,o,c)}catch(y){return Ks(y instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Op(m.target)){const y=new Pe(m.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Vn.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let a=ot();this.Je.forEach(((c,u)=>{let m=!0;u.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Bh(e,n,this.Ze,this.je,a);return this.je=na(),this.He=Vd(),this.Je=Vd(),this.Ze=new Qt(st),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new bx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new pn(st),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new pn(st),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vd(){return new Qt(Pe.comparator)}function _x(){return new Qt(Pe.comparator)}const e4={asc:"ASCENDING",desc:"DESCENDING"},t4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n4={and:"AND",or:"OR"};class r4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function i4(r,e){return yh(r,e.toTimestamp())}function bi(r){return bt(!!r,49232),He.fromTimestamp((function(n){const a=$a(n);return new Ut(a.seconds,a.nanos)})(r))}function Pg(r,e){return Vp(r,e).canonicalString()}function Vp(r,e){const n=(function(o){return new Ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function lT(r){const e=Ot.fromString(r);return bt(fT(e),10190,{key:e.toString()}),e}function Lp(r,e){return Pg(r.databaseId,e.path)}function cp(r,e){const n=lT(e);if(n.get(1)!==r.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Pe(uT(n))}function cT(r,e){return Pg(r.databaseId,e)}function a4(r){const e=lT(r);return e.length===4?Ot.emptyPath():uT(e)}function Up(r){return new Ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uT(r){return bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xx(r,e,n){return{name:Lp(r,e),fields:n.value.mapValue.fields}}function s4(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(bt(_===void 0||typeof _=="string",58123),In.fromBase64String(_||"")):(bt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),In.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const _=g.code===void 0?ie.UNKNOWN:iT(g.code);return new _e(_,g.message||"")})(u);n=new sT(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cp(r,a.document.name),c=bi(a.document.updateTime),u=a.document.createTime?bi(a.document.createTime):He.min(),m=new rr({mapValue:{fields:a.document.fields}}),y=Vn.newFoundDocument(o,c,u,m),g=a.targetIds||[],_=a.removedTargetIds||[];n=new $d(g,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cp(r,a.document),c=a.readTime?bi(a.readTime):He.min(),u=Vn.newNoDocument(o,c),m=a.removedTargetIds||[];n=new $d([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cp(r,a.document),c=a.removedTargetIds||[];n=new $d([],c,o,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,u=new YD(o,c),m=a.targetId;n=new aT(m,u)}}return n}function o4(r,e){let n;if(e instanceof iu)n={update:xx(r,e.key,e.value)};else if(e instanceof Og)n={delete:Lp(r,e.key)};else if(e instanceof cs)n={update:xx(r,e.key,e.data),updateMask:g4(e.fieldMask)};else{if(!(e instanceof KD))return ze(16599,{dt:e.type});n={verify:Lp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,u){const m=u.transform;if(m instanceof Hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw ze(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:i4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ze(27497)})(r,e.precondition)),n}function l4(r,e){return r&&r.length>0?(bt(e!==void 0,14353),r.map((n=>(function(o,c){let u=o.updateTime?bi(o.updateTime):bi(c);return u.isEqual(He.min())&&(u=bi(c)),new HD(u,o.transformResults||[])})(n,e)))):[]}function c4(r,e){return{documents:[cT(r,e.path)]}}function u4(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=cT(r,o);const c=(function(g){if(g.length!==0)return hT(Yr.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:Ho(T.field),direction:f4(T.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Pp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function d4(r){let e=a4(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){bt(a===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(w){const T=dT(w);return T instanceof Yr&&zE(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((T=>(function(k){return new Fc(qo(k.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let T;return T=typeof w=="object"?w.value:w,Oh(T)?null:T})(n.limit));let y=null;n.startAt&&(y=(function(w){const T=!!w.before,N=w.values||[];return new ph(N,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const T=!w.before,N=w.values||[];return new ph(N,T)})(n.endAt)),RD(e,o,u,c,m,"F",y,g)}function h4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=qo(n.unaryFilter.field);return cn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(n.unaryFilter.field);return cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qo(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(r):r.fieldFilter!==void 0?(function(n){return cn.create(qo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map((a=>dT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(r):ze(30097,{filter:r})}function f4(r){return e4[r]}function m4(r){return t4[r]}function p4(r){return n4[r]}function Ho(r){return{fieldPath:r.canonicalString()}}function qo(r){return Cn.fromServerFormat(r.fieldPath)}function hT(r){return r instanceof cn?(function(n){if(n.op==="=="){if(lx(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lx(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:m4(n.op),value:n.value}}})(r):r instanceof Yr?(function(n){const a=n.getFilters().map((o=>hT(o)));return a.length===1?a[0]:{compositeFilter:{op:p4(n.op),filters:a}}})(r):ze(54877,{filter:r})}function g4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function mT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class qa{constructor(e,n,a,o,c=He.min(),u=He.min(),m=In.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y4{constructor(e){this.yt=e}}function v4(r){const e=d4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mp(e,e.limit,"L"):e}class b4{constructor(){this.Sn=new _4}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ja.min())}updateCollectionGroup(e,n,a){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class _4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new pn(Ot.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new pn(Ot.comparator)).toArray()}}const wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(pT,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class al{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new al(0)}static ar(){return new al(-1)}}const Ex="LruGarbageCollector",x4=1048576;function Tx([r,e],[n,a]){const o=st(r,n);return o===0?st(e,a):o}class w4{constructor(e){this.Pr=e,this.buffer=new pn(Tx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Tx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(Ex,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?we(Ex,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Ar(3e5)}))}}class T4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Dh.ce);const a=new w4(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(wx)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,c,u,m,y,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,m=Date.now(),this.removeTargets(e,a,n)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(g=Date.now(),zo()<=at.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-_}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function A4(r,e){return new T4(r,e)}class S4{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?oe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class N4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Cc(a.mutation,o,vr.empty(),Ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ot()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ot()){const o=Bs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let u=_c();return c.forEach(((m,y)=>{u=u.insert(m,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=Bs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ot())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,a,o){let c=na();const u=Nc(),m=(function(){return Nc()})();return n.forEach(((y,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof cs)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Cc(_.mutation,g,_.mutation.getFieldMask(),Ut.now())):u.set(g.key,vr.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,_)=>u.set(g,_))),n.forEach(((g,_)=>m.set(g,new R4(_,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Nc();let o=new Qt(((u,m)=>u-m)),c=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let _=a.get(y)||vr.empty();_=m.applyToLocalView(g,_),a.set(y,_);const w=(o.get(m.batchId)||ot()).add(y);o=o.insert(m.batchId,w)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,_=y.value,w=WE();_.forEach((T=>{if(!c.has(T)){const N=nT(n.get(T),a.get(T));N!==null&&w.set(T,N),c=c.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return ND(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):oe.resolve(Bs());let m=Lc,y=c;return u.next((g=>oe.forEach(g,((_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(_)?oe.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{y=y.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,ot()))).next((_=>({batchId:m,changes:YE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((a=>{let o=_c();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let u=_c();return this.indexManager.getCollectionParents(e,c).next((m=>oe.forEach(m,(y=>{const g=(function(w,T){return new ml(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((u=>{c.forEach(((y,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Vn.newInvalidDocument(_)))}));let m=_c();return u.forEach(((y,g)=>{const _=c.get(y);_!==void 0&&Cc(_.mutation,g,vr.empty(),Ut.now()),Vh(n,g)&&(m=m.insert(y,g))})),m}))}}class C4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:v4(o.bundledQuery),readTime:bi(o.readTime)}})(n)),oe.resolve()}}class I4{constructor(){this.overlays=new Qt(Pe.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Bs();return oe.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.bt(e,n,c)})),oe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),oe.resolve()}getOverlaysForCollection(e,n,a){const o=Bs(),c=n.length+1,u=new Pe(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new Qt(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let _=c.get(g.largestBatchId);_===null&&(_=Bs(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Bs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return oe.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new XD(n,a));let c=this.Lr.get(n);c===void 0&&(c=ot(),this.Lr.set(n,c)),this.Lr.set(n,c.add(a.key))}}class k4{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Vg{constructor(){this.kr=new pn(_n.Kr),this.qr=new pn(_n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new _n(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new _n(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new Pe(new Ot([])),a=new _n(n,e),o=new _n(n,e+1),c=[];return this.qr.forEachInRange([a,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Pe(new Ot([])),a=new _n(n,e),o=new _n(n,e+1);let c=ot();return this.qr.forEachInRange([a,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new _n(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class _n{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Pe.comparator(e.key,n.key)||st(e.Hr,n.Hr)}static Ur(e,n){return st(e.Hr,n.Hr)||Pe.comparator(e.key,n.key)}}class D4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new pn(_n.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QD(c,n,a,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new _n(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),c=o<0?0:o;return oe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Rg:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new _n(n,0),o=new _n(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(u=>{const m=this.Zr(u.Hr);c.push(m)})),oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new pn(st);return n.forEach((o=>{const c=new _n(o,0),u=new _n(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(m=>{a=a.add(m.Hr)}))})),oe.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;Pe.isDocumentKey(c)||(c=c.child(""));const u=new _n(new Pe(c),0);let m=new pn(st);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),u),oe.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){bt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return oe.forEach(n.mutations,(o=>{const c=new _n(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new _n(n,0),o=this.Jr.firstAfterOrEqual(a);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class O4{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return oe.resolve(a?a.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let a=na();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Vn.newInvalidDocument(o))})),oe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=na();const u=n.path,m=new Pe(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:_}}=y.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||iD(rD(_),a)<=0||(o.has(_.key)||Vh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return oe.resolve(c)}getAllFromCollectionGroup(e,n,a,o){ze(9500)}ni(e,n){return oe.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new j4(this)}getSize(e){return oe.resolve(this.size)}}class j4 extends S4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class M4{constructor(e){this.persistence=e,this.ri=new Js((n=>Ig(n)),kg),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new Vg,this.targetCount=0,this.oi=al._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new al(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(c).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return oe.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),oe.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),oe.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return oe.resolve(a)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}class gT{constructor(e,n){this._i={},this.overlays={},this.ai=new Dh(0),this.ui=!1,this.ui=!0,this.ci=new k4,this.referenceDelegate=e(this),this.li=new M4(this),this.indexManager=new b4,this.remoteDocumentCache=(function(o){return new O4(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new y4(n),this.Pi=new C4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new D4(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){we("MemoryPersistence","Starting transaction:",e);const o=new P4(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return oe.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class P4 extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Ai=null}static Vi(e){return new Lg(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),oe.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(a=>{const o=Pe.fromPath(a);return this.mi(e,o).next((c=>{c||n.removeEntry(o,He.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.fi=new Js((a=>cD(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=A4(this,n)}static Vi(e,n){return new vh(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return oe.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?oe.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(a++,c.removeEntry(u,He.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wd(e.data.value)),n}wr(e,n,a){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return oe.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ug{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=ot(),o=ot();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ug(e,n.fromCache,a,o)}}class V4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qN()?8:oD(Ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,a).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new V4;return this.ys(e,n,u).next((m=>{if(c.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>c.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(zo()<=at.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(zo()<=at.DEBUG&&we("QueryEngine","Query:",Fo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(zo()<=at.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):oe.resolve())}gs(e,n){if(hx(n))return oe.resolve(null);let a=vi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Mp(n,null,"F"),a=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const u=ot(...c);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,a).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,u,y.readTime)?this.gs(e,Mp(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,a,o){return hx(n)||o.isEqual(He.min())?oe.resolve(null):this.fs.getDocuments(e,a).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,a,o)?oe.resolve(null):(zo()<=at.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(n)),this.Ds(e,u,n,nD(o,Lc)).next((m=>m)))}))}bs(e,n){let a=new pn(QE(e));return n.forEach(((o,c)=>{Vh(e,c)&&(a=a.add(c))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,a){return zo()<=at.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ja.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Bg="LocalStore",U4=3e8;class B4{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Qt(st),this.Fs=new Js((c=>Ig(c)),kg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function z4(r,e,n,a){return new B4(r,e,n,a)}async function yT(r,e){const n=Ge(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const u=[],m=[];let y=ot();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}for(const g of c){m.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(a,y).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function F4(r,e){const n=Ge(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,_){const w=g.batch,T=w.keys();let N=oe.resolve();return T.forEach((k=>{N=N.next((()=>_.getEntry(y,k))).next((F=>{const Q=g.docVersions.get(k);bt(Q!==null,48541),F.version.compareTo(Q)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(y,w)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let y=ot();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function vT(r){const e=Ge(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function H4(r,e){const n=Ge(r),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((_,w)=>{const T=o.get(w);if(!T)return;m.push(n.li.removeMatchingKeys(c,_.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,_.addedDocuments,w))));let N=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(In.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,a)),o=o.insert(w,N),(function(F,Q,ne){return F.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=U4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(T,N,_)&&m.push(n.li.updateTargetData(c,N))}));let y=na(),g=ot();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(q4(c,u,e.documentUpdates).next((_=>{y=_.Bs,g=_.Ls}))),!a.isEqual(He.min())){const _=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));m.push(_)}return oe.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(n.vs=o,c)))}function q4(r,e,n){let a=ot(),o=ot();return n.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let u=na();return n.forEach(((m,y)=>{const g=c.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(He.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):we(Bg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:u,Ls:o}}))}function G4(r,e){const n=Ge(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Rg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function K4(r,e){const n=Ge(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((c=>c?(o=c,oe.resolve(o)):n.li.allocateTargetId(a).next((u=>(o=new qa(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function Bp(r,e,n){const a=Ge(r),o=a.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(u=>a.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!fl(u))throw u;we(Bg,`Failed to update sequence numbers for target ${e}: ${u}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function Ax(r,e,n){const a=Ge(r);let o=He.min(),c=ot();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,g,_){const w=Ge(y),T=w.Fs.get(_);return T!==void 0?oe.resolve(w.vs.get(T)):w.li.getTargetData(g,_)})(a,u,vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(u,m.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(u,e,n?o:He.min(),n?c:ot()))).next((m=>(Q4(a,kD(e),m),{documents:m,ks:c})))))}function Q4(r,e,n){let a=r.Ms.get(e)||He.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(e,a)}class Sx{constructor(){this.activeTargetIds=VD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X4{constructor(){this.vo=new Sx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Sx,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y4{Mo(e){}shutdown(){}}const Rx="ConnectivityMonitor";class Nx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(Rx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(Rx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ld=null;function zp(){return Ld===null?Ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ld++,"0x"+Ld.toString(16)}const up="RestConnection",W4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Z4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,c){const u=zp(),m=this.Qo(e,n.toUriEncodedString());we(up,`Sending RPC '${e}' ${u}:`,m,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:g}=new URL(m),_=ss(g);return this.zo(e,m,y,a,_).then((w=>(we(up,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Ks(up,`RPC '${e}' ${u} failed with error: `,w,"url: ",m,"request:",a),w}))}jo(e,n,a,o,c,u){return this.Wo(e,n,a,o,c)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const a=W4[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class J4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const jn="WebChannelConnection",fc=(r,e,n)=>{r.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Zo extends Z4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Zo.c_){const e=EE();fc(e,wE.STAT_EVENT,(n=>{n.stat===Np.PROXY?we(jn,"STAT_EVENT: detected buffering proxy"):n.stat===Np.NOPROXY&&we(jn,"STAT_EVENT: detected no buffering proxy")})),Zo.c_=!0}}zo(e,n,a,o,c){const u=zp();return new Promise(((m,y)=>{const g=new _E;g.setWithCredentials(!0),g.listenOnce(xE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Yd.NO_ERROR:const w=g.getResponseJson();we(jn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),m(w);break;case Yd.TIMEOUT:we(jn,`RPC '${e}' ${u} timed out`),y(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const T=g.getStatus();if(we(jn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N?.error;if(k&&k.status&&k.message){const F=(function(ne){const $=ne.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(k.status);y(new _e(F,k.message))}else y(new _e(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{we(jn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);we(jn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,a,15)}))}T_(e,n,a){const o=zp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=c.join("");we(jn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const _=u.createWebChannel(g,m);this.I_(_);let w=!1,T=!1;const N=new J4({Ho:k=>{T?we(jn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(we(jn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),w=!0),we(jn,`RPC '${e}' stream ${o} sending:`,k),_.send(k))},Jo:()=>_.close()});return fc(_,bc.EventType.OPEN,(()=>{T||(we(jn,`RPC '${e}' stream ${o} transport opened.`),N.i_())})),fc(_,bc.EventType.CLOSE,(()=>{T||(T=!0,we(jn,`RPC '${e}' stream ${o} transport closed`),N.o_(),this.E_(_))})),fc(_,bc.EventType.ERROR,(k=>{T||(T=!0,Ks(jn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),N.o_(new _e(ie.UNAVAILABLE,"The operation could not be completed")))})),fc(_,bc.EventType.MESSAGE,(k=>{if(!T){const F=k.data[0];bt(!!F,16349);const Q=F,ne=Q?.error||Q[0]?.error;if(ne){we(jn,`RPC '${e}' stream ${o} received error:`,ne);const $=ne.status;let le=(function(Te){const E=ln[Te];if(E!==void 0)return iT(E)})($),Ne=ne.message;$==="NOT_FOUND"&&Ne.includes("database")&&Ne.includes("does not exist")&&Ne.includes(this.databaseId.database)&&Ks(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),le===void 0&&(le=ie.INTERNAL,Ne="Unknown error status: "+$+" with message "+ne.message),T=!0,N.o_(new _e(le,Ne)),_.close()}else we(jn,`RPC '${e}' stream ${o} received:`,F),N.__(F)}})),Zo.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TE()}}function $4(r){return new Zo(r)}function dp(){return typeof document<"u"?document:null}function zh(r){return new r4(r,!0)}Zo.c_=!1;class bT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Cx="PersistentStream";class _T{constructor(e,n,a,o,c,u,m,y){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new _e(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(Cx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(Cx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eO extends _T{constructor(e,n,a,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s4(this.serializer,e),a=(function(c){if(!("targetChange"in c))return He.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?bi(u.readTime):He.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=Up(this.serializer),n.addTarget=(function(c,u){let m;const y=u.target;if(m=Op(y)?{documents:c4(c,y)}:{query:u4(c,y).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=oT(c,u.resumeToken);const g=Pp(c,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(He.min())>0){m.readTime=yh(c,u.snapshotVersion.toTimestamp());const g=Pp(c,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=h4(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.K_(n)}}class tO extends _T{constructor(e,n,a,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l4(e.writeResults,e.commitTime),a=bi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Up(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>o4(this.serializer,a)))};this.K_(n)}}class nO{}class rO extends nO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Vp(n,a),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ie.UNKNOWN,c.toString())}))}jo(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Vp(n,a),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iO(r,e,n,a){return new rO(r,e,n,a)}class aO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class sO{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{a.enqueueAndForget((async()=>{$s(this)&&(we(Qs,"Restarting streams for network reachability change."),await(async function(y){const g=Ge(y);g.Ea.add(4),await su(g),g.Va.set("Unknown"),g.Ea.delete(4),await Fh(g)})(this))}))})),this.Va=new aO(a,o)}}async function Fh(r){if($s(r))for(const e of r.Ra)await e(!0)}async function su(r){for(const e of r.Ra)await e(!1)}function xT(r,e){const n=Ge(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Hg(n):pl(n).O_()&&Fg(n,e))}function zg(r,e){const n=Ge(r),a=pl(n);n.Ia.delete(e),a.O_()&&wT(n,e),n.Ia.size===0&&(a.O_()?a.L_():$s(n)&&n.Va.set("Unknown"))}function Fg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(r).Z_(e)}function wT(r,e){r.da.$e(e),pl(r).X_(e)}function Hg(r){r.da=new $D({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Va.ua()}function qg(r){return $s(r)&&!pl(r).x_()&&r.Ia.size>0}function $s(r){return Ge(r).Ea.size===0}function ET(r){r.da=void 0}async function oO(r){r.Va.set("Online")}async function lO(r){r.Ia.forEach(((e,n)=>{Fg(r,e)}))}async function cO(r,e){ET(r),qg(r)?(r.Va.ha(e),Hg(r)):r.Va.set("Unknown")}async function uO(r,e,n){if(r.Va.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(a){we(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await bh(r,a)}else if(e instanceof $d?r.da.Xe(e):e instanceof aT?r.da.st(e):r.da.tt(e),!n.isEqual(He.min()))try{const a=await vT(r.localStore);n.compareTo(a)>=0&&await(function(c,u){const m=c.da.Tt(u);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(y.resumeToken,u))}})),m.targetMismatches.forEach(((y,g)=>{const _=c.Ia.get(y);if(!_)return;c.Ia.set(y,_.withResumeToken(In.EMPTY_BYTE_STRING,_.snapshotVersion)),wT(c,y);const w=new qa(_.target,y,g,_.sequenceNumber);Fg(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){we(Qs,"Failed to raise snapshot:",a),await bh(r,a)}}async function bh(r,e,n){if(!fl(e))throw e;r.Ea.add(1),await su(r),r.Va.set("Offline"),n||(n=()=>vT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{we(Qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fh(r)}))}function TT(r,e){return e().catch((n=>bh(r,n,e)))}async function Hh(r){const e=Ge(r),n=ns(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rg;for(;dO(e);)try{const o=await G4(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,hO(e,o)}catch(o){await bh(e,o)}AT(e)&&ST(e)}function dO(r){return $s(r)&&r.Ta.length<10}function hO(r,e){r.Ta.push(e);const n=ns(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function AT(r){return $s(r)&&!ns(r).x_()&&r.Ta.length>0}function ST(r){ns(r).start()}async function fO(r){ns(r).ra()}async function mO(r){const e=ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function pO(r,e,n){const a=r.Ta.shift(),o=jg.from(a,e,n);await TT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Hh(r)}async function gO(r,e){e&&ns(r).Y_&&await(async function(a,o){if((function(u){return WD(u)&&u!==ie.ABORTED})(o.code)){const c=a.Ta.shift();ns(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Hh(a)}})(r,e),AT(r)&&ST(r)}async function Ix(r,e){const n=Ge(r);n.asyncQueue.verifyOperationInProgress(),we(Qs,"RemoteStore received new credentials");const a=$s(n);n.Ea.add(3),await su(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fh(n)}async function yO(r,e){const n=Ge(r);e?(n.Ea.delete(2),await Fh(n)):e||(n.Ea.add(2),await su(n),n.Va.set("Unknown"))}function pl(r){return r.ma||(r.ma=(function(n,a,o){const c=Ge(n);return c.sa(),new eO(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:oO.bind(null,r),Yo:lO.bind(null,r),t_:cO.bind(null,r),J_:uO.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),qg(r)?Hg(r):r.Va.set("Unknown")):(await r.ma.stop(),ET(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,a,o){const c=Ge(n);return c.sa(),new tO(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fO.bind(null,r),t_:gO.bind(null,r),ta:mO.bind(null,r),na:pO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(we(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gg{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const u=Date.now()+a,m=new Gg(e,n,u,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(r,e){if(ta("AsyncQueue",`${e}: ${r}`),fl(r))return new _e(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Pe.comparator(n.key,a.key):(n,a)=>Pe.comparator(n.key,a.key),this.keyedMap=_c(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Jo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class kx{constructor(){this.ga=new Qt(Pe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class sl{constructor(e,n,a,o,c,u,m,y,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new sl(e,n,Jo.emptySet(n),u,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class vO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class bO{constructor(){this.queries=Dx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ge(n),c=o.queries;o.queries=Dx(),c.forEach(((u,m)=>{for(const y of m.ba)y.onError(a)}))})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function Dx(){return new Js((r=>KE(r)),Ph)}async function RT(r,e){const n=Ge(r);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new vO,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Kg(u,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Qg(n)}async function NT(r,e){const n=Ge(r),a=e.query;let o=3;const c=n.queries.get(a);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function _O(r,e){const n=Ge(r);let a=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.ba)m.Fa(o)&&(a=!0);u.wa=o}}a&&Qg(n)}function xO(r,e,n){const a=Ge(r),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(n);a.queries.delete(e)}function Qg(r){r.Ca.forEach((e=>{e.next()}))}var Fp,Ox;(Ox=Fp||(Fp={})).Ma="default",Ox.Cache="cache";class CT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}class IT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class wO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=QE(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new kx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const T=o.get(_),N=Vh(this.query,w)?w:null,k=!!T&&this.mutatedKeys.has(T.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Q=!1;T&&N?T.data.isEqual(N.data)?k!==F&&(a.track({type:3,doc:N}),Q=!0):this.su(T,N)||(a.track({type:2,doc:N}),Q=!0,(y&&this.eu(N,y)>0||g&&this.eu(N,g)<0)&&(m=!0)):!T&&N?(a.track({type:0,doc:N}),Q=!0):T&&!N&&(a.track({type:1,doc:T}),Q=!0,(y||g)&&(m=!0)),Q&&(N?(u=u.add(N),c=F?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),a.track({type:1,doc:_})}return{tu:u,iu:a,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,w)=>(function(N,k){const F=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:Q})}};return F(N)-F(k)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,u.length!==0||g?{snapshot:new sl(this.query,e.tu,c,u,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new kT(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new IT(a))})),n}cu(e){this.Za=e.ks,this.Ya=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xg="SyncEngine";class EO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class TO{constructor(e){this.key=e,this.hu=!1}}class AO{constructor(e,n,a,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Js((m=>KE(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Pe.comparator),this.Au=new Map,this.Vu=new Vg,this.du={},this.mu=new Map,this.fu=al.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(r,e,n=!0){const a=VT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await DT(a,e,n,!0),o}async function RO(r,e){const n=VT(r);await DT(n,e,!0,!1)}async function DT(r,e,n,a){const o=await K4(r.localStore,vi(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await NO(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&n&&xT(r.remoteStore,o),m}async function NO(r,e,n,a,o){r.pu=(w,T,N)=>(async function(F,Q,ne,$){let le=Q.view.ru(ne);le.Ss&&(le=await Ax(F.localStore,Q.query,!1).then((({documents:E})=>Q.view.ru(E,le))));const Ne=$&&$.targetChanges.get(Q.targetId),Ae=$&&$.targetMismatches.get(Q.targetId)!=null,Te=Q.view.applyChanges(le,F.isPrimaryClient,Ne,Ae);return Mx(F,Q.targetId,Te.au),Te.snapshot})(r,w,T,N);const c=await Ax(r.localStore,e,!0),u=new wO(e,c.ks),m=u.ru(c.documents),y=au.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=u.applyChanges(m,r.isPrimaryClient,y);Mx(r,n,g.au);const _=new EO(e,n,u);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function CO(r,e,n){const a=Ge(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((u=>!Ph(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Bp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&zg(a.remoteStore,o.targetId),Hp(a,o.targetId)})).catch(hl)):(Hp(a,o.targetId),await Bp(a.localStore,o.targetId,!0))}async function IO(r,e){const n=Ge(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),zg(n.remoteStore,a.targetId))}async function kO(r,e,n){const a=LO(r);try{const o=await(function(u,m){const y=Ge(u),g=Ut.now(),_=m.reduce(((N,k)=>N.add(k.key)),ot());let w,T;return y.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let k=na(),F=ot();return y.xs.getEntries(N,_).next((Q=>{k=Q,k.forEach(((ne,$)=>{$.isValidDocument()||(F=F.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(N,k))).next((Q=>{w=Q;const ne=[];for(const $ of m){const le=GD($,w.get($.key).overlayedDocument);le!=null&&ne.push(new cs($.key,le,LE(le.value.mapValue),Kr.exists(!0)))}return y.mutationQueue.addMutationBatch(N,g,ne,m)})).next((Q=>{T=Q;const ne=Q.applyToLocalDocumentSet(w,F);return y.documentOverlayCache.saveOverlays(N,Q.batchId,ne)}))})).then((()=>({batchId:T.batchId,changes:YE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(u,m,y){let g=u.du[u.currentUser.toKey()];g||(g=new Qt(st)),g=g.insert(m,y),u.du[u.currentUser.toKey()]=g})(a,o.batchId,n),await ou(a,o.changes),await Hh(a.remoteStore)}catch(o){const c=Kg(o,"Failed to persist write");n.reject(c)}}async function OT(r,e){const n=Ge(r);try{const a=await H4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?bt(u.hu,14607):o.removedDocuments.size>0&&(bt(u.hu,42227),u.hu=!1))})),await ou(n,a,e)}catch(a){await hl(a)}}function jx(r,e,n){const a=Ge(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const y=Ge(u);y.onlineState=m;let g=!1;y.queries.forEach(((_,w)=>{for(const T of w.ba)T.va(m)&&(g=!0)})),g&&Qg(y)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DO(r,e,n){const a=Ge(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let u=new Qt(Pe.comparator);u=u.insert(c,Vn.newNoDocument(c,He.min()));const m=ot().add(c),y=new Bh(He.min(),new Map,new Qt(st),u,m);await OT(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(e),Yg(a)}else await Bp(a.localStore,e,!1).then((()=>Hp(a,e,n))).catch(hl)}async function OO(r,e){const n=Ge(r),a=e.batch.batchId;try{const o=await F4(n.localStore,e);MT(n,a,null),jT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ou(n,o)}catch(o){await hl(o)}}async function jO(r,e,n){const a=Ge(r);try{const o=await(function(u,m){const y=Ge(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return y.mutationQueue.lookupMutationBatch(g,m).next((w=>(bt(w!==null,37113),_=w.keys(),y.mutationQueue.removeMutationBatch(g,w)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>y.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);MT(a,e,n),jT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ou(a,o)}catch(o){await hl(o)}}function jT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function MT(r,e,n){const a=Ge(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Hp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((a=>{r.Vu.containsKey(a)||PT(r,a)}))}function PT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(zg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Yg(r))}function Mx(r,e,n){for(const a of n)a instanceof IT?(r.Vu.addReference(a.key,e),MO(r,a)):a instanceof kT?(we(Xg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,e),r.Vu.containsKey(a.key)||PT(r,a.key)):ze(19791,{wu:a})}function MO(r,e){const n=e.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(we(Xg,"New document in limbo: "+n),r.Eu.add(a),Yg(r))}function Yg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Pe(Ot.fromString(e)),a=r.fu.next();r.Au.set(a,new TO(n)),r.Ru=r.Ru.insert(n,a),xT(r.remoteStore,new qa(vi(Mh(n.path)),a,"TargetPurposeLimboResolution",Dh.ce))}}async function ou(r,e,n){const a=Ge(r),o=[],c=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,y)=>{u.push(a.pu(y,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Ug.Es(y.targetId,g);c.push(_)}})))})),await Promise.all(u),a.Pu.J_(o),await(async function(y,g){const _=Ge(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(T=>oe.forEach(T.Ts,(N=>_.persistence.referenceDelegate.addReference(w,T.targetId,N))).next((()=>oe.forEach(T.Is,(N=>_.persistence.referenceDelegate.removeReference(w,T.targetId,N)))))))))}catch(w){if(!fl(w))throw w;we(Bg,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const N=_.vs.get(T),k=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(k);_.vs=_.vs.insert(T,F)}}})(a.localStore,c))}async function PO(r,e){const n=Ge(r);if(!n.currentUser.isEqual(e)){we(Xg,"User change. New user:",e.toKey());const a=await yT(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new _e(ie.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(n,a.Ns)}}function VO(r,e){const n=Ge(r),a=n.Au.get(e);if(a&&a.hu)return ot().add(a.key);{let o=ot();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function VT(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.Pu.J_=_O.bind(null,e.eventManager),e.Pu.yu=xO.bind(null,e.eventManager),e}function LO(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z4(this.persistence,new L4,e.initialUser,this.serializer)}Cu(e){return new gT(Lg.Vi,this.serializer)}Du(e){return new X4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class UO extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof vh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new E4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new gT((a=>vh.Vi(a,n)),this.serializer)}}class qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PO.bind(null,this.syncEngine),await yO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bO})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),a=$4(e.databaseInfo);return iO(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,u,m){return new sO(a,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>jx(this.syncEngine,n,0)),(function(){return Nx.v()?new Nx:new Y4})())}createSyncEngine(e,n){return(function(o,c,u,m,y,g,_){const w=new AO(o,c,u,m,y,g);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ge(n);we(Qs,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qp.provider={build:()=>new qp};class LT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const rs="FirestoreClient";class BO{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Pn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async u=>{we(rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(we(rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Kg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function hp(r,e){r.asyncQueue.verifyOperationInProgress(),we(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await yT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Px(r,e){r.asyncQueue.verifyOperationInProgress();const n=await zO(r);we(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Ix(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Ix(e.remoteStore,o))),r._onlineComponents=e}async function zO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we(rs,"Using user provided OfflineComponentProvider");try{await hp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await hp(r,new _h)}}else we(rs,"Using default OfflineComponentProvider"),await hp(r,new UO(void 0));return r._offlineComponents}async function UT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we(rs,"Using user provided OnlineComponentProvider"),await Px(r,r._uninitializedComponentsProvider._online)):(we(rs,"Using default OnlineComponentProvider"),await Px(r,new qp))),r._onlineComponents}function FO(r){return UT(r).then((e=>e.syncEngine))}async function Gp(r){const e=await UT(r),n=e.eventManager;return n.onListen=SO.bind(null,e.syncEngine),n.onUnlisten=CO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IO.bind(null,e.syncEngine),n}function HO(r,e,n,a){const o=new LT(a),c=new CT(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>RT(await Gp(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>NT(await Gp(r),c)))}}function qO(r,e,n={}){const a=new Ya;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,y,g){const _=new LT({next:T=>{_.Nu(),u.enqueueAndForget((()=>NT(c,w)));const N=T.docs.has(m);!N&&T.fromCache?g.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&y&&y.source==="server"?g.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new CT(Mh(m.path),_,{includeMetadataChanges:!0,Ka:!0});return RT(c,w)})(await Gp(r),r.asyncQueue,e,n,a))),a.promise}function GO(r,e){const n=new Ya;return r.asyncQueue.enqueueAndForget((async()=>kO(await FO(r),e,n))),n.promise}function BT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const KO="ComponentProvider",Vx=new Map;function QO(r,e,n,a,o){return new hD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,BT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const zT="firestore.googleapis.com",Lx=!0;class Ux{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=Lx}else this.host=e.host,this.ssl=e.ssl??Lx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x4)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Gk;switch(a.type){case"firstParty":return new Yk(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Vx.get(n);a&&(we(KO,"Removing Datastore"),Vx.delete(n),a.terminate())})(this),Promise.resolve()}}function XO(r,e,n,a={}){r=yi(r,qh);const o=ss(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ug(`https://${m}`),dg("Firestore",!0)),c.host!==zT&&c.host!==m&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:a};if(!Fs(y,u)&&(r._setSettings(y),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Pn.MOCK_USER;else{g=MN(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Pn(w)}r._authCredentials=new Kk(new SE(g,_))}}class eo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class en{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(ru(n,en._jsonSchema))return new en(e,a||null,new Pe(Ot.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:un("string",en._jsonSchemaVersion),referencePath:un("string")};class Wa extends eo{constructor(e,n,a){super(e,n,Mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Pe(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function FT(r,e,...n){if(r=tn(r),RE("collection","path",e),r instanceof qh){const a=Ot.fromString(e,...n);return J_(a),new Wa(r,null,a)}{if(!(r instanceof en||r instanceof Wa))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ot.fromString(e,...n));return J_(a),new Wa(r.firestore,null,a)}}function lu(r,e,...n){if(r=tn(r),arguments.length===1&&(e=Sg.newId()),RE("doc","path",e),r instanceof qh){const a=Ot.fromString(e,...n);return Z_(a),new en(r,null,new Pe(a))}{if(!(r instanceof en||r instanceof Wa))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ot.fromString(e,...n));return Z_(a),new en(r.firestore,r instanceof Wa?r.converter:null,new Pe(a))}}const Bx="AsyncQueue";class zx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const a=dp();a&&we(Bx,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;we(Bx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",Fx(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ze(47125,{Pc:Fx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fx(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Xs extends qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new zx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zx(e),this._firestoreClient=void 0,await e}}}function YO(r,e){const n=typeof r=="object"?r:mg(),a=typeof r=="string"?r:fh,o=Ah(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Iw("firestore");c&&XO(o,...c)}return o}function Wg(r){if(r._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WO(r),r._firestoreClient}function WO(r){const e=r._freezeSettings(),n=QO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new BO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(In.fromBase64String(e))}catch(n){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:un("string",Or._jsonSchemaVersion),bytes:un("string")};class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class _i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(ru(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:un("string",_i._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};class Qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qr(e.vectorValues);throw new _e(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:un("string",Qr._jsonSchemaVersion),vectorValues:un("object")};const ZO=/^__.*__$/;class JO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class HT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:r})}}class Jg{constructor(e,n,a,o,c,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qT(this.dataSource)&&ZO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $O{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||zh(e)}createContext(e,n,a,o=!1){return new Jg({dataSource:e,methodName:n,targetDoc:a,path:Cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new $O(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ej(r,e,n,a,o,c={}){const u=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);ty("Data must be an object, but it was:",u,a);const m=GT(a,u);let y,g;if(c.merge)y=new vr(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const T=ol(e,w,n);if(!u.contains(T))throw new _e(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XT(_,T)||_.push(T)}y=new vr(_),g=u.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,g=u.fieldTransforms;return new JO(new rr(m),y,g)}class Kh extends Gh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}class ey extends Gh{_toFieldTransform(e){return new zD(e.path,new Hc)}isEqual(e){return e instanceof ey}}function tj(r,e,n,a){const o=r.createContext(1,e,n);ty("Data must be an object, but it was:",o,a);const c=[],u=rr.empty();ls(a,((y,g)=>{const _=QT(e,y,n);g=tn(g);const w=o.childContextForFieldPath(_);if(g instanceof Kh)c.push(_);else{const T=cu(g,w);T!=null&&(c.push(_),u.set(_,T))}}));const m=new vr(c);return new HT(u,m,o.fieldTransforms)}function nj(r,e,n,a,o,c){const u=r.createContext(1,e,n),m=[ol(e,a,n)],y=[o];if(c.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)m.push(ol(e,c[T])),y.push(c[T+1]);const g=[],_=rr.empty();for(let T=m.length-1;T>=0;--T)if(!XT(g,m[T])){const N=m[T];let k=y[T];k=tn(k);const F=u.childContextForFieldPath(N);if(k instanceof Kh)g.push(N);else{const Q=cu(k,F);Q!=null&&(g.push(N),_.set(N,Q))}}const w=new vr(g);return new HT(_,w,u.fieldTransforms)}function rj(r,e,n,a=!1){return cu(n,r.createContext(a?4:3,e))}function cu(r,e){if(KT(r=tn(r)))return ty("Unsupported field value:",e,r),GT(r,e);if(r instanceof Gh)return(function(a,o){if(!qT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let u=0;for(const m of a){let y=cu(m,o.childContextForArray(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ut.fromDate(a);return{timestampValue:yh(o.serializer,c)}}if(a instanceof Ut){const c=new Ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,c)}}if(a instanceof _i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Or)return{bytesValue:oT(o.serializer,a._byteString)};if(a instanceof en){const c=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Qr)return(function(u,m){const y=u instanceof Qr?u.toArray():u;return{mapValue:{fields:{[PE]:{stringValue:VE},[mh]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return Dg(m.serializer,_)}))}}}}}})(a,o);if(mT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${kh(a)}`)})(r,e)}function GT(r,e){const n={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,((a,o)=>{const c=cu(o,e.childContextForField(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function KT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ut||r instanceof _i||r instanceof Or||r instanceof en||r instanceof Gh||r instanceof Qr||mT(r))}function ty(r,e,n){if(!KT(n)||!NE(n)){const a=kh(n);throw a==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+a)}}function ol(r,e,n){if((e=tn(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return QT(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ij=new RegExp("[~\\*/\\[\\]]");function QT(r,e,n){if(e.search(ij)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,a,o){const c=a&&!a.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${a}`),u&&(y+=` in document ${o}`),y+=")"),new _e(ie.INVALID_ARGUMENT,m+r+y)}function XT(r,e){return r.some((n=>n.isEqual(e)))}class aj{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ls(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((a=>$t(a.doubleValue)));return new Qr(n)}convertGeoPoint(e){return new _i($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=jh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=$a(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Ot.fromString(e);bt(fT(a),9688,{name:e});const o=new Bc(a.get(1),a.get(3)),c=new Pe(a.popFirst(5));return o.isEqual(n)||ta(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class YT extends aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Kp(){return new ey("serverTimestamp")}const Hx="@firebase/firestore",qx="4.11.0";function Gx(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class WT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ol("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sj extends WT{data(){return super.data()}}function oj(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class ZT extends ny{}function lj(r,e,...n){let a=[];e instanceof ny&&a.push(e),a=a.concat(n),(function(c){const u=c.filter((y=>y instanceof iy)).length,m=c.filter((y=>y instanceof ry)).length;if(u>1||u>0&&m>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class ry extends ZT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ry(e,n,a)}_apply(e){const n=this._parse(e);return JT(e._query,n),new eo(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=$g(e.firestore);return(function(c,u,m,y,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Qx(w,_);const k=[];for(const F of w)k.push(Kx(y,c,F));T={arrayValue:{values:k}}}else T=Kx(y,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Qx(w,_),T=rj(m,u,w,_==="in"||_==="not-in");return cn.create(g,_,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class iy extends ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iy(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const y of m)JT(u,y),u=jp(u,y)})(e._query,n),new eo(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ay extends ZT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ay(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(c,u)})(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,ID(e._query,n))}}function cj(r,e="asc"){const n=e,a=ol("orderBy",r);return ay._create(a,n)}function Kx(r,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&n.indexOf("/")!==-1)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Ot.fromString(n));if(!Pe.isDocumentKey(a))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return sx(r,new Pe(a))}if(n instanceof en)return sx(r,n._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function Qx(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(r,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uj(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends WT{constructor(e,n,a,o,c,u){super(e,n,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ol("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:un("string",zs._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class eh extends zs{data(e={}){return super.data(e)}}class $o{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new wc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const y=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:dj(m.type),doc:y,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:r})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:un("string",$o._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};function $T(r){r=yi(r,en);const e=yi(r.firestore,Xs),n=Wg(e);return qO(n,r._key).then((a=>eA(e,r,a)))}function hj(r,e,n,...a){r=yi(r,en);const o=yi(r.firestore,Xs),c=$g(o);let u;return u=typeof(e=tn(e))=="string"||e instanceof Zg?nj(c,"updateDoc",r._key,e,n,a):tj(c,"updateDoc",r._key,e),sy(o,[u.toMutation(r._key,Kr.exists(!0))])}function fj(r){return sy(yi(r.firestore,Xs),[new Og(r._key,Kr.none())])}function mj(r,e){const n=yi(r.firestore,Xs),a=lu(r),o=uj(r.converter,e),c=$g(r.firestore);return sy(n,[ej(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Kr.exists(!1))]).then((()=>a))}function pj(r,...e){r=tn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Gx(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Gx(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,u,m;if(r instanceof en)u=yi(r.firestore,Xs),m=Mh(r._key.path),c={next:g=>{e[a]&&e[a](eA(u,r,g))},error:e[a+1],complete:e[a+2]};else{const g=yi(r,eo);u=yi(g.firestore,Xs),m=g._query;const _=new YT(u);c={next:w=>{e[a]&&e[a](new $o(u,_,g,w))},error:e[a+1],complete:e[a+2]},oj(r._query)}const y=Wg(u);return HO(y,m,o,c)}function sy(r,e){const n=Wg(r);return GO(n,e)}function eA(r,e,n){const a=n.docs.get(e._key),o=new YT(r);return new zs(r,o,e._key,a,new wc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qk(ll),Hs(new Za("firestore",((a,{instanceIdentifier:o,options:c})=>{const u=a.getProvider("app").getImmediate(),m=new Xs(new Qk(a.getProvider("auth-internal")),new Wk(u,a.getProvider("app-check-internal")),fD(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),mi(Hx,qx,e),mi(Hx,qx,"esm2020")})();const gj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCqAoxETs_gyv_HWVa6O1jx0nCFZfRBdQA",VITE_FIREBASE_APP_ID:"1:994746165516:web:7a2422e6ad6b0d3c41c129",VITE_FIREBASE_AUTH_DOMAIN:"multi-tanent-projects.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"994746165516",VITE_FIREBASE_PROJECT_ID:"multi-tanent-projects",VITE_FIREBASE_STORAGE_BUCKET:"multi-tanent-projects.firebasestorage.app",VITE_STORE_ID:"frederick"},yj=["Recurve Bows","Longbows","Strings","Accessories"],tA=[{id:"regal-recurve",name:"The Regal Recurve",category:"Recurve Bows",price:450,summary:"Hand-carved riser with maple limbs for smooth draw.",description:"A refined recurve crafted for dependable daily shooting. The Regal Recurve blends maple laminations with a balanced limb profile for a smooth draw and crisp release.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg"],badge:"Best Seller",typeLabel:"Traditional Recurve",drawWeight:"40 - 55 lbs",length:"60 Inches",material:"Maple Core & Fiberglass",drawWeightOptions:["40 lbs (Target)","45 lbs (Field)","55 lbs (Hunting)"]},{id:"highland-longbow",name:"Highland Longbow",category:"Longbows",price:520,summary:"Classic design with reinforced tips for modern strings.",description:"A classic Highland profile built for stability and a smooth release. Reinforced tips support modern strings while preserving the feel of a traditional longbow.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAH8oAVbR9BGlL1sqP3cm2RnXuvJTu6Pa0UbJhZJ4vNn5Zv26Q3v7ShU3hYdcbbzg6nqSNG43VhA8_ySrd-uJ1dqSQWbPqqrkmpr5RM2-OeAxcWIwY7QBujPwrZWU7W6rdCOrpCJstwlOD58Buxs1tJJfi3dvLC9H1Iq9j0lbDkXvkU163lp-9HW3bPn7PKtDfi6lQq1f1bw3Ni1wLzpnszdyg01jDO0TElhq16F0QGrOX-0x06EL8vmw3du0JwSjpgdvgkfu6luis",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCYHMPO1UjOoPJROVfy57B7Yw4U6o8tFKHHq7b8HYqzQBNeFqRdmBH5D6ZkfxliC74lNLrCJN3neSQykmo6AuMojjo0nAU_I3eSftA9BcaY3almwToeWbxx0UQSK86NkZRvKwD71tT7cSOlGuSvsM25gcqvfCnTQL_87cTPOI53V44jSoyJeFqNuns73xgVO-YoOF85rEbTesGWPy-MN75qbqKKQPWtuM0WOszRfJW5EszUTIVOVpjLhKRvH3-WiHdNpHRK9ym5EuM","https://lh3.googleusercontent.com/aida-public/AB6AXuCojb62glcqiRqNz7UBZzXPq31TeOzUkCyvoCypk3VWkfVNdgbght2demhljwWbWmVHN26-zU3cIshTzWOQIfuQAVBEjW7_PIm5uzLCSVrMKxzsY7XEsJnJw9M3XgRGQahLOHzDxrKPBKo1t1IMLITcKydLMaS_vQl-Q-3CIImouQzRReiszz3HLLhMbcKW6t3-NcmXwMX4SHLywCDGMKnRKiqNJX4ScGkb2CuukCrz4vdJ9JxDN1jDqOxjYNoLPwP2Z7TGVvvO5bU","https://lh3.googleusercontent.com/aida-public/AB6AXuDjx6Zl1j2oGGTzyvSb3gIKhHpZPRIK1yqvOnsp_PVJ2aTQF-6FE8uSeFjKDDqheN-RpvinUZ31Wnp6bidZHYSsP5as-CSZ_2xFt3ApdzrPy6weRTZkl3rwaXmD6L5o3H6abFdCgdx7x0oJBHtwHYYNOQ422zVNojOlW5MI_yMWKxkBkK8QvI0Jf_qJvTqhCMGx3nNsPxzA5sHg7amLEXFpRPQAYZNI1lzOGP_0ZiW-frOHoDJmfZduuMCQimx-TpNniHKo8lkoPnQ","https://lh3.googleusercontent.com/aida-public/AB6AXuDi1x-W8C5Y_OC89JqLjLDA-FHvgvwjc8PmKE9YbNq_ZbTkAhTcBhRIcTo12QAjtpchouZxeZkBnFJlXTtx8M9j7SyO-ySEkS490l0M6f3UnVcBcZ7o6GImVd080CGX3-nuxrCAFk85Hj4pQkj-WpD6Nfqof82zU02dwzbTGlsqBN9YzwbnkROsYbFkvdME4zR4xZTk6N8CQtvTilk0oYwZHY3hUgSR9WAifrBIQ7tQD42LSByTIZHWtnUy0T1lFrEp7VaA879IMnI"],typeLabel:"English Longbow",drawWeight:"45 - 60 lbs",length:"72 Inches",material:"Pacific Yew & White Ash",drawWeightOptions:["45 lbs (Target)","50 lbs (Hunting)","60 lbs (War Bow)"]},{id:"hunters-quiver",name:"Hunter's Quiver",category:"Accessories",price:120,summary:"Genuine leather back quiver with brass fittings.",description:"A handcrafted leather back quiver with brass fittings. Built to keep arrows secure while staying comfortable across long days in the field.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"24 Inches",material:"Full Grain Leather",drawWeightOptions:["Right Shoulder","Left Shoulder"]},{id:"beeswax-string",name:"Beeswax String",category:"Strings",price:25,summary:"Pre-waxed Flemish twist string for longevity.",description:"A pre-waxed Flemish twist string built for consistent performance. Ideal for traditional bows that need a quiet, reliable string.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Traditional String",drawWeight:"Compatible 40-60 lbs",length:"Custom Length",material:"B-50 Dacron",drawWeightOptions:["60 in Bow","62 in Bow","64 in Bow"]},{id:"cedar-arrows",name:"Cedar Arrows",category:"Accessories",price:85,summary:"Matched dozen Port Orford Cedar shafts.",description:"Matched Port Orford Cedar shafts with classic feather fletching. Tuned for traditional bows and smooth flight.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac","https://lh3.googleusercontent.com/aida-public/AB6AXuAH8oAVbR9BGlL1sqP3cm2RnXuvJTu6Pa0UbJhZJ4vNn5Zv26Q3v7ShU3hYdcbbzg6nqSNG43VhA8_ySrd-uJ1dqSQWbPqqrkmpr5RM2-OeAxcWIwY7QBujPwrZWU7W6rdCOrpCJstwlOD58Buxs1tJJfi3dvLC9H1Iq9j0lbDkXvkU163lp-9HW3bPn7PKtDfi6lQq1f1bw3Ni1wLzpnszdyg01jDO0TElhq16F0QGrOX-0x06EL8vmw3du0JwSjpgdvgkfu6luis"],typeLabel:"Traditional Arrows",drawWeight:"35 - 55 lbs",length:"29 Inches",material:"Port Orford Cedar",drawWeightOptions:["35-40 lbs","45-50 lbs","55 lbs"]},{id:"ranger-arm-guard",name:"Ranger Arm Guard",category:"Accessories",price:45,summary:"Protective leather bracer with lace-up back.",description:"A lace-up leather bracer that protects the forearm while keeping a traditional look. Softened leather keeps the fit comfortable.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"11 Inches",material:"Oil-Tanned Leather",drawWeightOptions:["Standard Fit","Long Fit"]},{id:"field-targets",name:"Field Targets",category:"Accessories",price:15,summary:"Regulation size paper targets for practice.",description:"Regulation size field targets for consistent practice sessions. Crisp rings and durable stock for repeated arrow pulls.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCSjbqH2nmFi2uibzK7UcHONPwhRdFCEF1JamMVSsAUAG0dEmcwYvvoApwz5nXzXPEuC-ZJthcLVLLrEzQ-EvhRXfC0GxBPB2P9L9W6g1zirc71EdX2KKu9GB3GZ5S2fa8yBFPYJICHFN5lXc1OSyBj4d4DRDNWwHbrkSoLvHGAoLrZOAUY6Pc4rEJLYV6e96GXQDRmQHLV-zY_1CTNiiJkkpU00VOyRSDeV8kmaArRVNhyzR0LwYChODm8W40tKBiwRu61b28VTxg",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCSjbqH2nmFi2uibzK7UcHONPwhRdFCEF1JamMVSsAUAG0dEmcwYvvoApwz5nXzXPEuC-ZJthcLVLLrEzQ-EvhRXfC0GxBPB2P9L9W6g1zirc71EdX2KKu9GB3GZ5S2fa8yBFPYJICHFN5lXc1OSyBj4d4DRDNWwHbrkSoLvHGAoLrZOAUY6Pc4rEJLYV6e96GXQDRmQHLV-zY_1CTNiiJkkpU00VOyRSDeV8kmaArRVNhyzR0LwYChODm8W40tKBiwRu61b28VTxg","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Target Accessory",drawWeight:"Universal",length:"20 Inches",material:"Heavyweight Paper",drawWeightOptions:["Single Pack","5 Pack","10 Pack"]},{id:"shooting-glove",name:"Shooting Glove",category:"Accessories",price:30,summary:"Soft buckskin three-finger glove.",description:"A supple three-finger glove made from buckskin to protect your draw hand without sacrificing feel.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"One Size",material:"Buckskin Leather",drawWeightOptions:["Right Hand","Left Hand"]},{id:"timber-wolf",name:"The Timber Wolf",category:"Recurve Bows",price:650,summary:'60" Recurve  Maple Core',description:"A rugged recurve built for reliability in the field. Maple core laminations and a crisp limb profile deliver power without sacrificing smoothness.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],featured:!0,typeLabel:"Traditional Recurve",drawWeight:"45 - 60 lbs",length:"60 Inches",material:"Maple Core & Fiberglass",drawWeightOptions:["45 lbs (Target)","50 lbs (Field)","60 lbs (Hunting)"]},{id:"night-stalker",name:"The Night Stalker",category:"Longbows",price:725,summary:'64" Longbow  Walnut/Carbon',description:"A sleek longbow with walnut laminations and carbon reinforcement. Built for archers who demand stability and refined performance.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD23eXzSpC2r9jU2884knX_-ESk6JMUhK0i0OKJvxT_9NrbUt64gke4bpE8m1Ouo1TRgOMlxZuI4CUzgN1YuyQTA8Go-do3OdZc_mXdyTkdVncI7NWpflXFnNrqTPqGm-bM5EFHSV7AUANz54EuxMugOhOPqzCxLrwi_NNXJK4x7lcr1ix4ULcdFUIq1qukQFUKqWmc4hCloUbkkNWwQIUx1G6foh7Do8hcaeHUEx5kfdfqG2-S1iBzMyEkRi4L5Ksy3xWk5gnYqQQ",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuD23eXzSpC2r9jU2884knX_-ESk6JMUhK0i0OKJvxT_9NrbUt64gke4bpE8m1Ouo1TRgOMlxZuI4CUzgN1YuyQTA8Go-do3OdZc_mXdyTkdVncI7NWpflXFnNrqTPqGm-bM5EFHSV7AUANz54EuxMugOhOPqzCxLrwi_NNXJK4x7lcr1ix4ULcdFUIq1qukQFUKqWmc4hCloUbkkNWwQIUx1G6foh7Do8hcaeHUEx5kfdfqG2-S1iBzMyEkRi4L5Ksy3xWk5gnYqQQ","https://lh3.googleusercontent.com/aida-public/AB6AXuCYHMPO1UjOoPJROVfy57B7Yw4U6o8tFKHHq7b8HYqzQBNeFqRdmBH5D6ZkfxliC74lNLrCJN3neSQykmo6AuMojjo0nAU_I3eSftA9BcaY3almwToeWbxx0UQSK86NkZRvKwD71tT7cSOlGuSvsM25gcqvfCnTQL_87cTPOI53V44jSoyJeFqNuns73xgVO-YoOF85rEbTesGWPy-MN75qbqKKQPWtuM0WOszRfJW5EszUTIVOVpjLhKRvH3-WiHdNpHRK9ym5EuM","https://lh3.googleusercontent.com/aida-public/AB6AXuDjx6Zl1j2oGGTzyvSb3gIKhHpZPRIK1yqvOnsp_PVJ2aTQF-6FE8uSeFjKDDqheN-RpvinUZ31Wnp6bidZHYSsP5as-CSZ_2xFt3ApdzrPy6weRTZkl3rwaXmD6L5o3H6abFdCgdx7x0oJBHtwHYYNOQ422zVNojOlW5MI_yMWKxkBkK8QvI0Jf_qJvTqhCMGx3nNsPxzA5sHg7amLEXFpRPQAYZNI1lzOGP_0ZiW-frOHoDJmfZduuMCQimx-TpNniHKo8lkoPnQ","https://lh3.googleusercontent.com/aida-public/AB6AXuDi1x-W8C5Y_OC89JqLjLDA-FHvgvwjc8PmKE9YbNq_ZbTkAhTcBhRIcTo12QAjtpchouZxeZkBnFJlXTtx8M9j7SyO-ySEkS490l0M6f3UnVcBcZ7o6GImVd080CGX3-nuxrCAFk85Hj4pQkj-WpD6Nfqof82zU02dwzbTGlsqBN9YzwbnkROsYbFkvdME4zR4xZTk6N8CQtvTilk0oYwZHY3hUgSR9WAifrBIQ7tQD42LSByTIZHWtnUy0T1lFrEp7VaA879IMnI"],featured:!0,typeLabel:"Modern Longbow",drawWeight:"45 - 60 lbs",length:"64 Inches",material:"Walnut & Carbon",drawWeightOptions:["45 lbs (Target)","50 lbs (Hunting)","60 lbs (War Bow)"]},{id:"heritage",name:"The Heritage",category:"Recurve Bows",price:895,summary:'58" Recurve  Exotic Woods',description:"A premium recurve made from exotic laminations and hand-finished details. Crafted for collectors and devoted traditionalists.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],featured:!0,typeLabel:"Collector Recurve",drawWeight:"45 - 60 lbs",length:"58 Inches",material:"Exotic Laminations",drawWeightOptions:["45 lbs (Target)","50 lbs (Field)","60 lbs (Hunting)"]},{id:"black-eagle-recurve",name:"The Black Eagle Recurve",category:"Recurve Bows",price:450,summary:"45lb Draw  Walnut Finish",description:"A signature recurve with walnut finish and a steady draw. Ideal for archers looking for an everyday bow with heritage craftsmanship.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg"],typeLabel:"Traditional Recurve",drawWeight:"45 lbs",length:"60 Inches",material:"Walnut & Maple",drawWeightOptions:["45 lbs (Standard)","50 lbs (Field)"]},{id:"leather-arm-guard",name:"Leather Arm Guard",category:"Accessories",price:35,summary:"Aged Brown  Standard Fit",description:"A classic leather arm guard with a broken-in feel. Provides reliable protection for the traditional archer.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"11 Inches",material:"Aged Leather",drawWeightOptions:["Standard Fit","Long Fit"]},{id:"bowstring-wax",name:"Bowstring Wax",category:"Accessories",price:8,summary:"Traditional bowstring wax",description:"Natural bowstring wax for keeping fibers protected and quiet. Essential for long-term string maintenance.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Maintenance",drawWeight:"Universal",length:"2 oz",material:"Natural Wax",drawWeightOptions:["Single Tin","2 Pack","5 Pack"]},{id:"spare-string",name:"Spare String",category:"Strings",price:18,summary:"Backup bowstring",description:"A spare bowstring tuned for traditional bows. Ideal for keeping a backup in your kit.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Traditional String",drawWeight:"Compatible 40-60 lbs",length:"Custom Length",material:"FastFlight",drawWeightOptions:["60 in Bow","62 in Bow","64 in Bow"]},{id:"finger-tab",name:"Finger Tab",category:"Accessories",price:12,summary:"Leather finger tab",description:"A smooth leather finger tab for clean releases. Offers traditional protection with minimal bulk.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"One Size",material:"Split Leather",drawWeightOptions:["Right Hand","Left Hand"]}];tA.filter(r=>r.featured);tA.reduce((r,e)=>(r[e.id]=e,r),{});let Ji=null,Ud=null,Bd=null,zd=null;const uu=typeof window<"u",Ls=r=>uu?gj[r]??"":"",Ei=()=>{const r=Ls("VITE_STORE_ID").trim();return r.length>0?r:null},Qh=()=>{const r=Ls("VITE_FIREBASE_API_KEY"),e=Ls("VITE_FIREBASE_AUTH_DOMAIN"),n=Ls("VITE_FIREBASE_PROJECT_ID"),a=Ls("VITE_FIREBASE_STORAGE_BUCKET"),o=Ls("VITE_FIREBASE_MESSAGING_SENDER_ID"),c=Ls("VITE_FIREBASE_APP_ID");return!r||!e||!n||!a||!o||!c?null:{apiKey:r,authDomain:e,projectId:n,storageBucket:a,messagingSenderId:o,appId:c}},vj=()=>!!Qh(),Ys=()=>{if(!uu)return null;if(Ud)return Ud;const r=Qh();return r?(Ji||(Ji=Sh(r)),Ud=YO(Ji),Ud):null},du=()=>{if(!uu)return null;if(Bd)return Bd;const r=Qh();return r?(Ji||(Ji=Sh(r)),Bd=xk(Ji),Bd):null},oy=()=>{if(!uu)return null;if(zd)return zd;const r=Qh();return r?(Ji||(Ji=Sh(r)),zd=Fk(Ji),zd):null},bj=async(r,e)=>{const n=du();n&&await o2(n,r,e)},fp=async()=>{const r=du();r&&await u2(r)},_j=async()=>{const r=Ei();if(!r)return null;const e=Ys();if(!e)return null;const n=lu(e,"stores",r),a=await $T(n);if(!a.exists())return null;const o=a.data(),c=typeof o.adminEmail=="string"?o.adminEmail.trim().toLowerCase():"";return c.length>0?c:null},xj=async(r,e)=>{const n=Ei();if(!n)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const a=oy();if(!a)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!uu)throw new Error("Checkout is only available in the browser.");const o=r.map(y=>{const g=y.imageUrl?.trim(),_=g&&g.length<=2048&&(()=>{try{const w=new URL(g);if(w.protocol==="http:"||w.protocol==="https:")return g}catch{return}})();return{name:y.name.trim(),price:y.price,quantity:y.quantity,imageUrl:_}}).filter(y=>y.name&&Number.isFinite(y.price)&&y.quantity>0);if(o.length===0)throw new Error("Cart is empty.");const c=e?.successUrl??`${window.location.origin}/cart?checkout=success`,u=e?.cancelUrl??`${window.location.origin}/cart?checkout=cancel`,m=Tg(a,"createCheckoutSessionForFrederick");try{const g=(await m({storeId:n,successUrl:c,cancelUrl:u,items:o,orderId:e?.orderId})).data,_=typeof g?.url=="string"?g.url:"";if(!_)throw new Error("Failed to start Stripe Checkout.");return _}catch(y){const g=y,_=typeof g?.message=="string"?g.message:"",w=g?.details??{},T=w&&typeof w=="object"&&"stripeMessage"in w&&typeof w.stripeMessage=="string"?w.stripeMessage:"",N=w&&typeof w=="object"&&"statusCode"in w&&typeof w.statusCode=="number"?w.statusCode:null,k=w&&typeof w=="object"&&"message"in w&&typeof w.message=="string"?w.message:"",F=[_,k,T].filter($=>$&&$.length>0),Q=F.length>0?F.join(" "):"Stripe error while creating checkout session.",ne=N?` (Stripe status ${N})`:"";throw new Error(`${Q}${ne}`)}},wj=async r=>{const e=Ei();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=oy();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");const a=Tg(n,"getShippingRatesForFrederick");try{const c=(await a({storeId:e,toAddress:r})).data,u=typeof c?.shipmentId=="string"?c.shipmentId:"",m=Array.isArray(c?.rates)?c.rates:[];if(!u||m.length===0)throw new Error("No shipping rates available for this address.");return{shipmentId:u,rates:m}}catch(o){const c=o,u=typeof c?.message=="string"?c.message:"",m=c?.details??{},y=m&&typeof m=="object"&&"message"in m&&typeof m.message=="string"?m.message:"",g=[u,y].filter(w=>w&&w.length>0),_=g.length>0?g.join(" "):"Unable to fetch shipping rates.";throw new Error(_)}},Ej=async r=>{const e=Ei();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=oy();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");const a=Tg(n,"createOrderForFrederick");try{const c=(await a({storeId:e,items:r.items,customer:r.customer,shipping:r.shipping})).data,u=typeof c?.orderId=="string"?c.orderId:"";if(!u)throw new Error("Unable to create order.");return u}catch(o){const c=o,u=typeof c?.message=="string"?c.message:"",m=c?.details??{},y=m&&typeof m=="object"&&"message"in m&&typeof m.message=="string"?m.message:"",g=[u,y].filter(w=>w&&w.length>0),_=g.length>0?g.join(" "):"Unable to create order.";throw new Error(_)}},Tj=r=>r.split(",").map(e=>e.trim()).filter(e=>e.length>0),Aj=r=>{const e=(r.images??[]).map(o=>o.trim()).filter(o=>o.length>0),n=r.image.trim(),a=e.length>0?e:n?[n]:[];return{name:r.name.trim(),category:r.category,price:r.price,summary:r.summary.trim(),description:r.description.trim(),image:n,images:a,badge:r.badge?.trim()||void 0,featured:!!r.featured,typeLabel:r.typeLabel.trim(),drawWeight:r.drawWeight.trim(),length:r.length.trim(),material:r.material.trim(),drawWeightOptions:Tj(r.drawWeightOptions),stockLevel:typeof r.stockLevel=="number"?r.stockLevel:void 0}},Sj=async r=>{const e=Ei();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=Ys();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!du()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before saving products.");const o=FT(n,"stores",e,"products"),c={...r,createdAt:Kp(),updatedAt:Kp()};return(await mj(o,c)).id},Rj=async(r,e)=>{const n=Ei();if(!n)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const a=Ys();if(!a)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!du()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before updating products.");const c=lu(a,"stores",n,"products",r);await hj(c,{...e,updatedAt:Kp()})},Nj=async r=>{const e=Ei();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=Ys();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!du()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before deleting products.");const o=lu(n,"stores",e,"products",r);await fj(o)},Cj=r=>r.docs.map(e=>{const n=e.data();return{id:e.id,name:n.name??"",category:n.category??"Accessories",price:typeof n.price=="number"?n.price:0,summary:n.summary??"",description:n.description??"",image:n.image??"",images:Array.isArray(n.images)?n.images:[],badge:typeof n.badge=="string"?n.badge:void 0,featured:!!n.featured,typeLabel:n.typeLabel??"",drawWeight:n.drawWeight??"",length:n.length??"",material:n.material??"",drawWeightOptions:Array.isArray(n.drawWeightOptions)?n.drawWeightOptions:[],stockLevel:typeof n.stockLevel=="number"?n.stockLevel:void 0}}).filter(e=>e.name.trim().length>0&&e.image.trim().length>0),Xh=()=>{const[r,e]=V.useState(null),[n,a]=V.useState(null);return V.useEffect(()=>{const o=Ei(),c=Ys();if(!o||!c)return;const u=FT(c,"stores",o,"products"),m=lj(u,cj("createdAt","desc")),y=pj(m,g=>{a(null),e(Cj(g))},g=>{e(null),a(g instanceof Error?g.message:"Failed to load products.")});return()=>y()},[]),{products:r??[],error:n,loading:r===null&&n===null&&!!Ei()&&!!Ys()}},Ij=r=>{const e=Ei(),n=Ys(),[a,o]=V.useState(null),[c,u]=V.useState(null),[m,y]=V.useState(null);V.useEffect(()=>{if(!r||!e||!n)return;const T=lu(n,"stores",e,"products",r);$T(T).then(N=>{if(!N.exists()){u(r),o(null),y(null);return}const k=N.data(),F={id:N.id,name:k.name??"",category:k.category??"Accessories",price:typeof k.price=="number"?k.price:0,summary:k.summary??"",description:k.description??"",image:k.image??"",images:Array.isArray(k.images)?k.images:[],badge:typeof k.badge=="string"?k.badge:void 0,featured:!!k.featured,typeLabel:k.typeLabel??"",drawWeight:k.drawWeight??"",length:k.length??"",material:k.material??"",drawWeightOptions:Array.isArray(k.drawWeightOptions)?k.drawWeightOptions:[],stockLevel:typeof k.stockLevel=="number"?k.stockLevel:void 0};u(r),o(F),y(null)}).catch(N=>{u(r),o(null),y({productId:r,message:N instanceof Error?N.message:"Failed to load product."})})},[n,r,e]);const g=!!(r&&e&&n&&c!==r),_=m&&m.productId===r?m.message:null;return{product:c===r?a:null,error:_,loading:g}};function kj(){const r=Wc(),{products:e}=Xh(),n=V.useMemo(()=>e.filter(o=>o.featured),[e]),a=(o,c,u)=>{o.stopPropagation(),cg({productId:c,quantity:1,option:u}),r("/cart")};return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("section",{className:"relative w-full",children:p.jsx("div",{className:"w-full min-h-[600px] flex flex-col items-center justify-center px-4 py-20 text-center bg-cover bg-center bg-no-repeat relative overflow-hidden","data-alt":"Misty forest landscape with a traditional wooden bow in foreground",style:{backgroundImage:'linear-gradient(rgba(27, 15, 35, 0.4), rgba(27, 15, 35, 0.7)), url("https://lh3.googleusercontent.com/aida-public/AB6AXuCaAK4HM643aTLQmCMZEdteScqiQcWCig6AlBvTRO5kXH2NkEj0EL8tSkDN9ZkGHCip63ay6WE8iq4_-3imNj8vghC32_UPc0WcWd9V0mcZnibsOh1QDeNCRkpY0aZJzoROIYY0gcKkljIh-TWnrCP-_sNd5VrkaVj39u2N0z_cge9yyECHBXWkS_wqrm2VudHOHrBOWnc7jg62lKVUhf297LmWheBSCjmrGjSVbVJKA5vJTyJxcL1QCeGFN-MlUBlWlUnCVk6lLn4")'},children:p.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col gap-6 items-center animate-fade-in-up",children:[p.jsx("span",{className:"text-[#e5ded0] uppercase tracking-[0.2em] text-sm font-bold",children:"Est. 1982  Oregon, USA"}),p.jsxs("h1",{className:"text-white text-5xl md:text-7xl font-black leading-tight tracking-tight drop-shadow-lg",children:["Proudly Handcrafted ",p.jsx("br",{}),p.jsx("span",{className:"italic font-medium",children:"in the USA"})]}),p.jsx("p",{className:"text-[#f7f5f8] text-lg md:text-xl font-normal max-w-xl leading-relaxed opacity-90",children:"Preserving the art of traditional archery with ethically sourced woods and centuries-old techniques."}),p.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:[p.jsxs("button",{className:"flex items-center gap-2 justify-center rounded-lg h-12 px-8 bg-primary hover:bg-[#3a0063] text-white text-base font-bold tracking-wide transition-all transform hover:scale-105 shadow-lg shadow-primary/30",onClick:()=>r("/products"),children:[p.jsx("span",{children:"Explore Our Bows"}),p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}),p.jsx("button",{className:"flex items-center justify-center rounded-lg h-12 px-8 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white border border-white/30 text-base font-bold tracking-wide transition-all",onClick:()=>r("/about"),children:"Our Story"})]})]})})}),p.jsx("section",{className:"py-16 md:py-24 px-4 bg-background-light dark:bg-background-dark",children:p.jsxs("div",{className:"max-w-[960px] mx-auto flex flex-col gap-10",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("h2",{className:"text-[#160c1d] dark:text-white text-3xl md:text-4xl font-bold leading-tight",children:"The Black Eagle Standard"}),p.jsx("div",{className:"h-1 w-20 bg-primary mx-auto rounded-full"}),p.jsx("p",{className:"text-[#160c1d]/80 dark:text-[#f7f5f8]/80 text-lg md:text-xl font-normal leading-relaxed max-w-2xl mx-auto",children:"We don't just build bows; we craft heirlooms. Every curve is intentional, every piece of wood is hand-selected, and every string is tested for perfection."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pt-8",children:[p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"forest"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Ethically Sourced"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"We partner with local foresters to find sustainable, high-character timber."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"handyman"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Hand Carved"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"No CNC machines. Just rasps, draw knives, and patience."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"verified"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Lifetime Warranty"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"We stand behind our craftsmanship for the life of the bow."})]})]})]})}),p.jsx("section",{className:"py-16 px-4 bg-[#f0eadd] dark:bg-[#150a1b]",children:p.jsxs("div",{className:"max-w-[1100px] mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-end mb-10",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-primary font-bold uppercase tracking-wider text-xs",children:"Shop Collection"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#160c1d] dark:text-white",children:"Featured Models"})]}),p.jsxs(ut,{className:"hidden md:flex items-center gap-1 text-primary font-bold hover:underline",to:"/products",children:["View All ",p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_right_alt"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:n.slice(0,3).map((o,c)=>p.jsxs("div",{className:"group flex flex-col bg-background-light dark:bg-[#25162e] rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>r(`/product-details/${o.id}`),children:[p.jsxs("div",{className:"h-64 overflow-hidden relative bg-gray-200",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center group-hover:scale-110 transition-transform duration-700","data-alt":o.name,style:{backgroundImage:`url("${o.image}")`}}),c===2?p.jsx("div",{className:"absolute top-3 left-3 bg-primary text-white text-xs font-bold px-2 py-1 rounded",children:"Best Seller"}):null]}),p.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:o.name}),p.jsx("p",{className:"text-sm text-[#160c1d]/60 dark:text-[#f7f5f8]/60 mt-1",children:o.summary}),p.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p.jsxs("span",{className:"text-lg font-bold text-primary",children:["$",o.price.toFixed(2)]}),p.jsx("button",{className:"text-[#160c1d] dark:text-white hover:text-primary dark:hover:text-primary",onClick:u=>a(u,o.id,o.drawWeightOptions[0]??"Standard"),children:p.jsx("span",{className:"material-symbols-outlined",children:"add_shopping_cart"})})]})]})]},o.id))}),p.jsx("div",{className:"flex md:hidden justify-center mt-8",children:p.jsxs(ut,{className:"flex items-center gap-1 text-primary font-bold hover:underline",to:"/products",children:["View All Models ",p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_right_alt"})]})})]})}),p.jsx("section",{className:"py-20 px-4 bg-background-light dark:bg-background-dark",children:p.jsx("div",{className:"max-w-[960px] mx-auto",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-10 items-center bg-white dark:bg-[#25162e] p-8 md:p-12 rounded-2xl shadow-lg border border-[#e5ded0] dark:border-[#3a2046]",children:[p.jsx("div",{className:"w-full md:w-1/3 flex justify-center",children:p.jsx("div",{className:"w-48 h-48 md:w-56 md:h-56 rounded-full bg-cover bg-center border-4 border-primary/20 shadow-inner","data-alt":"Portrait of an older craftsman in an apron working on a wooden bow",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAFRTLd5n06aplfouL_9DImyiXM4c0HErsVa6BZGtZI3kcNYf-9kFDwG8Gt4qWSZJciFToYAf9s1K3gHTRfaL6acOg4HibtR4sdzdIlvkFL0myIC6NboPaAoj7cnDamHbw6YY6H1jT92uYRms5MqHYCzOeFpyln9-fk0ADzgrBG9cZZ8ezfb85RtCcxO3dcyJ_OB32cUe8BvbNCIVvQMwP1ktqc6bR8fdCfkhGrsriBxLcvBqjf0C96_YL056I0G0CPDW0XvLM6B2U")'}})}),p.jsxs("div",{className:"w-full md:w-2/3 flex flex-col gap-4 text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[p.jsx("span",{className:"material-symbols-outlined text-primary",children:"history_edu"}),p.jsx("span",{className:"text-sm font-bold uppercase tracking-wider text-[#160c1d]/50 dark:text-white/50",children:"Master Bowyer"})]}),p.jsx("h2",{className:"text-3xl font-bold text-[#160c1d] dark:text-white",children:"Meet Freddie G."}),p.jsx("p",{className:"text-lg text-primary italic font-medium",children:'"The wood speaks to you. You just have to be quiet enough to listen."'}),p.jsx("p",{className:"text-[#160c1d]/80 dark:text-[#f7f5f8]/80 leading-relaxed",children:'With over 40 years of experience in bending wood to his will, Freddie brings a heritage of craftsmanship to every piece he touches. Starting in a small garage in Oregon, his dedication to the "old ways" has made Black Eagle bows sought after by traditional archers worldwide.'}),p.jsx("div",{className:"pt-4",children:p.jsx(ut,{className:"inline-flex items-center text-[#160c1d] dark:text-white font-bold hover:text-primary transition-colors border-b-2 border-primary/30 hover:border-primary pb-0.5",to:"/about",children:"Read Freddie's Full Story"})})]})]})})}),p.jsxs("section",{className:"py-16 px-4 bg-primary text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/wood-pattern.png')]"}),p.jsxs("div",{className:"max-w-2xl mx-auto text-center relative z-10 flex flex-col gap-6",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Join the Tribe"}),p.jsx("p",{className:"text-white/80 text-lg",children:"Sign up for our newsletter to receive updates on new builds, archery tips, and exclusive heritage stories."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto w-full",children:[p.jsx("input",{className:"flex-1 h-12 rounded-lg px-4 bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Enter your email",type:"email"}),p.jsx("button",{className:"h-12 px-6 rounded-lg bg-white text-primary font-bold hover:bg-[#f7f5f8] transition-colors",children:"Subscribe"})]})]})]})]})}const Dj=["All Products","Recurve Bows","Longbows","Strings","Accessories"];function Oj(){const r=Wc(),{products:e}=Xh(),[n,a]=V.useState("All Products"),[o,c]=V.useState(1),u=4,m=V.useMemo(()=>n==="All Products"?e:e.filter(k=>k.category===n),[n,e]),y=Math.max(1,Math.ceil(m.length/u)),g=Math.min(o,y),_=m.slice((g-1)*u,g*u),w=k=>{a(k),c(1)},T=(k,F)=>{k.stopPropagation(),r(`/product-details/${F}`)},N=k=>{r(`/product-details/${k}`)};return p.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#160c1d] dark:text-[#f3f0f5]",children:p.jsx("div",{className:"relative flex h-auto w-full flex-col overflow-x-hidden",children:p.jsx("main",{className:"w-full flex justify-center",children:p.jsxs("div",{className:"layout-content-container flex flex-col w-full max-w-[1280px] px-4 md:px-10 py-8 md:py-12",children:[p.jsx("div",{className:"flex flex-wrap justify-between gap-6 mb-8 items-end",children:p.jsxs("div",{className:"flex flex-col gap-3 max-w-2xl",children:[p.jsx("p",{className:"text-[#160c1d] dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"Handcrafted for the Traditional Archer"}),p.jsx("p",{className:"text-[#7a45a1] dark:text-[#bcaaa4] text-lg font-normal leading-normal max-w-lg",children:"Discover our collection of premium traditional bows, custom strings, and leather accessories."})]})}),p.jsx("div",{className:"mb-10 overflow-x-auto",children:p.jsx("div",{className:"flex border-b border-[#decdea] dark:border-[#3a2a45] min-w-max",children:Dj.map(k=>{const F=n===k;return p.jsx("button",{className:`group flex flex-col items-center justify-center border-b-[3px] px-6 pb-3 pt-4 cursor-pointer transition-colors ${F?"border-b-primary":"border-b-transparent hover:border-b-primary/30"}`,onClick:()=>w(k),type:"button",children:p.jsx("p",{className:`text-base leading-normal tracking-[0.015em] transition-colors ${F?"text-[#160c1d] dark:text-white font-bold":"text-[#7a45a1] dark:text-[#a594b5] group-hover:text-primary dark:group-hover:text-[#d1c4e9] font-medium"}`,children:k})},k)})})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:_.map(k=>p.jsxs("div",{className:"group flex flex-col bg-wood-light dark:bg-wood-dark border border-[#e8dfed] dark:border-[#3a2a45] rounded-xl overflow-hidden shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>N(k.id),children:[p.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-[#e0e0e0]",children:[p.jsx("img",{alt:k.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500","data-alt":k.name,src:k.image}),k.badge?p.jsx("div",{className:"absolute top-3 right-3",children:p.jsx("span",{className:"bg-primary/90 text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm",children:k.badge})}):null]}),p.jsxs("div",{className:"p-5 flex flex-col flex-1 gap-2",children:[p.jsx("div",{className:"flex justify-between items-start",children:p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white leading-tight",children:k.name})}),p.jsx("p",{className:"text-sm text-[#7a45a1] dark:text-[#bcaaa4] line-clamp-2 mb-2",children:k.summary}),p.jsxs("div",{className:"mt-auto flex flex-col gap-3",children:[p.jsxs("p",{className:"text-xl font-bold text-[#160c1d] dark:text-[#e0d6e8]",children:["$",k.price.toFixed(2)]}),p.jsxs("button",{className:"w-full py-2.5 px-4 bg-primary/10 hover:bg-primary text-primary hover:text-white dark:text-[#d1c4e9] dark:hover:text-white rounded-lg font-bold text-sm transition-colors duration-200 border border-primary/20 hover:border-primary flex items-center justify-center gap-2",onClick:F=>T(F,k.id),children:[p.jsx("span",{children:"View Details"}),p.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_forward"})]})]})]})]},k.id))}),p.jsxs("div",{className:"flex items-center justify-center p-8 mt-6",children:[p.jsx("button",{className:"flex size-10 items-center justify-center rounded-full hover:bg-[#e0e0e0] dark:hover:bg-[#3a2a45] transition-colors",onClick:()=>c(k=>Math.max(1,k-1)),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[#160c1d] dark:text-white text-lg",children:"chevron_left"})}),Array.from({length:y},(k,F)=>F+1).map(k=>{const F=k===g;return p.jsx("button",{className:`text-sm leading-normal flex size-10 items-center justify-center rounded-full mx-1 shadow-md transition-colors ${F?"font-bold text-white bg-primary":"font-normal text-[#160c1d] dark:text-white hover:bg-[#eee6f4] dark:hover:bg-[#3a2a45]"}`,onClick:()=>c(k),type:"button",children:k},k)}),p.jsx("button",{className:"flex size-10 items-center justify-center rounded-full hover:bg-[#e0e0e0] dark:hover:bg-[#3a2a45] transition-colors",onClick:()=>c(k=>Math.min(y,k+1)),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[#160c1d] dark:text-white text-lg",children:"chevron_right"})})]})]})})})})}function jj(){const r={"--color-background-light":"#fdfbf7"};return p.jsxs("div",{className:"font-display bg-background-light dark:bg-background-dark text-text-brown dark:text-[#e0d0c0] min-h-screen flex flex-col antialiased",style:r,children:[p.jsx("main",{className:"flex-grow flex flex-col items-center w-full",children:p.jsxs("div",{className:"w-full max-w-[1200px] px-4 md:px-8 lg:px-12 py-8 flex flex-col gap-12",children:[p.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center py-6",children:[p.jsxs("div",{className:"w-full lg:w-1/2 aspect-[4/3] rounded-md overflow-hidden shadow-md relative group",children:[p.jsx("div",{className:"absolute inset-0 bg-primary/10 group-hover:bg-transparent transition-colors duration-500"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center sepia-[0.2]","data-alt":"Freddie G the master bowyer working intently at his woodworking bench with hand tools",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDopBOLp_e_HgjnJeRorfksjtmjyPoZbJTE3w0leUcaF-U-1I8h5LYbLPvTDKMFjfQ6-wjtceWCyJJFO5d7DZHZZyi2HigUP-kz82YgDj_Y5PpDuAjylhg6sg_Aojvb8h93GsB5QwH3SUN4pOapAsapCIZzg4qpoSxbRi1uxL7vZtZi5Iq1aEbQOBPNmENK-incpJg4L-1QfyGOpHjNHaRjrIFrrKiwxrJvdSoBFvKopQg003qANHnLxCfFiq2uAIT3YHuxPput_1c")'}})]}),p.jsxs("div",{className:"flex flex-col gap-6 lg:w-1/2 lg:pl-12 justify-center",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("span",{className:"text-primary font-bold tracking-wider uppercase text-sm",children:"Est. 1984"}),p.jsxs("h1",{className:"text-text-brown dark:text-white text-5xl md:text-6xl font-black leading-[1.1] tracking-[-0.02em]",children:["The Master ",p.jsx("br",{}),p.jsx("span",{className:"text-primary italic",children:"Bowyer"})]}),p.jsx("div",{className:"h-1 w-24 bg-primary/30 rounded-full my-2"}),p.jsxs("h2",{className:"text-text-brown-light dark:text-gray-300 text-xl font-medium leading-relaxed italic",children:["Preserving Old World Tradition in a Modern Age. ",p.jsx("br",{}),"Meet Freddie G., the artisan breathing life into ancient wood."]})]}),p.jsx("div",{className:"flex gap-4 pt-4",children:p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-6 bg-primary text-white text-base font-bold shadow-md hover:bg-[#3d006a] transition-all",to:"/products",children:"View Freddie's Collection"})})]})]}),p.jsx("div",{className:"arrow-separator",children:p.jsx("span",{className:"material-symbols-outlined arrow-icon",children:"flight"})}),p.jsxs("div",{className:"max-w-[800px] mx-auto text-center px-4 py-8",children:[p.jsx("span",{className:"material-symbols-outlined text-primary/40 text-4xl mb-2",children:"format_quote"}),p.jsx("p",{className:"text-text-brown dark:text-white text-2xl md:text-3xl font-medium leading-normal italic",children:`"The wood speaks to you if you listen. A bow isn't simply made; it's revealed from within the tree, layer by patient layer."`}),p.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-lg text-primary",children:" Freddie G."}),p.jsx("span",{className:"text-sm text-text-brown-light dark:text-gray-400",children:"Master Artisan"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-12 py-10",children:[p.jsxs("div",{className:"md:col-span-7 flex flex-col gap-6 text-lg leading-relaxed text-text-brown-light dark:text-gray-300",children:[p.jsx("p",{className:"drop-cap",children:"Born into a family of carpenters, Freddies journey began not with bows, but with the simple appreciation of grain and knot. It wasn't until a trip to the historic archery ranges of England that he felt the pull of the Yew wood. He realized that the ancient art of the bowyer was fading, replaced by fiberglass and carbon molds."}),p.jsx("p",{children:"Determined to keep the flame alive, Freddie returned to his workshop in the Pacific Northwest, surrounding himself with staves of Osage Orange and Pacific Yew. He eschewed modern machinery, opting instead for the honest feedback of hand toolsdrawknives, rasps, and cabinet scrapers."}),p.jsx("p",{children:'"There is no rushing a self-bow," Freddie often says. "You must wait for the wood to season, wait for it to bend, and wait for it to tell you when it is ready." This patience is what imbues every Heritage Bow with its unique character and potent snap.'})]}),p.jsx("div",{className:"md:col-span-5 flex flex-col justify-center gap-6",children:p.jsxs("div",{className:"bg-white dark:bg-white/5 border border-[#eaddcf] dark:border-white/10 p-8 rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-2xl font-bold text-text-brown dark:text-white mb-6 border-b border-[#eaddcf] dark:border-white/10 pb-4",children:"The Workshop Standards"}),p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"forest"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Hand-Selected Staves"}),p.jsx("p",{className:"text-sm mt-1",children:"Sourced from sustainably harvested Osage Orange and high-altitude Yew timber."})]})]}),p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"handyman"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Traditional Tools Only"}),p.jsx("p",{className:"text-sm mt-1",children:"Shaped with drawknives and rasps. No CNC machines touch our wood."})]})]}),p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Natural Finishes"}),p.jsx("p",{className:"text-sm mt-1",children:"Sealed with proprietary blends of oils and beeswax, never synthetic lacquers."})]})]})]})]})})]}),p.jsx("div",{className:"arrow-separator",children:p.jsx("span",{className:"material-symbols-outlined arrow-icon",children:"flight"})}),p.jsxs("div",{className:"flex flex-col gap-8 py-8 w-full",children:[p.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[p.jsx("h3",{className:"text-3xl font-bold text-text-brown dark:text-white",children:"A Legacy Carved in Wood"}),p.jsx("p",{className:"text-text-brown-light dark:text-gray-400 max-w-2xl",children:"From the rough log to the polished weapon, witness the transformation."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Roughing out a wooden bow stave with a drawknife in the workshop",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBs9bgw8XEjBY4qKCea8vsakbzAv-erAcxS99Jvo7kBDiyHRB35Wpwv9HIavg1k1iCqsLIt4T1nxXo0r-cKsxmaFFdMbjzO_IzGLlV7Ii_26YOyq_8KIA1Mn-U8RNWmLmETJnNAQaEbtH26NZfqyop-UIvXT8UKtQdH_t64InoU2kIrF2qIzPT0KeitFg0Zg6IssQBQxX08SWg26qLuzHfuus4vvG_8CT45htfRmZpBGiEmtVMk6UV2tVmx_vA_1CLP1kYQeWp_Hcc")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 01"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Rough Out"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Removing bulk wood to find the bow within."})]})]}),p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Checking the bend of a wooden bow on a tillering tree against a wall",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBKUHOWH5j2zmDhH11Bygkg8WBB172ZppMixCTcdEf30jsV91cNzqUPN6_CCnvONakLSEOjJtCqfiaQeIyX1UYb0DgYdeYw3v8GKA-hbOl8wli2v2jUsY3yG56iauGXasCqFpicYuu2of7oeEmT6LxVTT8r-A2T6X8sGytoda05WcVUVz_kX0hUEI5jZ2-46wg-c8CAGnI9IQEi3RNBdbz6wsjbZw7PgkPAG3gSaRTycmU0JoZ7VNGHF1EduVjhqBwhXTbvuE5FlKE")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 02"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Tillering"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Teaching the wood to bend without breaking."})]})]}),p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Close up of hand applying oil finish to the smooth wood of a longbow",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC0QM6agPXZfWHIlh1sS644gKaHQc2_jQ_r6xwih3vPTP1QMa-TJYNUBQV5zgDmU0hqlmiV1M7MFq8Ci2mQzRv4g9oaRADALBWyPGz_6g9yMQ2Owz7YgluMBpaRWhQLOVF2Zk0VGnP4hdLoDgK6lrWn657SsKObX7CcBZiGOFL6U2c0VuLC1BPnE5Ax6_RFz5zeUVnEbdOjA2ea0igFgVAf8ZvVgMJebAk2QizYtj_n6hf4Qr9JkNGLs-WsDxMajSZQ4caIveMprz4")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 03"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Finishing"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Sealing the grain for a lifetime of use."})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-6 text-center",children:[p.jsx("div",{className:"font-display text-4xl text-text-brown dark:text-white italic opacity-80",style:{fontFamily:"'Newsreader', serif"},children:"Freddie G."}),p.jsx("h3",{className:"text-2xl font-bold text-text-brown dark:text-white",children:"Own a Piece of History"}),p.jsx("p",{className:"text-text-brown-light dark:text-gray-400 max-w-md",children:"Every bow is a unique commission. Explore current stock or contact us for a custom build."}),p.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-8 bg-primary text-white text-base font-bold shadow-md hover:bg-[#3d006a] transition-all",to:"/products",children:"Shop Available Bows"}),p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-8 border-2 border-[#3E2723] dark:border-white/20 text-[#3E2723] dark:text-white text-base font-bold hover:bg-[#3E2723] hover:text-white dark:hover:bg-white dark:hover:text-black transition-all",to:"/contact",children:"Contact Workshop"})]})]})]})}),p.jsx("footer",{className:"w-full border-t border-[#3E2723]/10 dark:border-white/10 bg-[#f8f5f0] dark:bg-background-dark py-12",children:p.jsxs("div",{className:"layout-container flex flex-col items-center justify-center gap-6",children:[p.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[p.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"forest"}),p.jsx("span",{className:"text-lg font-bold text-text-brown dark:text-white",children:"Heritage Bows"})]}),p.jsxs("div",{className:"flex gap-8 text-sm font-medium text-text-brown-light dark:text-gray-400",children:[p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Shipping & Returns"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Bow Care"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Terms of Service"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Privacy Policy"})]}),p.jsx("p",{className:"text-xs text-text-brown-light/60 dark:text-gray-600",children:" 2023 Heritage Bows. All rights reserved."})]})})]})}function Mj(){const[r,e]=V.useState({name:"",email:"",model:"",service:"General Inquiry",message:""}),[n,a]=V.useState(""),o=c=>{if(c.preventDefault(),!r.name||!r.email||!r.message){a("Please complete your name, email, and message before sending.");return}a("Message sent. We will reply within 24 hours."),e({name:"",email:"",model:"",service:"General Inquiry",message:""})};return p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-[#160c1d] dark:text-white overflow-x-hidden antialiased flex flex-col min-h-screen",children:p.jsx("main",{className:"flex-grow flex justify-center w-full px-4 sm:px-6 py-8 md:py-12",children:p.jsxs("div",{className:"w-full max-w-[1080px] flex flex-col gap-10",children:[p.jsxs("div",{className:"flex flex-col gap-4 text-center max-w-3xl mx-auto",children:[p.jsxs("h1",{className:"text-[#160c1d] dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.02em]",children:["Craftsmanship Requires ",p.jsx("span",{className:"text-primary italic",children:"Conversation"})]}),p.jsx("p",{className:"text-[#7a45a1] dark:text-[#a88cc9] text-lg md:text-xl font-medium leading-relaxed max-w-2xl mx-auto",children:"Whether you need a custom Flemish twist bowstring or a repair on your heirloom bow, reach out to the Black Eagle workshop."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mt-4",children:[p.jsx("div",{className:"lg:col-span-7 bg-white dark:bg-[#251530] p-6 md:p-8 rounded-xl rustic-border",children:p.jsxs("form",{className:"flex flex-col gap-6",onSubmit:o,children:[n?p.jsx("div",{className:"rounded-lg border border-primary/20 bg-primary/10 px-4 py-3 text-sm text-primary font-semibold",children:n}):null,p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Your Name"}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,name:c.target.value})),placeholder:"Enter your full name",type:"text",value:r.name})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Email Address"}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,email:c.target.value})),placeholder:"name@example.com",type:"email",value:r.email})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsxs("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:["Bow Model ",p.jsx("span",{className:"font-normal text-sm opacity-60",children:"(Optional)"})]}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,model:c.target.value})),placeholder:"e.g., 1965 Bear Kodiak",type:"text",value:r.model})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Service Required"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 pr-10 focus:ring-0 focus:outline-none transition-shadow appearance-none font-sans cursor-pointer",onChange:c=>e(u=>({...u,service:c.target.value})),value:r.service,children:[p.jsx("option",{children:"General Inquiry"}),p.jsx("option",{children:"Custom Bow Commission"}),p.jsx("option",{children:"Structural Repair"}),p.jsx("option",{children:"Custom String Request"}),p.jsx("option",{children:"Tuning Assistance"})]}),p.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-primary pointer-events-none",children:"expand_more"})]})]})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"How can we help?"}),p.jsx("textarea",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white min-h-[160px] p-4 focus:ring-0 focus:outline-none transition-shadow resize-y font-sans",onChange:c=>e(u=>({...u,message:c.target.value})),placeholder:"Describe the issue or your custom request details...",value:r.message})]}),p.jsx("div",{className:"pt-2",children:p.jsxs("button",{className:"group relative w-full md:w-auto md:min-w-[200px] flex items-center justify-center gap-2 bg-primary hover:bg-[#3d006b] text-white font-bold py-3.5 px-8 rounded-lg transition-all active:scale-[0.98] shadow-md hover:shadow-lg",type:"submit",children:[p.jsx("span",{children:"Send Message"}),p.jsx("span",{className:"material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform",children:"send"})]})})]})}),p.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-8",children:[p.jsxs("div",{className:"relative w-full h-64 rounded-xl overflow-hidden shadow-sm border border-[#eee6f4] dark:border-[#3a2a45]",children:[p.jsx("img",{alt:"Close up of wooden traditional bow riser and limbs with intricate craftsmanship",className:"absolute inset-0 w-full h-full object-cover","data-alt":"Close up of wooden traditional bow riser and limbs with intricate craftsmanship",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent flex items-end p-6",children:p.jsx("p",{className:"text-white font-bold text-lg",children:"Traditional Archery Since 1982"})})]}),p.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-6 md:p-8 rounded-xl border border-primary/10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"handyman"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Our Workshop Services"})]}),p.jsxs("ul",{className:"space-y-4",children:[p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Custom Bow Commission"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Tailored draw weights and exotic woods."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Structural Repairs"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Limb delamination and riser fixes."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Flemish Twist Strings"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Hand-spun FastFlight or B-50 Dacron."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Tuning & Maintenance"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Nocking points, silencers, and brace height."})]})]})]})]}),p.jsxs("div",{className:"p-6 rounded-xl border border-dashed border-[#d1c4dd] dark:border-[#4a355e] flex flex-col gap-3 items-start",children:[p.jsx("h4",{className:"text-lg font-bold text-[#160c1d] dark:text-white",children:"Prefer email?"}),p.jsx("p",{className:"text-[#160c1d] dark:text-gray-300",children:"Skip the form and write to us directly. We usually respond within 24 hours."}),p.jsxs("a",{className:"inline-flex items-center gap-2 text-primary font-bold hover:underline mt-1",href:"mailto:workshop@blackeaglearchery.com",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"mail"}),"workshop@blackeaglearchery.com"]})]})]})]})]})})})}function Pj({variant:r="page",onClose:e,initialProduct:n}){const a=r==="modal",o=!!n,[c,u]=V.useState(""),[m,y]=V.useState(""),[g,_]=V.useState(""),[w,T]=V.useState(""),[N,k]=V.useState(""),[F,Q]=V.useState(""),[ne,$]=V.useState(""),[le,Ne]=V.useState(""),[Ae,Te]=V.useState(""),[E,R]=V.useState(""),[C,j]=V.useState(""),[D,U]=V.useState(!1),[I,te]=V.useState(""),[pe,q]=V.useState([]),[se,de]=V.useState([]),[Ie,Ve]=V.useState(!1),[P,J]=V.useState(!1),[he,ue]=V.useState(null),Ee=V.useRef(null),Oe={"--color-primary":"#7311d4","--color-primary-dark":"#5e0eb0","--color-background-light":"#FDFCF5","--color-background-dark":"#191022","--color-border-dark":"#2c2a27","--color-paper-shadow":"rgba(44, 42, 39, 0.1)","--font-display":"Newsreader, serif"},Fe=a?"w-full":"bg-background-light dark:bg-background-dark font-display antialiased min-h-screen flex flex-col",vt=a?"w-full":"flex-grow flex items-center justify-center p-6 md:p-10",mt=a?"w-full bg-white dark:bg-[#1f1a24] rounded-2xl shadow-2xl overflow-hidden flex flex-col":"w-full max-w-6xl bg-white dark:bg-[#1f1a24] rounded-xl shadow-2xl border-[3px] border-[#2c2a27] dark:border-[#4a453e] overflow-hidden flex flex-col",De=!!e;V.useEffect(()=>{n&&(u(n.name),y(n.category),_(n.price.toString()),T(n.summary),k(n.description),Q(n.typeLabel),$(n.drawWeight),Ne(n.length),Te(n.material),R(n.drawWeightOptions.join(", ")),j(n.badge??""),U(!!n.featured),te(typeof n.stockLevel=="number"?n.stockLevel.toString():""),q([]),de([n.image,...n.images].filter(ye=>ye.length>0)))},[n]);const Gt=V.useMemo(()=>pe.slice(0,4).map(ye=>URL.createObjectURL(ye)),[pe]),Ue=Gt.length>0?Gt:se.slice(0,4);V.useEffect(()=>()=>{Gt.forEach(ye=>URL.revokeObjectURL(ye))},[Gt]);const gn=()=>{e&&e()},yn=ye=>{if(!ye)return;const Mt=Array.from(ye).filter(wn=>wn.type.startsWith("image/"));if(Mt.length===0){ue("Please select at least one image file.");return}ue(null),q(Mt.slice(0,4)),de([])},Pr=ye=>{ye.preventDefault(),Ve(!1),yn(ye.dataTransfer.files)},xn=()=>{Ee.current?.click()},Ai=ye=>new Promise((Mt,wn)=>{const hn=URL.createObjectURL(ye),dt=new Image;dt.onload=()=>{URL.revokeObjectURL(hn),Mt(dt)},dt.onerror=()=>{URL.revokeObjectURL(hn),wn(new Error("Failed to read image file."))},dt.src=hn}),Si=async ye=>{const Mt=await Ai(ye),wn=1200,hn=Math.min(1,wn/Mt.width,wn/Mt.height),dt=Math.max(1,Math.round(Mt.width*hn)),fn=Math.max(1,Math.round(Mt.height*hn)),Un=document.createElement("canvas");Un.width=dt,Un.height=fn;const Bn=Un.getContext("2d");if(!Bn)throw new Error("Failed to process image file.");Bn.drawImage(Mt,0,0,dt,fn);const Bt=1048487,zn=[.9,.8,.7,.6,.5];for(const Ri of zn){const Ni=Un.toDataURL("image/jpeg",Ri);if(Ni.length<=Bt)return Ni}throw new Error("Image is too large. Please choose a smaller image or fewer images.")},jt=async ye=>{if(ye.preventDefault(),P)return;if(ue(null),!c.trim()){ue("Product Title is required.");return}if(!m){ue("Please select a Category.");return}const Mt=Number(g);if(!Number.isFinite(Mt)||Mt<=0){ue("Unit Price must be a number greater than 0.");return}if(!w.trim()){ue("Summary is required.");return}if(!N.trim()){ue("Craftsmanship Details are required.");return}if(pe.length===0&&se.length===0){ue("At least one product image is required.");return}if(!F.trim()||!ne.trim()||!le.trim()||!Ae.trim()){ue("Type Label, Draw Weight, Length, and Material are required.");return}if(!E.trim()){ue("Draw Weight Options are required (comma-separated).");return}let wn;if(I.trim().length>0&&(wn=Number(I),!Number.isFinite(wn)||wn<0)){ue("Stock Level must be a number 0 or greater.");return}J(!0);try{const hn=pe.length>0?await Promise.all(pe.map(Bt=>Si(Bt))):[],dt=hn.length>0?hn:se,[fn,...Un]=dt.filter(Bt=>Bt.length>0);if(!fn)throw new Error("Failed to process image files.");const Bn=Aj({name:c,category:m,price:Mt,summary:w,description:N,badge:C,featured:D,typeLabel:F,drawWeight:ne,length:le,material:Ae,drawWeightOptions:E,image:fn,images:Un,stockLevel:wn});o&&n?await Rj(n.id,Bn):await Sj(Bn),e&&e()}catch(hn){ue(hn instanceof Error?hn.message:"Failed to save product.")}finally{J(!1)}};return p.jsx("div",{className:Fe,style:Oe,children:p.jsx("main",{className:vt,children:p.jsxs("div",{className:mt,children:[p.jsx("div",{className:"px-8 py-6 border-b border-[#ede7f3] dark:border-white/10 bg-[#faf8fc] dark:bg-[#251f2b]",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#140d1b] dark:text-white text-3xl font-bold tracking-tight",children:o?"Edit Product":"Add New Product"}),p.jsx("p",{className:"text-[#734c9a] dark:text-[#a08cc0] text-base mt-1 italic",children:o?"Update the details for this handcrafted item.":"Enter the details for the handcrafted bow below."})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"hidden sm:flex size-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add_circle"})}),a&&e?p.jsx("button",{className:"flex items-center justify-center size-10 rounded-full border border-[#ede7f3] dark:border-white/10 text-[#734c9a] dark:text-[#a08cc0] hover:text-primary hover:border-primary/40 hover:bg-primary/10 transition-colors",onClick:e,type:"button",children:p.jsx("span",{className:"material-symbols-outlined",children:"close"})}):null]})]})}),p.jsxs("form",{className:"p-8 flex flex-col h-full",onSubmit:jt,children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[p.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Product Title"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",placeholder:"e.g. The Highland Recurve",onChange:ye=>u(ye.target.value),value:c,type:"text"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Category"})}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary/70 pointer-events-none group-focus-within:text-primary transition-colors",children:p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"category"})}),p.jsxs("select",{className:"w-full h-14 pl-12 pr-10 appearance-none rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#f9f7f4] dark:bg-[#251f2b] text-[#140d1b] dark:text-white focus:bg-white dark:focus:bg-[#2e2535] focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary shadow-tactile focus:shadow-none transition-all font-normal text-lg cursor-pointer",onChange:ye=>y(ye.target.value),value:m,children:[p.jsx("option",{disabled:!0,value:"",children:"Select Category"}),yj.map(ye=>p.jsx("option",{value:ye,children:ye},ye))]}),p.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#734c9a] pointer-events-none",children:p.jsx("span",{className:"material-symbols-outlined",children:"expand_more"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Unit Price"})}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 flex items-center justify-center bg-[#ede7f3] dark:bg-[#352b3e] rounded-l-lg border-y border-l border-[#d1c4e0] dark:border-[#4a3b55] group-focus-within:border-primary group-focus-within:bg-primary/10 transition-colors",children:p.jsx("span",{className:"text-[#734c9a] font-bold text-lg",children:"$"})}),p.jsx("input",{className:"w-full h-14 pl-16 pr-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#f9f7f4] dark:bg-[#251f2b] text-[#140d1b] dark:text-white focus:bg-white dark:focus:bg-[#2e2535] placeholder:text-[#734c9a]/40 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary shadow-tactile focus:shadow-none transition-all font-normal text-lg",min:"0",placeholder:"0.00",onChange:ye=>_(ye.target.value),step:"0.01",type:"number",value:g})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Summary"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>T(ye.target.value),placeholder:"Short description shown on product cards",type:"text",value:w})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("label",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Craftsmanship Details"}),p.jsxs("div",{className:"group/tooltip relative flex items-center justify-center",children:[p.jsx("span",{className:"material-symbols-outlined text-[#734c9a] text-[18px] cursor-help opacity-70 hover:opacity-100 transition-opacity",children:"help"}),p.jsxs("div",{className:"absolute left-1/2 bottom-full mb-2 -translate-x-1/2 w-64 p-3 bg-[#191022] text-white text-sm rounded shadow-lg opacity-0 invisible group-hover/tooltip:opacity-100 group-hover/tooltip:visible transition-all z-10 pointer-events-none",children:[p.jsx("p",{className:"italic leading-relaxed",children:"Include wood type (e.g., Yew, Osage), draw weight range, and historical inspiration for this piece."}),p.jsx("div",{className:"absolute left-1/2 top-full -translate-x-1/2 -mt-1 border-4 border-transparent border-t-[#191022]"})]})]})]}),p.jsx("textarea",{className:"w-full min-h-[200px] p-5 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg resize-y leading-relaxed",onChange:ye=>k(ye.target.value),placeholder:"Describe the materials, draw weight, and historical inspiration...",value:N}),p.jsx("p",{className:"text-sm text-[#734c9a]/80 mt-2 text-right italic",children:"Suggested length: 150-300 words for optimal storytelling."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Type Label"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>Q(ye.target.value),placeholder:'e.g. "Traditional Recurve"',type:"text",value:F})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Stock Level"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",min:"0",onChange:ye=>te(ye.target.value),placeholder:"0",type:"number",value:I})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Draw Weight"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>$(ye.target.value),placeholder:"e.g. 40 - 55 lbs",type:"text",value:ne})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Length"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>Ne(ye.target.value),placeholder:"e.g. 60 Inches",type:"text",value:le})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Material"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>Te(ye.target.value),placeholder:"e.g. Maple Core & Fiberglass",type:"text",value:Ae})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Draw Weight Options"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>R(ye.target.value),placeholder:"e.g. 40 lbs (Target), 45 lbs (Field), 55 lbs (Hunting)",type:"text",value:E})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Badge"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:ye=>j(ye.target.value),placeholder:"Optional",type:"text",value:C})]}),p.jsxs("div",{className:"flex flex-col justify-end gap-2",children:[p.jsxs("label",{className:"flex items-center gap-3 text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:[p.jsx("input",{checked:D,className:"h-5 w-5 accent-primary",onChange:ye=>U(ye.target.checked),type:"checkbox"}),"Featured Model"]}),p.jsx("span",{className:"text-sm text-[#734c9a] dark:text-[#a08cc0]",children:"Show in the landing page Featured Models."})]})]})]}),p.jsxs("div",{className:"lg:col-span-1 flex flex-col h-full",children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Product Photography"})}),p.jsxs("div",{className:"flex-grow flex flex-col gap-4 rounded-xl border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#faf8fc] dark:bg-[#251f2b] p-4 shadow-sm",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("input",{accept:"image/*",className:"hidden",multiple:!0,onChange:ye=>yn(ye.target.files),ref:Ee,type:"file"}),p.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 rounded-xl border-2 border-dashed px-4 py-6 text-center transition-colors cursor-pointer ${Ie?"border-primary bg-primary/10 text-primary":"border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#1f1a24] text-[#734c9a] dark:text-[#a08cc0]"}`,onClick:xn,onDragLeave:()=>Ve(!1),onDragOver:ye=>{ye.preventDefault(),Ve(!0)},onDrop:Pr,role:"button",tabIndex:0,children:[p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"photo_library"}),p.jsx("div",{className:"text-sm font-semibold",children:"Drag & drop or click to select"}),p.jsx("div",{className:"text-xs opacity-80",children:"Up to 4 images (PNG, JPG, WEBP)"})]}),pe.length>0?p.jsxs("div",{className:"flex items-center justify-between text-xs text-[#734c9a] dark:text-[#a08cc0]",children:[p.jsxs("span",{children:[pe.length," image",pe.length===1?"":"s"," selected"]}),p.jsx("button",{className:"text-[#734c9a] dark:text-[#a08cc0] hover:text-primary transition-colors",onClick:()=>{q([]),de([])},type:"button",children:"Clear"})]}):se.length>0?p.jsxs("div",{className:"flex items-center justify-between text-xs text-[#734c9a] dark:text-[#a08cc0]",children:[p.jsxs("span",{children:[se.length," image",se.length===1?"":"s"," saved"]}),p.jsx("button",{className:"text-[#734c9a] dark:text-[#a08cc0] hover:text-primary transition-colors",onClick:()=>de([]),type:"button",children:"Clear"})]}):null]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-[#734c9a] dark:text-[#a08cc0] pl-1",children:"Previews"}),Ue.length>0?p.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ue.map(ye=>p.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-[#ede7f3] dark:border-[#4a3b55] bg-white dark:bg-[#1f1a24]",children:p.jsx("img",{alt:"Product preview",className:"w-full h-full object-cover",src:ye})},ye))}):p.jsx("div",{className:"text-sm text-[#734c9a] dark:text-[#a08cc0]",children:"Add images to see previews."})]})]})]})]}),he?p.jsx("div",{className:"mt-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:he}):null,p.jsxs("div",{className:"mt-10 pt-6 border-t border-[#ede7f3] dark:border-white/10 flex flex-col-reverse sm:flex-row items-center justify-end gap-4",children:[p.jsx("button",{className:`w-full sm:w-auto px-6 py-3 rounded-lg border-2 border-[#dbcfe7] dark:border-[#4a3b55] text-[#140d1b] dark:text-white font-bold transition-all ${De?"hover:bg-[#ede7f3] dark:hover:bg-[#352b3e] hover:border-[#bfb3cc]":"opacity-60 cursor-not-allowed"}`,disabled:!De||P,onClick:gn,type:"button",children:"Discard Changes"}),p.jsxs("button",{className:`w-full sm:w-auto px-8 py-3 rounded-lg bg-primary text-white font-bold shadow-md focus:ring-4 focus:ring-primary/30 transition-all flex items-center justify-center gap-2 ${P?"opacity-80 cursor-not-allowed":"hover:bg-primary-dark hover:shadow-lg hover:-translate-y-0.5"}`,disabled:P,type:"submit",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),P?"Saving...":o?"Update Product":"Save Product"]})]})]})]})})})}const Qp="black-eagle-admin-auth",nA=typeof window<"u",Vj=()=>nA?window.sessionStorage.getItem(Qp)==="1":!1,Ps=r=>{if(nA){if(r){window.sessionStorage.setItem(Qp,"1");return}window.sessionStorage.removeItem(Qp)}};function Lj(){const[r,e]=V.useState(!1),n=Wc(),[a,o]=V.useState(()=>Vj()),[c,u]=V.useState(""),[m,y]=V.useState(""),[g,_]=V.useState(null),[w,T]=V.useState(!1),{products:N}=Xh(),[k,F]=V.useState(""),[Q,ne]=V.useState("All Products"),[$,le]=V.useState(1),[Ne,Ae]=V.useState(null),[Te,E]=V.useState(null),[R,C]=V.useState(!1),[j,D]=V.useState(!1),[U,I]=V.useState(null),te=10,pe={"--color-primary":"#840bda","--color-background-light":"#FAF9F6","--color-background-dark":"#1b1022","--color-rustic-dark":"#1e1b18","--color-chocolate":"#4E342E","--color-slate-custom":"#475569","--color-parchment":"#fdfbf7","--font-display":"Inter, sans-serif"};V.useEffect(()=>{a||Ps(!1)},[a]);const q=()=>{Ps(!1),o(!1),e(!1),Ae(null),u(""),y(""),_(null),fp(),n("/")},se=()=>{Ae(null),e(!0)},de=De=>{Ae(De),e(!0)},Ie=()=>{e(!1),Ae(null)},Ve=De=>{E(De),I(null),C(!0)},P=()=>{j||(C(!1),E(null),I(null))},J=async()=>{if(!(!Te||j)){D(!0),I(null);try{await Nj(Te.id),C(!1),E(null)}catch(De){I(De instanceof Error?De.message:"Failed to delete product.")}finally{D(!1)}}},he=async De=>{De.preventDefault(),_(null);const Gt=c.trim().toLowerCase();if(!vj()){Ps(!1),o(!1),_("Firebase is not configured. Check VITE_FIREBASE_* env vars.");return}try{T(!0),await bj(Gt,m);const Ue=await _j();if(!Ue){await fp(),Ps(!1),o(!1),_("Admin email is missing for this store.");return}if(Gt!==Ue){await fp(),Ps(!1),o(!1),_("Invalid admin credentials.");return}}catch(Ue){Ps(!1),o(!1),_(Ue instanceof Error?Ue.message:"Firebase sign-in failed.");return}finally{T(!1)}Ps(!0),o(!0),u(""),y("")},ue=V.useMemo(()=>{const De=k.trim().toLowerCase(),Gt=Q==="All Products"?N:N.filter(Ue=>Ue.category===Q);return De?Gt.filter(Ue=>`${Ue.name} ${Ue.id} ${Ue.category}`.toLowerCase().includes(De)):Gt},[Q,N,k]),Ee=Math.max(1,Math.ceil(ue.length/te)),Oe=Math.min(Math.max(1,$),Ee),Fe=(Oe-1)*te,vt=Math.min(Fe+te,ue.length),mt=ue.slice(Fe,vt);return a?p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased overflow-hidden",style:pe,children:p.jsxs("div",{className:"flex h-screen w-full",children:[p.jsxs("aside",{className:"w-64 flex-shrink-0 flex flex-col justify-between bg-rustic-dark border-r border-stone-800/50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"h-20 flex items-center px-6 border-b border-white/10",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded bg-primary flex items-center justify-center text-white",children:p.jsx("span",{className:"material-symbols-outlined",children:"api"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-white text-base font-bold leading-tight tracking-wide",children:"Heritage Bows"}),p.jsx("p",{className:"text-stone-400 text-xs font-normal",children:"Admin Panel"})]})]})}),p.jsx("nav",{className:"flex flex-col gap-1 p-4",children:p.jsxs("a",{className:"flex items-center gap-3 px-3 py-3 rounded-lg bg-primary/20 text-white border border-primary/30 shadow-sm relative overflow-hidden group",href:"#",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-primary rounded-r"}),p.jsx("span",{className:"material-symbols-outlined text-primary fill-current",children:"inventory_2"}),p.jsx("span",{className:"text-sm font-medium",children:"Inventory"})]})})]}),p.jsx("div",{className:"p-4 border-t border-white/10",children:p.jsxs("a",{className:"flex items-center gap-3 px-3 py-3 rounded-lg text-stone-300 hover:bg-white/5 hover:text-white transition-colors",href:"#",children:[p.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full w-8 h-8 border border-stone-600","data-alt":"Admin user profile picture",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC085wp4yXiKK0HqJEirxFHDturdw66BxPlWcRDyolaQ-dLs6WwBUcj45tZlS4q4U9Syd5luYybaIaL-7piPm3YWecgyVn0gc9HXuJkXCrRYmwQersNoqvCWtwxsg-GwqPh903N55FPL_ZiMEgFWHZ3DmqgqJ2o7ZlkjPCpls2uyZ4X4vHq4y8bI-ag752sRcPnGagNJtoVsekZk9HF4dd9oHFad-6Ly2J_33B-KS3BrU40Jg2tCeHT4F8Tl5OO0jhyB9Yg09lTZb0")'}}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:"Eleanor Woods"}),p.jsx("p",{className:"text-xs text-stone-500 truncate",children:"Store Manager"})]}),p.jsx("span",{className:"material-symbols-outlined text-stone-500 text-[20px]",children:"settings"})]})})]}),p.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[p.jsxs("header",{className:"flex-shrink-0 px-8 py-8 flex flex-wrap justify-between items-end gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-slate-900 dark:text-white text-3xl font-bold tracking-tight",children:"Product Management"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm max-w-xl",children:"Manage your handcrafted inventory, track stock levels, and organize product listings."})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:()=>n("/"),children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Back to Website"})]}),p.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:q,type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Log out"})]}),p.jsxs("button",{className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg shadow-lg shadow-primary/20 transition-all active:scale-95",onClick:se,children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),p.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Add New Product"})]})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-8 pb-8",children:p.jsxs("div",{className:"w-full max-w-[1400px] flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800 p-2 rounded-xl shadow-sm border border-stone-200 dark:border-slate-700",children:[p.jsxs("div",{className:"relative w-full md:w-96 group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("span",{className:"material-symbols-outlined text-stone-400 group-focus-within:text-primary",children:"search"})}),p.jsx("input",{className:"block w-full pl-10 pr-3 py-2.5 border-none bg-stone-50 dark:bg-slate-900 rounded-lg text-sm text-slate-900 dark:text-white placeholder-stone-400 focus:ring-2 focus:ring-primary/50 transition-shadow",onChange:De=>{F(De.target.value),le(1)},placeholder:"Search by name, ID, or category...",type:"text",value:k})]}),p.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 px-2 no-scrollbar",children:["All Products","Recurve Bows","Longbows","Strings","Accessories"].map(De=>{const Gt=De===Q;return p.jsx("button",{className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs shadow-sm transition-colors ${Gt?"bg-slate-800 text-white font-semibold":"bg-stone-100 dark:bg-slate-700 text-stone-600 dark:text-slate-300 hover:bg-stone-200 dark:hover:bg-slate-600 font-medium"}`,onClick:()=>{ne(De),le(1)},type:"button",children:De},De)})})]}),p.jsxs("div",{className:"bg-parchment dark:bg-slate-800 rounded-xl shadow-md border border-stone-200 dark:border-slate-700 overflow-hidden relative",children:[p.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-stone-300 via-stone-100 to-stone-300 dark:from-slate-600 dark:via-slate-700 dark:to-slate-600 opacity-50"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-stone-100/50 dark:bg-slate-900/50 border-b border-stone-200 dark:border-slate-600 text-xs uppercase tracking-wider text-stone-500 dark:text-slate-400 font-semibold",children:[p.jsx("th",{className:"px-6 py-4 w-20",children:"Image"}),p.jsx("th",{className:"px-6 py-4",children:"Product Name"}),p.jsx("th",{className:"px-6 py-4",children:"Category"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Price"}),p.jsx("th",{className:"px-6 py-4",children:"Stock Level"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-stone-200 dark:divide-slate-700",children:mt.length>0?mt.map(De=>{const Gt=De.category==="Strings"?"bg-slate-100 text-slate-800 border-slate-200":De.category==="Accessories"?"bg-stone-100 text-stone-700 border-stone-200":"bg-amber-100 text-amber-800 border-amber-200",Ue=typeof De.stockLevel=="number"?De.stockLevel:null,gn=Ue===null?0:Math.min(100,Math.round(Ue/50*100)),yn=Ue===null?"bg-stone-300":Ue<=5?"bg-red-500":Ue<=15?"bg-orange-400":"bg-green-600",Pr=Ue===null?"text-stone-500 dark:text-slate-300":Ue<=5?"text-red-600":Ue<=15?"text-orange-600":"text-stone-600 dark:text-slate-300";return p.jsxs("tr",{className:"hover:bg-white dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"h-12 w-12 rounded-lg bg-stone-200 dark:bg-slate-600 bg-cover bg-center shadow-sm","data-alt":De.name,style:{backgroundImage:`url('${De.image}')`}})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:De.name}),p.jsxs("span",{className:"text-xs text-stone-500 dark:text-slate-400",children:["ID: ",De.id]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Gt}`,children:De.category})}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:["$",De.price.toFixed(2)]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-16 h-1.5 bg-stone-200 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full ${yn}`,style:{width:`${gn}%`}})}),p.jsx("span",{className:`text-xs font-medium ${Pr}`,children:Ue===null?"":`${Ue} Units`})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-80 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{className:"flex items-center justify-center h-8 px-3 rounded bg-chocolate hover:bg-[#3E2723] text-white text-xs font-medium transition-colors shadow-sm",onClick:()=>de(De),type:"button",children:"Edit"}),p.jsx("button",{className:"flex items-center justify-center h-8 px-3 rounded bg-slate-custom hover:bg-slate-600 text-white text-xs font-medium transition-colors shadow-sm",onClick:()=>Ve(De),type:"button",children:"Delete"})]})})]},De.id)}):p.jsx("tr",{children:p.jsx("td",{className:"px-6 py-10 text-center text-sm text-stone-500 dark:text-slate-400",colSpan:6,children:"No products found."})})})]})}),p.jsxs("div",{className:"px-6 py-4 border-t border-stone-200 dark:border-slate-700 flex items-center justify-between bg-stone-50/50 dark:bg-slate-900/50",children:[p.jsxs("p",{className:"text-xs text-stone-500 dark:text-slate-400",children:["Showing"," ",p.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[ue.length===0?0:Fe+1,"-",vt]})," ","of ",p.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:ue.length})," ","products"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{className:"px-3 py-1 text-xs font-medium text-stone-600 bg-white border border-stone-300 rounded hover:bg-stone-50 disabled:opacity-50 shadow-sm",disabled:Oe<=1,onClick:()=>le(De=>Math.max(1,De-1)),type:"button",children:"Previous"}),p.jsx("button",{className:"px-3 py-1 text-xs font-medium text-stone-600 bg-white border border-stone-300 rounded hover:bg-stone-50 disabled:opacity-50 shadow-sm",disabled:Oe>=Ee,onClick:()=>le(De=>Math.min(Ee,De+1)),type:"button",children:"Next"})]})]})]})]})}),r?p.jsx("div",{className:"absolute inset-0 z-50 flex items-start justify-center bg-black/60 backdrop-blur-sm p-6 overflow-y-auto",onClick:Ie,children:p.jsx("div",{className:"w-full max-w-6xl",onClick:De=>{De.stopPropagation()},children:p.jsx(Pj,{initialProduct:Ne,onClose:Ie,variant:"modal"})})}):null,R&&Te?p.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-6",onClick:P,children:p.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 shadow-2xl p-6",onClick:De=>{De.stopPropagation()},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"size-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined",children:"delete"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Delete Product"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This action cannot be undone."})]})]}),p.jsxs("div",{className:"rounded-lg border border-stone-200 dark:border-slate-700 bg-stone-50 dark:bg-slate-800 p-3 text-sm text-slate-700 dark:text-slate-200",children:["Are you sure you want to delete ",p.jsx("span",{className:"font-semibold",children:Te.name}),"?"]}),U?p.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:U}):null,p.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[p.jsx("button",{className:"px-4 py-2 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 hover:bg-stone-50 dark:hover:bg-slate-800 transition-colors",disabled:j,onClick:P,type:"button",children:"Cancel"}),p.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-70",disabled:j,onClick:J,type:"button",children:j?"Deleting...":"Delete"})]})]})}):null]})]})}):p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased",style:pe,children:p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 rounded-2xl shadow-xl p-8",children:[p.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Admin Login"}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Sign in to access the admin panel."})]}),p.jsxs("form",{className:"flex flex-col gap-4",onSubmit:he,children:[p.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Email",p.jsx("input",{className:"w-full rounded-lg border border-stone-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/50 outline-none",autoComplete:"username",inputMode:"email",onChange:De=>u(De.target.value),placeholder:"Enter admin email",required:!0,type:"email",value:c})]}),p.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Password",p.jsx("input",{className:"w-full rounded-lg border border-stone-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/50 outline-none",autoComplete:"current-password",onChange:De=>y(De.target.value),placeholder:"Enter admin password",required:!0,type:"password",value:m})]}),g?p.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:g}):null,p.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg shadow-lg shadow-primary/20 transition-all active:scale-[0.99] disabled:opacity-60 disabled:cursor-not-allowed",disabled:w,type:"submit",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"}),p.jsx("span",{className:"text-sm font-bold tracking-wide",children:w?"Loading Store Access...":"Sign In"})]}),p.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-700 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:()=>n("/"),type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Back to Website"})]})]})]})})})}function Uj(){const{productId:r}=mR(),{product:e,loading:n}=Ij(r);return n&&!e?p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",children:p.jsx("div",{className:"layout-container flex justify-center w-full py-24",children:p.jsx("div",{className:"layout-content-container w-full max-w-[1280px] px-4 md:px-10",children:p.jsx("div",{className:"text-[#734c9a] text-lg font-medium",children:"Loading product"})})})}):e?p.jsx(Bj,{product:e},e.id):p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",children:p.jsx("div",{className:"layout-container flex justify-center w-full py-24",children:p.jsxs("div",{className:"layout-content-container w-full max-w-[1280px] px-4 md:px-10",children:[p.jsx("div",{className:"text-[#734c9a] text-lg font-medium",children:"Product not found."}),p.jsx(ut,{className:"mt-4 inline-flex text-[#734c9a] text-sm font-medium hover:underline",to:"/products",children:"Back to products"})]})})})}function Bj({product:r}){const e=Wc(),n=r.images.length>0?r.images:[r.image],[a,o]=V.useState(0),[c,u]=V.useState(1),[m,y]=V.useState(()=>r.drawWeightOptions[0]??"Standard"),g={"--color-primary":"#7311d4","--color-background-light":"#f7f6f8","--color-background-dark":"#191022","--color-parchment":"#fdfbf7","--color-chocolate":"#4a3b32","--color-rope":"#d4c5b0","--font-display":"Newsreader, serif","--font-serif":"Newsreader, serif"};return p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",style:g,children:p.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden",children:[p.jsx("div",{className:"layout-container flex justify-center w-full bg-[#faf8fc]",children:p.jsx("div",{className:"layout-content-container flex flex-col w-full max-w-[1280px] px-4 md:px-10",children:p.jsxs("div",{className:"flex flex-wrap gap-2 py-4 items-center",children:[p.jsx(ut,{className:"text-[#734c9a] text-sm font-medium leading-normal hover:underline",to:"/",children:"Home"}),p.jsx("span",{className:"text-[#734c9a] text-sm font-medium leading-normal",children:"/"}),p.jsx(ut,{className:"text-[#734c9a] text-sm font-medium leading-normal hover:underline",to:"/products",children:"Handcrafted Bows"}),p.jsx("span",{className:"text-[#734c9a] text-sm font-medium leading-normal",children:"/"}),p.jsx("span",{className:"text-[#140d1b] text-sm font-medium leading-normal",children:r.name})]})})}),p.jsx("div",{className:"layout-container flex grow justify-center w-full py-6 md:py-10 bg-[#faf8fc]",children:p.jsxs("div",{className:"layout-content-container flex flex-col lg:flex-row gap-10 w-full max-w-[1280px] px-4 md:px-10",children:[p.jsxs("div",{className:"flex flex-col w-full lg:w-3/5 gap-4",children:[p.jsx("div",{className:"w-full aspect-[4/3] rounded-xl overflow-hidden shadow-sm border border-[#ede7f3]",children:p.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover transform hover:scale-105 transition-transform duration-700","data-alt":r.name,style:{backgroundImage:`url("${n[a]??r.image}")`}})}),p.jsx("div",{className:"grid grid-cols-4 gap-3",children:n.slice(0,4).map((_,w)=>{const T=w===a;return p.jsx("button",{className:`aspect-square rounded-lg overflow-hidden cursor-pointer transition-opacity ${T?"border-2 border-primary":"opacity-70 hover:opacity-100"}`,onClick:()=>o(w),type:"button",children:p.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover","data-alt":r.name,style:{backgroundImage:`url("${_}")`}})},`${_}-${w}`)})})]}),p.jsx("div",{className:"flex flex-col w-full lg:w-2/5",children:p.jsxs("div",{className:"bg-parchment p-8 rounded-lg border border-[#e3dac9] shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none mix-blend-multiply",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuDseb7quKIzgjsa8wlBUS6SS83kOIu-jjrBXK5e_B4XaqkZW194-bIuwXeCgPZPLWWkbfr7D-eYzgZYDP_9Hz0Xyh2T-fqXTMJ0MZoUgA08GpsC6QfaamhWoALcgONj8_9DYJYgWytlvCmAIrH_z3PcHdY87T4ZcvpDwuNgonO3LYY5ZxKX4hIKp50csklQejyGnJFW8rr-22I50hinT4aoDH0kkG7-5tZh5vKABdPYiElHyT2sXe9vOal2yQosfcRs1Pwwc3G-_40')"}}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-bold tracking-widest uppercase text-chocolate/60",children:r.typeLabel}),p.jsxs("div",{className:"flex gap-1 text-yellow-600",children:[p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star_half"})]})]}),p.jsx("h1",{className:"text-[#140d1b] tracking-tight text-4xl font-bold leading-tight mb-4 font-serif text-chocolate",children:r.name}),p.jsxs("p",{className:"text-3xl font-medium text-chocolate mb-6",children:["$",r.price.toFixed(2)]}),p.jsx("div",{className:"rope-divider w-full mb-6"}),p.jsx("p",{className:"text-[#4a3b32] text-lg leading-relaxed mb-8 font-normal",children:r.description}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9]",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Draw Weight"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.drawWeight})]}),p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9]",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Length"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.length})]}),p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9] col-span-2",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Material"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.material})]})]}),p.jsxs("div",{className:"flex flex-col gap-4 mt-auto",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"w-1/3",children:[p.jsx("label",{className:"block text-xs font-bold text-chocolate/60 uppercase mb-2",children:"Quantity"}),p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("button",{className:"absolute left-0 w-8 h-full text-chocolate hover:bg-black/5 rounded-l",onClick:()=>u(_=>Math.max(1,_-1)),type:"button",children:"-"}),p.jsx("input",{className:"w-full text-center border-[#e3dac9] bg-[#f5f1e8] text-chocolate focus:ring-primary focus:border-primary rounded py-2",readOnly:!0,type:"text",value:c}),p.jsx("button",{className:"absolute right-0 w-8 h-full text-chocolate hover:bg-black/5 rounded-r",onClick:()=>u(_=>_+1),type:"button",children:"+"})]})]}),p.jsxs("div",{className:"w-2/3",children:[p.jsx("label",{className:"block text-xs font-bold text-chocolate/60 uppercase mb-2",children:"Draw Weight Option"}),p.jsx("select",{className:"w-full border-[#e3dac9] bg-[#f5f1e8] text-chocolate focus:ring-primary focus:border-primary rounded py-2",onChange:_=>y(_.target.value),value:m,children:r.drawWeightOptions.map(_=>p.jsx("option",{children:_},_))})]})]}),p.jsxs("button",{className:"mt-4 flex w-full cursor-pointer items-center justify-center rounded-lg h-14 bg-primary hover:bg-[#600eb3] text-white gap-3 text-lg font-bold leading-normal tracking-wide shadow-md transition-all transform hover:-translate-y-0.5",onClick:()=>{cg({productId:r.id,quantity:c,option:m,note:r.summary}),e("/cart")},type:"button",children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),"Add to Quiver"]}),p.jsx("p",{className:"text-xs text-center text-chocolate/50 mt-2 italic",children:"Crafted to order. Expect 3-4 weeks for delivery."})]})]})]})})]})}),p.jsx("div",{className:"layout-container flex justify-center w-full py-16 bg-[#faf8fc]",children:p.jsx("div",{className:"layout-content-container max-w-[960px] px-4 md:px-10",children:p.jsxs("div",{className:"relative border-t border-b border-[#e3dac9] py-12",children:[p.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#faf8fc] px-4",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-rope",children:"history_edu"})}),p.jsx("h3",{className:"text-3xl font-bold text-center text-chocolate mb-10 font-serif",children:"Craftsman's Notes"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 text-[#4a3b32] text-lg leading-relaxed font-serif",children:[p.jsx("div",{className:"drop-cap",children:"The design of this longbow is steeped in the martial traditions of the 14th century. While modern materials have their place, there is a soul in Yew wood that fiberglass cannot replicate. We source our timber from high-altitude groves where the slow growth creates tight, dense grain ringsessential for the snap and power of a true self-bow."}),p.jsxs("div",{children:[p.jsx("p",{className:"mb-4",children:"Every bow is worked by hand, following the natural grain of the stave rather than forcing a shape upon it. This ensures that the weapon is not only beautiful but durable. The horn nocks are hand-carved from water buffalo horn, polished to a glass-like finish to protect the string loops from abrasion."}),p.jsx("p",{className:"italic text-primary/80",children:'"A bow is life in tension."  Master Bowyer, Elden Thorne'})]})]})]})})})]})})}const zj=1.35,Fj=r=>Math.round(r*100),rA=r=>{const e=r.replace(/[^0-9.]+/g,"");return e?Number(e):NaN},Hj=r=>{const e=rA(r);if(!Number.isFinite(e)||e<0)return 0;const n=Fj(e);return Math.round(n*zj)/100},mc=r=>{const e=r.baseAmount??r.amount,n=Hj(e),a=rA(r.amount);return Number.isFinite(a)&&a>0&&a>n?a:n};function qj(){const r=Aw(),{products:e}=Xh(),n=V.useMemo(()=>new Map(e.map(te=>[te.id,te])),[e]),a=V.useMemo(()=>r.map(te=>{const pe=n.get(te.productId),q=pe?.name??"Unavailable item",se=pe?.image??"",de=pe?.price??0,Ie=te.option??"",Ve=te.note??"",P=Ie||Ve||pe?.summary||"";return{key:`${te.productId}-${te.option??""}`,item:te,product:pe,title:q,image:se,price:de,detail:P,total:de*te.quantity}}),[r,n]),o=V.useMemo(()=>{const te=new Set(r.map(pe=>pe.productId));return e.filter(pe=>!te.has(pe.id)).slice(0,3)},[r,e]),c=V.useMemo(()=>a.reduce((te,pe)=>te+pe.total,0),[a]),[u,m]=V.useState({name:"",company:"",street1:"",street2:"",city:"",state:"",zip:"",country:"US",phone:"",email:""}),[y,g]=V.useState(""),[_,w]=V.useState([]),[T,N]=V.useState(""),[k,F]=V.useState(!1),[Q,ne]=V.useState(null),$=V.useMemo(()=>_.find(te=>te.rateId===T)??null,[T,_]),le=$?mc($):0,Ne=c+(Number.isFinite(le)?le:0),[Ae,Te]=V.useState(!1),[E,R]=V.useState(null),C={"--color-primary":"#7311d4","--color-background-light":"#f7f6f8","--color-background-dark":"#191022","--color-sand":"#F5F1E8","--color-parchment":"#FAF7F0","--color-text-dark":"#140d1b","--color-text-light":"#e0dce8","--font-display":"Newsreader, serif","--font-serif":"Newsreader, serif"},j=te=>pe=>{const q=pe.target.value;m(se=>({...se,[te]:q})),w([]),N(""),g(""),ne(null)},D=V.useMemo(()=>["name","street1","city","state","zip","country","phone","email"].every(pe=>String(u[pe]??"").trim().length>0),[u]),U=async()=>{if(!k){if(ne(null),!D){ne("Please complete the shipping address to get rates.");return}F(!0);try{const te=await wj(u),pe=[...te.rates].sort((se,de)=>mc(se)-mc(de));g(te.shipmentId),w(pe);const q=pe[0]?.rateId??"";N(q)}catch(te){ne(te instanceof Error?te.message:"Unable to fetch shipping rates."),w([]),N(""),g("")}finally{F(!1)}}},I=async()=>{if(!Ae){if(R(null),a.length===0){R("Your quiver is empty.");return}if(!D){R("Please provide a shipping address.");return}if(!T){R("Please select a shipping option.");return}Te(!0);try{const te=a.filter(se=>!!se.product).map(se=>({productId:se.item.productId,name:se.title,price:se.price,quantity:se.item.quantity,imageUrl:se.image,option:se.item.option,note:se.item.note})),pe=await Ej({items:te,customer:u,shipping:{selectedRateId:T,shipmentId:y||void 0}}),q=await xj(te,{successUrl:`${window.location.origin}/cart?checkout=success`,cancelUrl:`${window.location.origin}/cart?checkout=cancel`,orderId:pe});window.location.assign(q)}catch(te){R(te instanceof Error?te.message:"Unable to start checkout."),Te(!1)}}};return p.jsx("div",{className:"cart-page bg-background-light dark:bg-background-dark font-display text-text-dark dark:text-text-light antialiased transition-colors duration-300",style:C,children:p.jsx("div",{className:"relative flex min-h-screen flex-col",children:p.jsx("main",{className:"flex-1 px-4 py-8 md:px-8 lg:px-12 xl:px-40",children:p.jsxs("div",{className:"mx-auto w-full max-w-7xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-black italic tracking-tight text-text-dark dark:text-white sm:text-5xl",children:"Your Quiver"}),p.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"Review your handcrafted selections."})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-12 lg:grid-cols-12",children:[p.jsxs("div",{className:"flex flex-col gap-8 lg:col-span-8",children:[p.jsxs("div",{className:"hidden border-b border-gray-200 pb-2 text-sm font-medium uppercase tracking-wide text-gray-500 dark:border-gray-700 dark:text-gray-400 sm:flex",children:[p.jsx("span",{className:"flex-1",children:"Product"}),p.jsx("span",{className:"w-32 text-center",children:"Quantity"}),p.jsx("span",{className:"w-24 text-right",children:"Total"})]}),a.length===0?p.jsxs("div",{className:"rounded-2xl border border-dashed border-[#d8cde4] bg-white p-10 text-center text-lg text-gray-500 dark:border-[#3a2a45] dark:bg-[#251b30] dark:text-gray-300",children:[p.jsx("p",{children:"Your quiver is empty."}),p.jsx(ut,{className:"mt-4 inline-flex text-primary font-bold hover:underline",to:"/products",children:"Browse products"})]}):a.map((te,pe)=>p.jsxs("div",{children:[p.jsxs("div",{className:"group relative flex flex-col gap-6 rounded-2xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md dark:bg-[#251b30] sm:flex-row sm:items-center",children:[p.jsx("div",{className:"relative aspect-square size-24 shrink-0 overflow-hidden rounded-xl bg-[#f5f5f5] dark:bg-[#322840]",children:te.image?p.jsx("img",{alt:te.title,className:"h-full w-full object-cover mix-blend-multiply dark:mix-blend-normal","data-alt":te.title,src:te.image}):p.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-gray-400",children:"No image"})}),p.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[p.jsxs("div",{className:"flex items-start justify-between sm:block",children:[p.jsx("h3",{className:"text-xl font-bold text-text-dark dark:text-white",children:te.title}),p.jsxs("p",{className:"block text-lg font-bold text-primary sm:hidden",children:["$",te.price.toFixed(2)]})]}),te.detail?p.jsx("p",{className:"text-sm italic text-gray-500 dark:text-gray-400",children:te.detail}):null,p.jsxs("button",{className:"mt-2 flex w-fit items-center gap-1 text-xs font-medium text-gray-400 transition-colors hover:text-red-500 hover:underline",onClick:()=>EN(te.item.productId,te.item.option),type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"delete"}),"Return to Shelf"]})]}),p.jsxs("div",{className:"flex items-center justify-between sm:gap-6",children:[p.jsxs("div",{className:"flex items-center rounded-full bg-[#f7f6f8] p-1 dark:bg-[#191022] dark:border dark:border-gray-700",children:[p.jsx("button",{className:"flex size-8 items-center justify-center rounded-full text-gray-500 hover:bg-white hover:text-primary hover:shadow-sm dark:hover:bg-gray-800 dark:hover:text-primary transition-all active:scale-95",onClick:()=>f_(te.item.productId,te.item.option,te.item.quantity-1),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),p.jsx("span",{className:"w-8 text-center text-base font-medium text-text-dark dark:text-white",children:te.item.quantity}),p.jsx("button",{className:"flex size-8 items-center justify-center rounded-full text-gray-500 hover:bg-white hover:text-primary hover:shadow-sm dark:hover:bg-gray-800 dark:hover:text-primary transition-all active:scale-95",onClick:()=>f_(te.item.productId,te.item.option,te.item.quantity+1),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),p.jsxs("p",{className:"hidden text-right text-lg font-bold text-text-dark dark:text-white sm:block w-24",children:["$",te.total.toFixed(2)]})]})]}),pe<a.length-1?p.jsx("div",{className:"bowstring-divider w-full"}):null]},te.key)),o.length>0?p.jsxs("div",{className:"mt-12 rounded-xl border border-[#ede7f3] bg-[#fdfbf7] p-8 dark:border-gray-700 dark:bg-[#1f1629]",children:[p.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_fix"}),p.jsx("h3",{className:"text-xl font-bold text-text-dark dark:text-white",children:"Essentials for your Quiver"})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:o.map(te=>p.jsxs("div",{className:"group flex flex-col rounded-lg bg-white p-3 shadow-sm transition-all hover:shadow-md dark:bg-[#2d2438]",children:[p.jsxs("div",{className:"relative mb-3 aspect-[4/3] w-full overflow-hidden rounded-md bg-gray-100",children:[p.jsx("img",{className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110","data-alt":te.name,src:te.image}),p.jsx("button",{className:"absolute bottom-2 right-2 flex size-8 items-center justify-center rounded-full bg-white text-primary shadow-sm hover:bg-primary hover:text-white dark:bg-[#191022]",onClick:()=>cg({productId:te.id,quantity:1,option:te.drawWeightOptions[0]??"Standard",note:te.summary}),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),p.jsx("h4",{className:"text-sm font-bold text-text-dark dark:text-white",children:te.name}),p.jsxs("p",{className:"text-xs text-primary",children:["$",te.price.toFixed(2)]})]},te.id))})]}):null]}),p.jsx("div",{className:"lg:col-span-4",children:p.jsxs("div",{className:"sticky top-28 rounded-xl bg-parchment p-6 shadow-sm ring-1 ring-black/5 dark:bg-[#251b30] dark:ring-white/10 dark:shadow-2xl",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[p.jsx("h2",{className:"text-xl font-bold text-text-dark dark:text-white",children:"Shipping Details"}),p.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"local_shipping"})]}),p.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("name"),placeholder:"Full name",type:"text",value:u.name}),p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("company"),placeholder:"Company (optional)",type:"text",value:u.company??""})]}),p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("street1"),placeholder:"Street address",type:"text",value:u.street1}),p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("street2"),placeholder:"Apartment, suite, etc. (optional)",type:"text",value:u.street2??""}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("city"),placeholder:"City",type:"text",value:u.city}),p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("state"),placeholder:"State",type:"text",value:u.state})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("zip"),placeholder:"ZIP code",type:"text",value:u.zip}),p.jsx("select",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("country"),value:u.country,children:p.jsx("option",{value:"US",children:"United States"})})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("phone"),placeholder:"Phone number",type:"tel",value:u.phone}),p.jsx("input",{className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-text-dark focus:border-primary focus:outline-none dark:border-gray-600 dark:bg-[#1f1629] dark:text-white",onChange:j("email"),placeholder:"Email address",type:"email",value:u.email})]}),p.jsx("button",{className:"mt-2 w-full rounded-lg border border-primary bg-white py-2 text-sm font-semibold text-primary transition-colors hover:bg-primary hover:text-white disabled:cursor-not-allowed disabled:opacity-60 dark:bg-transparent",disabled:!D||k,onClick:U,type:"button",children:k?"Fetching rates...":"Get Shipping Rates"}),Q?p.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:Q}):null,_.length>0?p.jsx("div",{className:"flex flex-col gap-2",children:_.map(te=>p.jsxs("label",{className:`flex cursor-pointer items-center justify-between gap-3 rounded-lg border px-3 py-2 text-sm transition-colors ${te.rateId===T?"border-primary bg-white text-text-dark dark:bg-[#1f1629] dark:text-white":"border-gray-200 bg-transparent text-gray-600 dark:border-gray-600 dark:text-gray-300"}`,children:[p.jsxs("span",{className:"flex flex-col",children:[p.jsxs("span",{className:"font-semibold",children:[te.provider,"  ",te.serviceName]}),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:te.estimatedDays!==null?`${te.estimatedDays} days`:te.durationTerms||"Estimated delivery"})]}),p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"font-semibold",children:["$",mc(te).toFixed(2)," ",te.currency]}),p.jsx("input",{checked:te.rateId===T,className:"h-4 w-4 accent-primary",onChange:()=>N(te.rateId),type:"radio"})]})]},te.rateId))}):null]})]}),p.jsxs("div",{className:"mb-6 flex items-center justify-between border-b border-gray-300 pb-4 dark:border-gray-600",children:[p.jsx("h2",{className:"text-2xl font-bold text-text-dark dark:text-white",children:"Order Summary"}),p.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"receipt_long"})]}),p.jsxs("div",{className:"mb-6 flex flex-col gap-4 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Subtotal"}),p.jsxs("span",{className:"font-bold text-text-dark dark:text-white",children:["$",c.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Shipping Estimate"}),p.jsx("span",{className:"font-semibold text-text-dark dark:text-white",children:$?`$${mc($).toFixed(2)}`:"Select shipping"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Tax"}),p.jsx("span",{className:"font-bold text-text-dark dark:text-white",children:"$0.00"})]})]}),p.jsx("div",{className:"mb-6 border-t border-dashed border-gray-400 pt-4 dark:border-gray-500",children:p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsx("span",{className:"text-base font-bold text-text-dark dark:text-white",children:"Total"}),p.jsxs("span",{className:"text-3xl font-black text-primary",children:["$",Ne.toFixed(2)]})]})}),p.jsxs("button",{className:"group relative w-full overflow-hidden rounded-lg bg-primary py-4 text-white shadow-lg transition-transform active:scale-[0.99] disabled:opacity-60 disabled:cursor-not-allowed",disabled:a.length===0||Ae,onClick:I,type:"button",children:[p.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 text-lg font-bold tracking-wide",children:[Ae?"Starting Checkout...":"Proceed to Checkout",p.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}),p.jsx("div",{className:"absolute inset-0 bg-black/10 transition-opacity opacity-0 group-hover:opacity-100"})]}),E?p.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:E}):null,p.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[p.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"lock"}),"Secure Checkout by Black Eagle"]})]})})]})]})})})})}const Gj=oN([{path:"/",element:p.jsx(AN,{}),children:[{index:!0,element:p.jsx(kj,{})},{path:"products",element:p.jsx(Oj,{})},{path:"about",element:p.jsx(jj,{})},{path:"contact",element:p.jsx(Mj,{})},{path:"admin",element:p.jsx(Lj,{})},{path:"product-details/:productId",element:p.jsx(Uj,{})},{path:"cart",element:p.jsx(qj,{})}]}]);K1.createRoot(document.getElementById("root")).render(p.jsx(V.StrictMode,{children:p.jsx(_N,{router:Gj})}));
