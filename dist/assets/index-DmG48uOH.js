function I1(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function k1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fm={exports:{}},lc={};var A0;function D1(){if(A0)return lc;A0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:c}}return lc.Fragment=e,lc.jsx=n,lc.jsxs=n,lc}var S0;function O1(){return S0||(S0=1,Fm.exports=D1()),Fm.exports}var p=O1(),Hm={exports:{}},qe={};var R0;function j1(){if(R0)return qe;R0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function ne(M,J,ue){this.props=M,this.context=J,this.refs=K,this.updater=ue||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=ne.prototype;function oe(M,J,ue){this.props=M,this.context=J,this.refs=K,this.updater=ue||k}var Ae=oe.prototype=new $;Ae.constructor=oe,F(Ae,ne.prototype),Ae.isPureReactComponent=!0;var Se=Array.isArray;function Te(){}var E={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(M,J,ue){var le=ue.ref;return{$$typeof:r,type:M,key:J,ref:le!==void 0?le:null,props:ue}}function P(M,J){return C(M.type,J,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return J[ue]})}var I=/\/+/g;function Pe(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Te,Te):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,J,ue,le,xe){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(De){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case r:case e:Fe=!0;break;case _:return Fe=M._init,Q(Fe(M._payload),J,ue,le,xe)}}if(Fe)return xe=xe(M),Fe=le===""?"."+Pe(M,0):le,Se(xe)?(ue="",Fe!=null&&(ue=Fe.replace(I,"$&/")+"/"),Q(xe,J,ue,"",function(ke){return ke})):xe!=null&&(D(xe)&&(xe=P(xe,ue+(xe.key==null||M&&M.key===xe.key?"":(""+xe.key).replace(I,"$&/")+"/")+Fe)),J.push(xe)),1;Fe=0;var vt=le===""?".":le+":";if(Se(M))for(var mt=0;mt<M.length;mt++)le=M[mt],De=vt+Pe(le,mt),Fe+=Q(le,J,ue,De,xe);else if(mt=S(M),typeof mt=="function")for(M=mt.call(M),mt=0;!(le=M.next()).done;)le=le.value,De=vt+Pe(le,mt++),Fe+=Q(le,J,ue,De,xe);else if(De==="object"){if(typeof M.then=="function")return Q(Ne(M),J,ue,le,xe);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ce(M,J,ue){if(M==null)return M;var le=[],xe=0;return Q(M,le,"","",function(De){return J.call(ue,De,xe++)}),le}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Ie=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Le={map:ce,forEach:function(M,J,ue){ce(M,function(){J.apply(this,arguments)},ue)},count:function(M){var J=0;return ce(M,function(){J++}),J},toArray:function(M){return ce(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return qe.Activity=w,qe.Children=Le,qe.Component=ne,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=oe,qe.StrictMode=a,qe.Suspense=y,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,qe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return E.H.useMemoCache(M)}},qe.cache=function(M){return function(){return M.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(M,J,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=F({},M.props),xe=M.key;if(J!=null)for(De in J.key!==void 0&&(xe=""+J.key),J)!N.call(J,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&J.ref===void 0||(le[De]=J[De]);var De=arguments.length-2;if(De===1)le.children=ue;else if(1<De){for(var Fe=Array(De),vt=0;vt<De;vt++)Fe[vt]=arguments[vt+2];le.children=Fe}return C(M.type,xe,le)},qe.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},qe.createElement=function(M,J,ue){var le,xe={},De=null;if(J!=null)for(le in J.key!==void 0&&(De=""+J.key),J)N.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=J[le]);var Fe=arguments.length-2;if(Fe===1)xe.children=ue;else if(1<Fe){for(var vt=Array(Fe),mt=0;mt<Fe;mt++)vt[mt]=arguments[mt+2];xe.children=vt}if(M&&M.defaultProps)for(le in Fe=M.defaultProps,Fe)xe[le]===void 0&&(xe[le]=Fe[le]);return C(M,De,xe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(M){return{$$typeof:m,render:M}},qe.isValidElement=D,qe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:de}},qe.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},qe.startTransition=function(M){var J=E.T,ue={};E.T=ue;try{var le=M(),xe=E.S;xe!==null&&xe(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Te,Ie)}catch(De){Ie(De)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),E.T=J}},qe.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},qe.use=function(M){return E.H.use(M)},qe.useActionState=function(M,J,ue){return E.H.useActionState(M,J,ue)},qe.useCallback=function(M,J){return E.H.useCallback(M,J)},qe.useContext=function(M){return E.H.useContext(M)},qe.useDebugValue=function(){},qe.useDeferredValue=function(M,J){return E.H.useDeferredValue(M,J)},qe.useEffect=function(M,J){return E.H.useEffect(M,J)},qe.useEffectEvent=function(M){return E.H.useEffectEvent(M)},qe.useId=function(){return E.H.useId()},qe.useImperativeHandle=function(M,J,ue){return E.H.useImperativeHandle(M,J,ue)},qe.useInsertionEffect=function(M,J){return E.H.useInsertionEffect(M,J)},qe.useLayoutEffect=function(M,J){return E.H.useLayoutEffect(M,J)},qe.useMemo=function(M,J){return E.H.useMemo(M,J)},qe.useOptimistic=function(M,J){return E.H.useOptimistic(M,J)},qe.useReducer=function(M,J,ue){return E.H.useReducer(M,J,ue)},qe.useRef=function(M){return E.H.useRef(M)},qe.useState=function(M){return E.H.useState(M)},qe.useSyncExternalStore=function(M,J,ue){return E.H.useSyncExternalStore(M,J,ue)},qe.useTransition=function(){return E.H.useTransition()},qe.version="19.2.4",qe}var N0;function Qp(){return N0||(N0=1,Hm.exports=j1()),Hm.exports}var V=Qp();const M1=k1(V),P1=I1({__proto__:null,default:M1},[V]);var qm={exports:{}},cc={},Gm={exports:{}},Km={};var C0;function V1(){return C0||(C0=1,(function(r){function e(Q,ce){var de=Q.length;Q.push(ce);e:for(;0<de;){var Ie=de-1>>>1,Le=Q[Ie];if(0<o(Le,ce))Q[Ie]=ce,Q[de]=Le,de=Ie;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ce=Q[0],de=Q.pop();if(de!==ce){Q[0]=de;e:for(var Ie=0,Le=Q.length,M=Le>>>1;Ie<M;){var J=2*(Ie+1)-1,ue=Q[J],le=J+1,xe=Q[le];if(0>o(ue,de))le<Le&&0>o(xe,ue)?(Q[Ie]=xe,Q[le]=de,Ie=le):(Q[Ie]=ue,Q[J]=de,Ie=J);else if(le<Le&&0>o(xe,de))Q[Ie]=xe,Q[le]=de,Ie=le;else break e}}return ce}function o(Q,ce){var de=Q.sortIndex-ce.sortIndex;return de!==0?de:Q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var y=[],g=[],_=1,w=null,A=3,S=!1,k=!1,F=!1,K=!1,ne=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Ae(Q){for(var ce=n(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=Q)a(g),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=n(g)}}function Se(Q){if(F=!1,Ae(Q),!k)if(n(y)!==null)k=!0,Te||(Te=!0,U());else{var ce=n(g);ce!==null&&Ne(Se,ce.startTime-Q)}}var Te=!1,E=-1,N=5,C=-1;function P(){return K?!0:!(r.unstable_now()-C<N)}function D(){if(K=!1,Te){var Q=r.unstable_now();C=Q;var ce=!0;try{e:{k=!1,F&&(F=!1,$(E),E=-1),S=!0;var de=A;try{t:{for(Ae(Q),w=n(y);w!==null&&!(w.expirationTime>Q&&P());){var Ie=w.callback;if(typeof Ie=="function"){w.callback=null,A=w.priorityLevel;var Le=Ie(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof Le=="function"){w.callback=Le,Ae(Q),ce=!0;break t}w===n(y)&&a(y),Ae(Q)}else a(y);w=n(y)}if(w!==null)ce=!0;else{var M=n(g);M!==null&&Ne(Se,M.startTime-Q),ce=!1}}break e}finally{w=null,A=de,S=!1}ce=void 0}}finally{ce?U():Te=!1}}}var U;if(typeof oe=="function")U=function(){oe(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=D,U=function(){Pe.postMessage(null)}}else U=function(){ne(D,0)};function Ne(Q,ce){E=ne(function(){Q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var de=A;A=ce;try{return Q()}finally{A=de}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return ce()}finally{A=de}},r.unstable_scheduleCallback=function(Q,ce,de){var Ie=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,Q){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=de+Le,Q={id:_++,callback:ce,priorityLevel:Q,startTime:de,expirationTime:Le,sortIndex:-1},de>Ie?(Q.sortIndex=de,e(g,Q),n(y)===null&&Q===n(g)&&(F?($(E),E=-1):F=!0,Ne(Se,de-Ie))):(Q.sortIndex=Le,e(y,Q),k||S||(k=!0,Te||(Te=!0,U()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var ce=A;return function(){var de=A;A=ce;try{return Q.apply(this,arguments)}finally{A=de}}}})(Km)),Km}var I0;function L1(){return I0||(I0=1,Gm.exports=V1()),Gm.exports}var Qm={exports:{}},On={};var k0;function U1(){if(k0)return On;k0=1;var r=Qp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:g,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,On.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,_)},On.flushSync=function(y){var g=u.T,_=a.p;try{if(u.T=null,a.p=2,y)return y()}finally{u.T=g,a.p=_,a.d.f()}},On.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},On.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},On.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:S}):_==="script"&&a.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},On.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},On.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);a.d.L(y,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},On.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=m(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},On.requestFormReset=function(y){a.d.r(y)},On.unstable_batchedUpdates=function(y,g){return y(g)},On.useFormState=function(y,g,_){return u.H.useFormState(y,g,_)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.2.4",On}var D0;function Gx(){if(D0)return Qm.exports;D0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qm.exports=U1(),Qm.exports}var O0;function B1(){if(O0)return cc;O0=1;var r=L1(),e=Qp(),n=Gx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var b=!1,T=h.child;T;){if(T===s){b=!0,s=h,l=f;break}if(T===l){b=!0,l=h,s=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===s){b=!0,s=f,l=h;break}if(T===l){b=!0,l=f,s=h;break}T=T.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ne:return"Profiler";case K:return"StrictMode";case Se:return"Suspense";case Te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case oe:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E:return i=t.displayName||null,i!==null?i:Pe(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return Pe(t(i))}catch{}}return null}var Ne=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],Le=-1;function M(t){return{current:t}}function J(t){0>Le||(t.current=Ie[Le],Ie[Le]=null,Le--)}function ue(t,i){Le++,Ie[Le]=t.current,t.current=i}var le=M(null),xe=M(null),De=M(null),Fe=M(null);function vt(t,i){switch(ue(De,i),ue(xe,t),ue(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xb(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xb(i),t=Yb(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),ue(le,t)}function mt(){J(le),J(xe),J(De)}function ke(t){t.memoizedState!==null&&ue(Fe,t);var i=le.current,s=Yb(i,t.type);i!==s&&(ue(xe,t),ue(le,s))}function Gt(t){xe.current===t&&(J(le),J(xe)),Fe.current===t&&(J(Fe),ic._currentValue=de)}var Ue,gn;function yn(t){if(Ue===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ue=i&&i[1]||"",gn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+gn}var Pr=!1;function xn(t,i){if(!t||Pr)return"";Pr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var Y=Z}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Z){Y=Z}t.call(ie.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var j=b.split(`
`),G=T.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===G.length)for(l=j.length-1,h=G.length-1;1<=l&&0<=h&&j[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==G[h]){var ee=`
`+j[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{Pr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?yn(s):""}function Ti(t,i){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return xn(t.type,!1);case 11:return xn(t.type.render,!1);case 1:return xn(t.type,!0);case 31:return yn("Activity");default:return""}}function Ai(t){try{var i="",s=null;do i+=Ti(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var jt=Object.prototype.hasOwnProperty,pe=r.unstable_scheduleCallback,Mt=r.unstable_cancelCallback,wn=r.unstable_shouldYield,hn=r.unstable_requestPaint,dt=r.unstable_now,fn=r.unstable_getCurrentPriorityLevel,Un=r.unstable_ImmediatePriority,Bn=r.unstable_UserBlockingPriority,Bt=r.unstable_NormalPriority,zn=r.unstable_LowPriority,Si=r.unstable_IdlePriority,Ri=r.log,na=r.unstable_setDisableYieldValue,ar=null,Nt=null;function Fn(t){if(typeof Ri=="function"&&na(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ar,t)}catch{}}var zt=Math.clz32?Math.clz32:ds,us=Math.log,ra=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(us(t)/ra|0)|0}var Hn=256,Zr=262144,Ft=4194304;function br(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sr(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=br(l):(b&=T,b!==0?h=br(b):s||(s=T&~t,s!==0&&(h=br(s))))):(T=l&~f,T!==0?h=br(T):b!==0?h=br(b):s||(s=l&~t,s!==0&&(h=br(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function to(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var t=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),t}function qn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Jr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gl(t,i,s,l,h,f){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,j=t.expirationTimes,G=t.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-zt(s),ie=1<<ee;T[ee]=0,j[ee]=-1;var Y=G[ee];if(Y!==null)for(G[ee]=null,ee=0;ee<Y.length;ee++){var Z=Y[ee];Z!==null&&(Z.lane&=-536870913)}s&=~ie}l!==0&&Ci(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~i))}function Ci(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function O(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-zt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function B(t,i){var s=i&-i;return s=(s&42)!==0?1:X(s),(s&(t.suspendedLanes|i))!==0?0:s}function X(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function se(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function he(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:v0(t.type))}function be(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var ge=Math.random().toString(36).slice(2),me="__reactFiber$"+ge,ye="__reactProps$"+ge,Ee="__reactContainer$"+ge,Oe="__reactEvents$"+ge,Ce="__reactListeners$"+ge,$e="__reactHandles$"+ge,et="__reactResources$"+ge,wt="__reactMarker$"+ge;function Pt(t){delete t[me],delete t[ye],delete t[Oe],delete t[Ce],delete t[$e]}function It(t){var i=t[me];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ee]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=n0(t);t!==null;){if(s=t[me])return s;t=n0(t)}return i}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[me]||t[Ee]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function kt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function vn(t){var i=t[et];return i||(i=t[et]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[wt]=!0}var Qn=new Set,kn={};function Xn(t,i){Dn(t,i),Dn(t+"Capture",i)}function Dn(t,i){for(kn[t]=i,t=0;t<i.length;t++)Qn.add(i[t])}var lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},ei={};function Ze(t){return jt.call(ei,t)?!0:jt.call($r,t)?!1:lr.test(t)?ei[t]=!0:($r[t]=!0,!1)}function Kt(t,i,s){if(Ze(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function nn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Et(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ia(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,f.call(this,b)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pt(t){if(!t._valueTracker){var i=cr(t)?"checked":"value";t._valueTracker=ia(t,i,""+t[i])}}function hs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=cr(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fs=/[\n"\\]/g;function Yn(t){return t.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function no(t,i,s,l,h,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ye(i)):t.value!==""+Ye(i)&&(t.value=""+Ye(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?yl(t,b,Ye(i)):s!=null?yl(t,b,Ye(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ye(T):t.removeAttribute("name")}function du(t,i,s,l,h,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){pt(t);return}s=s!=null?""+Ye(s):"",i=i!=null?""+Ye(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),pt(t)}function yl(t,i,s){i==="number"&&ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function aa(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ye(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function hu(t,i,s){if(i!=null&&(i=""+Ye(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ye(s):""}function sa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ye(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),pt(t)}function Wn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||fu.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function bl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&vl(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&vl(t,f,i[f])}function ro(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return oa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Vr(){}var _l=null;function _r(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,ni=null;function ms(t){var i=Xe(t);if(i&&(t=i.stateNode)){var s=t[ye]||null;e:switch(t=i.stateNode,i.type){case"input":if(no(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[ye]||null;if(!h)throw Error(a(90));no(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&hs(l)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&aa(t,!!s.multiple,i,!1)}}}var ao=!1;function ca(t,i,s){if(ao)return t(i,s);ao=!0;try{var l=t(i);return l}finally{if(ao=!1,(la!==null||ni!==null)&&(od(),la&&(i=la,t=ni,ni=la=null,ms(i),t)))for(i=0;i<t.length;i++)ms(t[i])}}function Lr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(xr)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{ps=!1}var ri=null,xl=null,gs=null;function wl(){if(gs)return gs;var t,i=xl,s=i.length,l,h="value"in ri?ri.value:ri.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var b=s-t;for(l=1;l<=b&&i[s-l]===h[f-l];l++);return gs=h.slice(t,1<l?1-l:void 0)}function ys(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Ur(){return!1}function En(t){function i(s,l,h,f,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Ur,this.isPropagationStopped=Ur,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),i}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=En(ki),ua=w({},ki,{view:0,detail:0}),El=En(ua),da,so,ai,oo=w({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(da=t.screenX-ai.screenX,so=t.screenY-ai.screenY):so=da=0,ai=t),da)},movementY:function(t){return"movementY"in t?t.movementY:so}}),Tl=En(oo),vs=w({},oo,{dataTransfer:0}),pu=En(vs),gu=w({},ua,{relatedTarget:0}),bs=En(gu),Al=w({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=En(Al),lo=w({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=En(lo),bu=w({},ki,{data:0}),si=En(bu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function ha(){return Eu}var Gn=w({},ua,{key:function(t){if(t.key){var i=_u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=En(Gn),Au=w({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=En(Au),d=w({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),v=En(d),x=w({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=En(x),H=w({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=En(H),fe=w({},ki,{newState:0,oldState:0}),Ke=En(fe),Wt=[9,13,27,32],gt=xr&&"CompositionEvent"in window,Ht=null;xr&&"documentMode"in document&&(Ht=document.documentMode);var wr=xr&&"TextEvent"in window&&!Ht,oi=xr&&(!gt||Ht&&8<Ht&&11>=Ht),Br=" ",zr=!1;function _s(t,i){switch(t){case"keyup":return Wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function eA(t,i){switch(t){case"compositionend":return co(i);case"keypress":return i.which!==32?null:(zr=!0,Br);case"textInput":return t=i.data,t===Br&&zr?null:t;default:return null}}function tA(t,i){if(uo)return t==="compositionend"||!gt&&_s(t,i)?(t=wl(),gs=xl=ri=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nA[t.type]:i==="textarea"}function sy(t,i,s,l){la?ni?ni.push(l):ni=[l]:la=l,i=md(i,"onChange"),0<i.length&&(s=new ii("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Sl=null,Rl=null;function rA(t){Fb(t,0)}function Su(t){var i=kt(t);if(hs(i))return t}function oy(t,i){if(t==="change")return i}var ly=!1;if(xr){var Xh;if(xr){var Yh="oninput"in document;if(!Yh){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Yh=typeof cy.oninput=="function"}Xh=Yh}else Xh=!1;ly=Xh&&(!document.documentMode||9<document.documentMode)}function uy(){Sl&&(Sl.detachEvent("onpropertychange",dy),Rl=Sl=null)}function dy(t){if(t.propertyName==="value"&&Su(Rl)){var i=[];sy(i,Rl,t,_r(t)),ca(rA,i)}}function iA(t,i,s){t==="focusin"?(uy(),Sl=i,Rl=s,Sl.attachEvent("onpropertychange",dy)):t==="focusout"&&uy()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Rl)}function sA(t,i){if(t==="click")return Su(i)}function oA(t,i){if(t==="input"||t==="change")return Su(i)}function lA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ur=typeof Object.is=="function"?Object.is:lA;function Nl(t,i){if(ur(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!jt.call(i,h)||!ur(t[h],i[h]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,i){var s=hy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hy(s)}}function my(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?my(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function py(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ti(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ti(t.document)}return i}function Wh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cA=xr&&"documentMode"in document&&11>=document.documentMode,ho=null,Zh=null,Cl=null,Jh=!1;function gy(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||ho==null||ho!==ti(l)||(l=ho,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Nl(Cl,l)||(Cl=l,l=md(Zh,"onSelect"),0<l.length&&(i=new ii("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ho)))}function xs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var fo={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},$h={},yy={};xr&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ws(t){if($h[t])return $h[t];if(!fo[t])return t;var i=fo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in yy)return $h[t]=i[s];return t}var vy=ws("animationend"),by=ws("animationiteration"),_y=ws("animationstart"),uA=ws("transitionrun"),dA=ws("transitionstart"),hA=ws("transitioncancel"),xy=ws("transitionend"),wy=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Fr(t,i){wy.set(t,i),Xn(i,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Er=[],mo=0,tf=0;function Nu(){for(var t=mo,i=tf=mo=0;i<t;){var s=Er[i];Er[i++]=null;var l=Er[i];Er[i++]=null;var h=Er[i];Er[i++]=null;var f=Er[i];if(Er[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&Ey(s,h,f)}}function Cu(t,i,s,l){Er[mo++]=t,Er[mo++]=i,Er[mo++]=s,Er[mo++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,s,l){return Cu(t,i,s,l),Iu(t)}function Es(t,i){return Cu(t,null,null,i),Iu(t)}function Ey(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-zt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function Iu(t){if(50<Zl)throw Zl=0,hm=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var po={};function fA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,i,s,l){return new fA(t,i,s,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,i){var s=t.alternate;return s===null?(s=dr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ty(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ku(t,i,s,l,h,f){var b=0;if(l=t,typeof t=="function")rf(t)&&(b=1);else if(typeof t=="string")b=v1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=dr(31,s,i,h),t.elementType=C,t.lanes=f,t;case F:return Ts(s.children,h,f,i);case K:b=8,h|=24;break;case ne:return t=dr(12,s,i,h|2),t.elementType=ne,t.lanes=f,t;case Se:return t=dr(13,s,i,h),t.elementType=Se,t.lanes=f,t;case Te:return t=dr(19,s,i,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:b=10;break e;case $:b=9;break e;case Ae:b=11;break e;case E:b=14;break e;case N:b=16,l=null;break e}b=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=dr(b,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Ts(t,i,s,l){return t=dr(7,t,l,i),t.lanes=s,t}function af(t,i,s){return t=dr(6,t,null,i),t.lanes=s,t}function Ay(t){var i=dr(18,null,null,0);return i.stateNode=t,i}function sf(t,i,s){return i=dr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sy=new WeakMap;function Tr(t,i){if(typeof t=="object"&&t!==null){var s=Sy.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Ai(i)},Sy.set(t,i),i)}return{value:t,source:i,stack:Ai(i)}}var go=[],yo=0,Du=null,Il=0,Ar=[],Sr=0,fa=null,li=1,ci="";function ji(t,i){go[yo++]=Il,go[yo++]=Du,Du=t,Il=i}function Ry(t,i,s){Ar[Sr++]=li,Ar[Sr++]=ci,Ar[Sr++]=fa,fa=t;var l=li;t=ci;var h=32-zt(l)-1;l&=~(1<<h),s+=1;var f=32-zt(i)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,li=1<<32-zt(i)+h|s<<h|l,ci=f+t}else li=1<<f|s<<h|l,ci=t}function of(t){t.return!==null&&(ji(t,1),Ry(t,1,0))}function lf(t){for(;t===Du;)Du=go[--yo],go[yo]=null,Il=go[--yo],go[yo]=null;for(;t===fa;)fa=Ar[--Sr],Ar[Sr]=null,ci=Ar[--Sr],Ar[Sr]=null,li=Ar[--Sr],Ar[Sr]=null}function Ny(t,i){Ar[Sr++]=li,Ar[Sr++]=ci,Ar[Sr++]=fa,li=i.id,ci=i.overflow,fa=t}var Tn=null,Vt=null,lt=!1,ma=null,Rr=!1,cf=Error(a(519));function pa(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Tr(i,t)),cf}function Cy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[me]=t,i[ye]=l,s){case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":case"embed":nt("load",i);break;case"video":case"audio":for(s=0;s<$l.length;s++)nt($l[s],i);break;case"source":nt("error",i);break;case"img":case"image":case"link":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"input":nt("invalid",i),du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":nt("invalid",i);break;case"textarea":nt("invalid",i),sa(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Kb(i.textContent,s)?(l.popover!=null&&(nt("beforetoggle",i),nt("toggle",i)),l.onScroll!=null&&nt("scroll",i),l.onScrollEnd!=null&&nt("scrollend",i),l.onClick!=null&&(i.onclick=Vr),i=!0):i=!1,i||pa(t,!0)}function Iy(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Tn=Tn.return}}function vo(t){if(t!==Tn)return!1;if(!lt)return Iy(t),lt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Rm(t.type,t.memoizedProps)),s=!s),s&&Vt&&pa(t),Iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vt=t0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vt=t0(t)}else i===27?(i=Vt,Ca(t.type)?(t=Dm,Dm=null,Vt=t):Vt=i):Vt=Tn?Cr(t.stateNode.nextSibling):null;return!0}function As(){Vt=Tn=null,lt=!1}function uf(){var t=ma;return t!==null&&(er===null?er=t:er.push.apply(er,t),ma=null),t}function kl(t){ma===null?ma=[t]:ma.push(t)}var df=M(null),Ss=null,Mi=null;function ga(t,i,s){ue(df,i._currentValue),i._currentValue=s}function Pi(t){t._currentValue=df.current,J(df)}function hf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function ff(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var j=0;j<i.length;j++)if(T.context===i[j]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),hf(f.return,s,t),l||(b=null);break e}f=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=s,f=b.alternate,f!==null&&(f.lanes|=s),hf(b,s,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function bo(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var T=h.type;ur(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===Fe.current){if(b=h.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ic):t=[ic])}h=h.return}t!==null&&ff(i,t,s,l),i.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!ur(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){Ss=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return ky(Ss,t)}function ju(t,i){return Ss===null&&Rs(t),ky(t,i)}function ky(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return s}var mA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},pA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,rn={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new mA,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&pA(gA,function(){t.controller.abort()})}var Ol=null,pf=0,_o=0,xo=null;function yA(t,i){if(Ol===null){var s=Ol=[];pf=0,_o=vm(),xo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return pf++,i.then(Dy,Dy),i}function Dy(){if(--pf===0&&Ol!==null){xo!==null&&(xo.status="fulfilled");var t=Ol;Ol=null,_o=0,xo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Oy=Q.S;Q.S=function(t,i){gb=dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yA(t,i),Oy!==null&&Oy(t,i)};var Ns=M(null);function gf(){var t=Ns.current;return t!==null?t:Ct.pooledCache}function Mu(t,i){i===null?ue(Ns,Ns.current):ue(Ns,i.pool)}function jy(){var t=gf();return t===null?null:{parent:rn._currentValue,pool:t}}var wo=Error(a(460)),yf=Error(a(474)),Pu=Error(a(542)),Vu={then:function(){}};function My(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Py(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Vr,Vr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ly(t),t;default:if(typeof i.status=="string")i.then(Vr,Vr);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ly(t),t}throw Is=i,wo}}function Cs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Is=s,wo):s}}var Is=null;function Vy(){if(Is===null)throw Error(a(459));var t=Is;return Is=null,t}function Ly(t){if(t===wo||t===Pu)throw Error(a(483))}var Eo=null,jl=0;function Lu(t){var i=jl;return jl+=1,Eo===null&&(Eo=[]),Py(Eo,t,i)}function Ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Uu(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Uy(t){function i(z,L){if(t){var q=z.deletions;q===null?(z.deletions=[L],z.flags|=16):q.push(L)}}function s(z,L){if(!t)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=Oi(z,L),z.index=0,z.sibling=null,z}function f(z,L,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<L?(z.flags|=67108866,L):q):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,q,te){return L===null||L.tag!==6?(L=af(q,z.mode,te),L.return=z,L):(L=h(L,q),L.return=z,L)}function j(z,L,q,te){var je=q.type;return je===F?ee(z,L,q.props.children,te,q.key):L!==null&&(L.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===N&&Cs(je)===L.type)?(L=h(L,q.props),Ml(L,q),L.return=z,L):(L=ku(q.type,q.key,q.props,null,z.mode,te),Ml(L,q),L.return=z,L)}function G(z,L,q,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=sf(q,z.mode,te),L.return=z,L):(L=h(L,q.children||[]),L.return=z,L)}function ee(z,L,q,te,je){return L===null||L.tag!==7?(L=Ts(q,z.mode,te,je),L.return=z,L):(L=h(L,q),L.return=z,L)}function ie(z,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=af(""+L,z.mode,q),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return q=ku(L.type,L.key,L.props,null,z.mode,q),Ml(q,L),q.return=z,q;case k:return L=sf(L,z.mode,q),L.return=z,L;case N:return L=Cs(L),ie(z,L,q)}if(Ne(L)||U(L))return L=Ts(L,z.mode,q,null),L.return=z,L;if(typeof L.then=="function")return ie(z,Lu(L),q);if(L.$$typeof===oe)return ie(z,ju(z,L),q);Uu(z,L)}return null}function Y(z,L,q,te){var je=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return je!==null?null:T(z,L,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===je?j(z,L,q,te):null;case k:return q.key===je?G(z,L,q,te):null;case N:return q=Cs(q),Y(z,L,q,te)}if(Ne(q)||U(q))return je!==null?null:ee(z,L,q,te,null);if(typeof q.then=="function")return Y(z,L,Lu(q),te);if(q.$$typeof===oe)return Y(z,L,ju(z,q),te);Uu(z,q)}return null}function Z(z,L,q,te,je){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(q)||null,T(L,z,""+te,je);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return z=z.get(te.key===null?q:te.key)||null,j(L,z,te,je);case k:return z=z.get(te.key===null?q:te.key)||null,G(L,z,te,je);case N:return te=Cs(te),Z(z,L,q,te,je)}if(Ne(te)||U(te))return z=z.get(q)||null,ee(L,z,te,je,null);if(typeof te.then=="function")return Z(z,L,q,Lu(te),je);if(te.$$typeof===oe)return Z(z,L,q,ju(L,te),je);Uu(L,te)}return null}function we(z,L,q,te){for(var je=null,ht=null,Re=L,We=L=0,it=null;Re!==null&&We<q.length;We++){Re.index>We?(it=Re,Re=null):it=Re.sibling;var ft=Y(z,Re,q[We],te);if(ft===null){Re===null&&(Re=it);break}t&&Re&&ft.alternate===null&&i(z,Re),L=f(ft,L,We),ht===null?je=ft:ht.sibling=ft,ht=ft,Re=it}if(We===q.length)return s(z,Re),lt&&ji(z,We),je;if(Re===null){for(;We<q.length;We++)Re=ie(z,q[We],te),Re!==null&&(L=f(Re,L,We),ht===null?je=Re:ht.sibling=Re,ht=Re);return lt&&ji(z,We),je}for(Re=l(Re);We<q.length;We++)it=Z(Re,z,We,q[We],te),it!==null&&(t&&it.alternate!==null&&Re.delete(it.key===null?We:it.key),L=f(it,L,We),ht===null?je=it:ht.sibling=it,ht=it);return t&&Re.forEach(function(ja){return i(z,ja)}),lt&&ji(z,We),je}function Ve(z,L,q,te){if(q==null)throw Error(a(151));for(var je=null,ht=null,Re=L,We=L=0,it=null,ft=q.next();Re!==null&&!ft.done;We++,ft=q.next()){Re.index>We?(it=Re,Re=null):it=Re.sibling;var ja=Y(z,Re,ft.value,te);if(ja===null){Re===null&&(Re=it);break}t&&Re&&ja.alternate===null&&i(z,Re),L=f(ja,L,We),ht===null?je=ja:ht.sibling=ja,ht=ja,Re=it}if(ft.done)return s(z,Re),lt&&ji(z,We),je;if(Re===null){for(;!ft.done;We++,ft=q.next())ft=ie(z,ft.value,te),ft!==null&&(L=f(ft,L,We),ht===null?je=ft:ht.sibling=ft,ht=ft);return lt&&ji(z,We),je}for(Re=l(Re);!ft.done;We++,ft=q.next())ft=Z(Re,z,We,ft.value,te),ft!==null&&(t&&ft.alternate!==null&&Re.delete(ft.key===null?We:ft.key),L=f(ft,L,We),ht===null?je=ft:ht.sibling=ft,ht=ft);return t&&Re.forEach(function(C1){return i(z,C1)}),lt&&ji(z,We),je}function Rt(z,L,q,te){if(typeof q=="object"&&q!==null&&q.type===F&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var je=q.key;L!==null;){if(L.key===je){if(je=q.type,je===F){if(L.tag===7){s(z,L.sibling),te=h(L,q.props.children),te.return=z,z=te;break e}}else if(L.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===N&&Cs(je)===L.type){s(z,L.sibling),te=h(L,q.props),Ml(te,q),te.return=z,z=te;break e}s(z,L);break}else i(z,L);L=L.sibling}q.type===F?(te=Ts(q.props.children,z.mode,te,q.key),te.return=z,z=te):(te=ku(q.type,q.key,q.props,null,z.mode,te),Ml(te,q),te.return=z,z=te)}return b(z);case k:e:{for(je=q.key;L!==null;){if(L.key===je)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){s(z,L.sibling),te=h(L,q.children||[]),te.return=z,z=te;break e}else{s(z,L);break}else i(z,L);L=L.sibling}te=sf(q,z.mode,te),te.return=z,z=te}return b(z);case N:return q=Cs(q),Rt(z,L,q,te)}if(Ne(q))return we(z,L,q,te);if(U(q)){if(je=U(q),typeof je!="function")throw Error(a(150));return q=je.call(q),Ve(z,L,q,te)}if(typeof q.then=="function")return Rt(z,L,Lu(q),te);if(q.$$typeof===oe)return Rt(z,L,ju(z,q),te);Uu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(s(z,L.sibling),te=h(L,q),te.return=z,z=te):(s(z,L),te=af(q,z.mode,te),te.return=z,z=te),b(z)):s(z,L)}return function(z,L,q,te){try{jl=0;var je=Rt(z,L,q,te);return Eo=null,je}catch(Re){if(Re===wo||Re===Pu)throw Re;var ht=dr(29,Re,null,z.mode);return ht.lanes=te,ht.return=z,ht}}}var ks=Uy(!0),By=Uy(!1),ya=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ba(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Iu(t),Ey(t,null,s),i}return Cu(t,l,i,s),Iu(t)}function Pl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,O(t,s)}}function _f(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var xf=!1;function Vl(){if(xf){var t=xo;if(t!==null)throw t}}function Ll(t,i,s,l){xf=!1;var h=t.updateQueue;ya=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var j=T,G=j.next;j.next=null,b===null?f=G:b.next=G,b=j;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==b&&(T===null?ee.firstBaseUpdate=G:T.next=G,ee.lastBaseUpdate=j))}if(f!==null){var ie=h.baseState;b=0,ee=G=j=null,T=f;do{var Y=T.lane&-536870913,Z=Y!==T.lane;if(Z?(rt&Y)===Y:(l&Y)===Y){Y!==0&&Y===_o&&(xf=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Ve=T;Y=i;var Rt=s;switch(Ve.tag){case 1:if(we=Ve.payload,typeof we=="function"){ie=we.call(Rt,ie,Y);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ve.payload,Y=typeof we=="function"?we.call(Rt,ie,Y):we,Y==null)break e;ie=w({},ie,Y);break e;case 2:ya=!0}}Y=T.callback,Y!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(G=ee=Z,j=ie):ee=ee.next=Z,b|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);ee===null&&(j=ie),h.baseState=j,h.firstBaseUpdate=G,h.lastBaseUpdate=ee,f===null&&(h.shared.lanes=0),Ta|=b,t.lanes=b,t.memoizedState=ie}}function zy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Fy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zy(s[t],i)}var To=M(null),Bu=M(0);function Hy(t,i){t=Gi,ue(Bu,t),ue(To,i),Gi=t|i.baseLanes}function wf(){ue(Bu,Gi),ue(To,To.current)}function Ef(){Gi=Bu.current,J(To),J(Bu)}var hr=M(null),Nr=null;function _a(t){var i=t.alternate;ue(Zt,Zt.current&1),ue(hr,t),Nr===null&&(i===null||To.current!==null||i.memoizedState!==null)&&(Nr=t)}function Tf(t){ue(Zt,Zt.current),ue(hr,t),Nr===null&&(Nr=t)}function qy(t){t.tag===22?(ue(Zt,Zt.current),ue(hr,t),Nr===null&&(Nr=t)):xa()}function xa(){ue(Zt,Zt.current),ue(hr,hr.current)}function fr(t){J(hr),Nr===t&&(Nr=null),J(Zt)}var Zt=M(0);function zu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Im(s)||km(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vi=0,Qe=null,At=null,an=null,Fu=!1,Ao=!1,Ds=!1,Hu=0,Ul=0,So=null,bA=0;function Xt(){throw Error(a(321))}function Af(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ur(t[s],i[s]))return!1;return!0}function Sf(t,i,s,l,h,f){return Vi=f,Qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Rv:zf,Ds=!1,f=s(l,h),Ds=!1,Ao&&(f=Ky(i,s,l,h)),Gy(t),f}function Gy(t){Q.H=Fl;var i=At!==null&&At.next!==null;if(Vi=0,an=At=Qe=null,Fu=!1,Ul=0,So=null,i)throw Error(a(300));t===null||sn||(t=t.dependencies,t!==null&&Ou(t)&&(sn=!0))}function Ky(t,i,s,l){Qe=t;var h=0;do{if(Ao&&(So=null),Ul=0,Ao=!1,25<=h)throw Error(a(301));if(h+=1,an=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Nv,f=i(s,l)}while(Ao);return f}function _A(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(Qe.flags|=1024),i}function Rf(){var t=Hu!==0;return Hu=0,t}function Nf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Cf(t){if(Fu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Fu=!1}Vi=0,an=At=Qe=null,Ao=!1,Ul=Hu=0,So=null}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Qe.memoizedState=an=t:an=an.next=t,an}function Jt(){if(At===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var i=an===null?Qe.memoizedState:an.next;if(i!==null)an=i,At=t;else{if(t===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},an===null?Qe.memoizedState=an=t:an=an.next=t}return an}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var i=Ul;return Ul+=1,So===null&&(So=[]),t=Py(So,t,i),i=Qe,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Rv:zf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===oe)return An(t)}throw Error(a(438,String(t)))}function If(t){var i=null,s=Qe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qu(),Qe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=P;return i.index++,s}function Li(t,i){return typeof i=="function"?i(t):i}function Ku(t){var i=Jt();return kf(i,At,t)}function kf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=b=null,j=null,G=i,ee=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(rt&ie)===ie:(Vi&ie)===ie){var Y=G.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===_o&&(ee=!0);else if((Vi&Y)===Y){G=G.next,Y===_o&&(ee=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(T=j=ie,b=f):j=j.next=ie,Qe.lanes|=Y,Ta|=Y;ie=G.action,Ds&&s(f,ie),f=G.hasEagerState?G.eagerState:s(f,ie)}else Y={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(T=j=Y,b=f):j=j.next=Y,Qe.lanes|=ie,Ta|=ie;G=G.next}while(G!==null&&G!==i);if(j===null?b=f:j.next=T,!ur(f,t.memoizedState)&&(sn=!0,ee&&(s=xo,s!==null)))throw s;t.memoizedState=f,t.baseState=b,t.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Df(t){var i=Jt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);ur(f,i.memoizedState)||(sn=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function Qy(t,i,s){var l=Qe,h=Jt(),f=lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var b=!ur((At||h).memoizedState,s);if(b&&(h.memoizedState=s,sn=!0),h=h.queue,Mf(Wy.bind(null,l,h,t),[t]),h.getSnapshot!==i||b||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Ro(9,{destroy:void 0},Yy.bind(null,l,h,s,i),null),Ct===null)throw Error(a(349));f||(Vi&127)!==0||Xy(l,i,s)}return s}function Xy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Qe.updateQueue,i===null?(i=qu(),Qe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Yy(t,i,s,l){i.value=s,i.getSnapshot=l,Zy(i)&&Jy(t)}function Wy(t,i,s){return s(function(){Zy(i)&&Jy(t)})}function Zy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ur(t,s)}catch{return!0}}function Jy(t){var i=Es(t,2);i!==null&&tr(i,t,2)}function Of(t){var i=Kn();if(typeof t=="function"){var s=t;if(t=s(),Ds){Fn(!0);try{s()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function $y(t,i,s,l){return t.baseState=s,kf(t,At,typeof l=="function"?l:Li)}function xA(t,i,s,l,h){if(Yu(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,ev(i,f)):(f.next=s.next,i.pending=s.next=f)}}function ev(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=Q.T,b={};Q.T=b;try{var T=s(h,l),j=Q.S;j!==null&&j(b,T),tv(t,i,T)}catch(G){jf(t,i,G)}finally{f!==null&&b.types!==null&&(f.types=b.types),Q.T=f}}else try{f=s(h,l),tv(t,i,f)}catch(G){jf(t,i,G)}}function tv(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){nv(t,i,l)},function(l){return jf(t,i,l)}):nv(t,i,s)}function nv(t,i,s){i.status="fulfilled",i.value=s,rv(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ev(t,s)))}function jf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,rv(i),i=i.next;while(i!==l)}t.action=null}function rv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function iv(t,i){return i}function av(t,i){if(lt){var s=Ct.formState;if(s!==null){e:{var l=Qe;if(lt){if(Vt){t:{for(var h=Vt,f=Rr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Vt=Cr(h.nextSibling),l=h.data==="F!";break e}}pa(l)}l=!1}l&&(i=s[0])}}return s=Kn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:i},s.queue=l,s=Tv.bind(null,Qe,l),l.dispatch=s,l=Of(!1),f=Bf.bind(null,Qe,!1,l.queue),l=Kn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=xA.bind(null,Qe,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function sv(t){var i=Jt();return ov(i,At,t)}function ov(t,i,s){if(i=kf(t,i,iv)[0],t=Ku(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(b){throw b===wo?Pu:b}else l=i;i=Jt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Qe.flags|=2048,Ro(9,{destroy:void 0},wA.bind(null,h,s),null)),[l,f,t]}function wA(t,i){t.action=i}function lv(t){var i=Jt(),s=At;if(s!==null)return ov(i,s,t);Jt(),i=i.memoizedState,s=Jt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Ro(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Qe.updateQueue,i===null&&(i=qu(),Qe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function cv(){return Jt().memoizedState}function Qu(t,i,s,l){var h=Kn();Qe.flags|=t,h.memoizedState=Ro(1|i,{destroy:void 0},s,l===void 0?null:l)}function Xu(t,i,s,l){var h=Jt();l=l===void 0?null:l;var f=h.memoizedState.inst;At!==null&&l!==null&&Af(l,At.memoizedState.deps)?h.memoizedState=Ro(i,f,s,l):(Qe.flags|=t,h.memoizedState=Ro(1|i,f,s,l))}function uv(t,i){Qu(8390656,8,t,i)}function Mf(t,i){Xu(2048,8,t,i)}function EA(t){Qe.flags|=4;var i=Qe.updateQueue;if(i===null)i=qu(),Qe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function dv(t){var i=Jt().memoizedState;return EA({ref:i,nextImpl:t}),function(){if((yt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function hv(t,i){return Xu(4,2,t,i)}function fv(t,i){return Xu(4,4,t,i)}function mv(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pv(t,i,s){s=s!=null?s.concat([t]):null,Xu(4,4,mv.bind(null,i,t),s)}function Pf(){}function gv(t,i){var s=Jt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function yv(t,i){var s=Jt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=t(),Ds){Fn(!0);try{t()}finally{Fn(!1)}}return s.memoizedState=[l,i],l}function Vf(t,i,s){return s===void 0||(Vi&1073741824)!==0&&(rt&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=vb(),Qe.lanes|=t,Ta|=t,s)}function vv(t,i,s,l){return ur(s,i)?s:To.current!==null?(t=Vf(t,s,l),ur(t,i)||(sn=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(rt&261930)===0?(sn=!0,t.memoizedState=s):(t=vb(),Qe.lanes|=t,Ta|=t,i)}function bv(t,i,s,l,h){var f=ce.p;ce.p=f!==0&&8>f?f:8;var b=Q.T,T={};Q.T=T,Bf(t,!1,i,s);try{var j=h(),G=Q.S;if(G!==null&&G(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=vA(j,l);zl(t,i,ee,gr(t))}else zl(t,i,l,gr(t))}catch(ie){zl(t,i,{then:function(){},status:"rejected",reason:ie},gr())}finally{ce.p=f,b!==null&&T.types!==null&&(b.types=T.types),Q.T=b}}function TA(){}function Lf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=_v(t).queue;bv(t,h,i,de,s===null?TA:function(){return xv(t),s(l)})}function _v(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xv(t){var i=_v(t);i.next===null&&(i=t.alternate.memoizedState),zl(t,i.next.queue,{},gr())}function Uf(){return An(ic)}function wv(){return Jt().memoizedState}function Ev(){return Jt().memoizedState}function AA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=gr();t=va(s);var l=ba(i,t,s);l!==null&&(tr(l,i,s),Pl(l,i,s)),i={cache:mf()},t.payload=i;return}i=i.return}}function SA(t,i,s){var l=gr();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Av(i,s):(s=nf(t,i,s,l),s!==null&&(tr(s,t,l),Sv(s,i,l)))}function Tv(t,i,s){var l=gr();zl(t,i,s,l)}function zl(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Av(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var b=i.lastRenderedState,T=f(b,s);if(h.hasEagerState=!0,h.eagerState=T,ur(T,b))return Cu(t,i,h,0),Ct===null&&Nu(),!1}catch{}if(s=nf(t,i,h,l),s!==null)return tr(s,t,l),Sv(s,i,l),!0}return!1}function Bf(t,i,s,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(i)throw Error(a(479))}else i=nf(t,s,l,2),i!==null&&tr(i,t,2)}function Yu(t){var i=t.alternate;return t===Qe||i!==null&&i===Qe}function Av(t,i){Ao=Fu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Sv(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,O(t,s)}}var Fl={readContext:An,use:Gu,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};Fl.useEffectEvent=Xt;var Rv={readContext:An,use:Gu,useCallback:function(t,i){return Kn().memoizedState=[t,i===void 0?null:i],t},useContext:An,useEffect:uv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,mv.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Qu(4194308,4,t,i)},useInsertionEffect:function(t,i){Qu(4,2,t,i)},useMemo:function(t,i){var s=Kn();i=i===void 0?null:i;var l=t();if(Ds){Fn(!0);try{t()}finally{Fn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Kn();if(s!==void 0){var h=s(i);if(Ds){Fn(!0);try{s(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=SA.bind(null,Qe,t),[l.memoizedState,t]},useRef:function(t){var i=Kn();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,s=Tv.bind(null,Qe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Pf,useDeferredValue:function(t,i){var s=Kn();return Vf(s,t,i)},useTransition:function(){var t=Of(!1);return t=bv.bind(null,Qe,t.queue,!0,!1),Kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Qe,h=Kn();if(lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ct===null)throw Error(a(349));(rt&127)!==0||Xy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,uv(Wy.bind(null,l,f,t),[t]),l.flags|=2048,Ro(9,{destroy:void 0},Yy.bind(null,l,f,s,i),null),s},useId:function(){var t=Kn(),i=Ct.identifierPrefix;if(lt){var s=ci,l=li;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Hu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=bA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:av,useActionState:av,useOptimistic:function(t){var i=Kn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Bf.bind(null,Qe,!0,s),s.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return Kn().memoizedState=AA.bind(null,Qe)},useEffectEvent:function(t){var i=Kn(),s={impl:t};return i.memoizedState=s,function(){if((yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},zf={readContext:An,use:Gu,useCallback:gv,useContext:An,useEffect:Mf,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:Ku,useRef:cv,useState:function(){return Ku(Li)},useDebugValue:Pf,useDeferredValue:function(t,i){var s=Jt();return vv(s,At.memoizedState,t,i)},useTransition:function(){var t=Ku(Li)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Qy,useId:wv,useHostTransitionStatus:Uf,useFormState:sv,useActionState:sv,useOptimistic:function(t,i){var s=Jt();return $y(s,At,t,i)},useMemoCache:If,useCacheRefresh:Ev};zf.useEffectEvent=dv;var Nv={readContext:An,use:Gu,useCallback:gv,useContext:An,useEffect:Mf,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:Df,useRef:cv,useState:function(){return Df(Li)},useDebugValue:Pf,useDeferredValue:function(t,i){var s=Jt();return At===null?Vf(s,t,i):vv(s,At.memoizedState,t,i)},useTransition:function(){var t=Df(Li)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Qy,useId:wv,useHostTransitionStatus:Uf,useFormState:lv,useActionState:lv,useOptimistic:function(t,i){var s=Jt();return At!==null?$y(s,At,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:If,useCacheRefresh:Ev};Nv.useEffectEvent=dv;function Ff(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Hf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=gr(),h=va(l);h.payload=i,s!=null&&(h.callback=s),i=ba(t,h,l),i!==null&&(tr(i,t,l),Pl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=gr(),h=va(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ba(t,h,l),i!==null&&(tr(i,t,l),Pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=gr(),l=va(s);l.tag=2,i!=null&&(l.callback=i),i=ba(t,l,s),i!==null&&(tr(i,t,s),Pl(i,t,s))}};function Cv(t,i,s,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):i.prototype&&i.prototype.isPureReactComponent?!Nl(s,l)||!Nl(h,f):!0}function Iv(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function Os(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function kv(t){Ru(t)}function Dv(t){console.error(t)}function Ov(t){Ru(t)}function Wu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jv(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,i,s){return s=va(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,i)},s}function Mv(t){return t=va(t),t.tag=3,t}function Pv(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){jv(i,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){jv(i,s,l),typeof h!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function RA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&bo(i,s,h,!0),s=hr.current,s!==null){switch(s.tag){case 31:case 13:return Nr===null?ld():s.alternate===null&&Yt===0&&(Yt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Vu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),pm(t,l,h)),!1;case 22:return s.flags|=65536,l===Vu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),pm(t,l,h)),!1}throw Error(a(435,s.tag))}return pm(t,l,h),ld(),!1}if(lt)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cf&&(t=Error(a(422),{cause:l}),kl(Tr(t,s)))):(l!==cf&&(i=Error(a(423),{cause:l}),kl(Tr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tr(l,s),h=qf(t.stateNode,l,h),_f(t,h),Yt!==4&&(Yt=2)),!1;var f=Error(a(520),{cause:l});if(f=Tr(f,s),Wl===null?Wl=[f]:Wl.push(f),Yt!==4&&(Yt=2),i===null)return!0;l=Tr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=qf(s.stateNode,l,t),_f(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Mv(h),Pv(h,t,s,l),_f(s,h),!1}s=s.return}while(s!==null);return!1}var Gf=Error(a(461)),sn=!1;function Sn(t,i,s,l){i.child=t===null?By(i,null,s,l):ks(i,t.child,s,l)}function Vv(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Rs(i),l=Sf(t,i,s,b,f,h),T=Rf(),t!==null&&!sn?(Nf(t,i,h),Ui(t,i,h)):(lt&&T&&of(i),i.flags|=1,Sn(t,i,l,h),i.child)}function Lv(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Uv(t,i,f,l,h)):(t=ku(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!$f(t,h)){var b=f.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(b,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Oi(f,l),t.ref=i.ref,t.return=i,i.child=t}function Uv(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Nl(f,l)&&t.ref===i.ref)if(sn=!1,i.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(sn=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Kf(t,i,s,l,h)}function Bv(t,i,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return zv(t,i,f,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(i,f!==null?f.cachePool:null),f!==null?Hy(i,f):wf(),qy(i);else return l=i.lanes=536870912,zv(t,i,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Mu(i,f.cachePool),Hy(i,f),xa(),i.memoizedState=null):(t!==null&&Mu(i,null),wf(),xa());return Sn(t,i,h,s),i.child}function Hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zv(t,i,s,l,h){var f=gf();return f=f===null?null:{parent:rn._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mu(i,null),wf(),qy(i),t!==null&&bo(t,i,l,!0),i.childLanes=h,null}function Zu(t,i){return i=$u({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Fv(t,i,s){return ks(i,t.child,null,s),t=Zu(i,i.pendingProps),t.flags|=2,fr(i),i.memoizedState=null,t}function NA(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(lt){if(l.mode==="hidden")return t=Zu(i,l),i.lanes=536870912,Hl(null,t);if(Tf(i),(t=Vt)?(t=e0(t,Rr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fa!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Ay(t),s.return=i,i.child=s,Tn=i,Vt=null)):t=null,t===null)throw pa(i);return i.lanes=536870912,null}return Zu(i,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=Fv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(sn||bo(t,i,s,!1),h=(s&t.childLanes)!==0,sn||h){if(l=Ct,l!==null&&(b=B(l,s),b!==0&&b!==f.retryLane))throw f.retryLane=b,Es(t,b),tr(l,t,b),Gf;ld(),i=Fv(t,i,s)}else t=f.treeContext,Vt=Cr(b.nextSibling),Tn=i,lt=!0,ma=null,Rr=!1,t!==null&&Ny(i,t),i=Zu(i,l),i.flags|=4096;return i}return t=Oi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ju(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Kf(t,i,s,l,h){return Rs(i),s=Sf(t,i,s,l,void 0,h),l=Rf(),t!==null&&!sn?(Nf(t,i,h),Ui(t,i,h)):(lt&&l&&of(i),i.flags|=1,Sn(t,i,s,h),i.child)}function Hv(t,i,s,l,h,f){return Rs(i),i.updateQueue=null,s=Ky(i,l,s,h),Gy(t),l=Rf(),t!==null&&!sn?(Nf(t,i,f),Ui(t,i,f)):(lt&&l&&of(i),i.flags|=1,Sn(t,i,s,f),i.child)}function qv(t,i,s,l,h){if(Rs(i),i.stateNode===null){var f=po,b=s.contextType;typeof b=="object"&&b!==null&&(f=An(b)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},vf(i),b=s.contextType,f.context=typeof b=="object"&&b!==null?An(b):po,f.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Ff(i,s,b,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Hf.enqueueReplaceState(f,f.state,null),Ll(i,l,f,h),Vl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,j=Os(s,T);f.props=j;var G=f.context,ee=s.contextType;b=po,typeof ee=="object"&&ee!==null&&(b=An(ee));var ie=s.getDerivedStateFromProps;ee=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||G!==b)&&Iv(i,f,l,b),ya=!1;var Y=i.memoizedState;f.state=Y,Ll(i,l,f,h),Vl(),G=i.memoizedState,T||Y!==G||ya?(typeof ie=="function"&&(Ff(i,s,ie,l),G=i.memoizedState),(j=ya||Cv(i,s,j,l,Y,G,b))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=b,l=j):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,bf(t,i),b=i.memoizedProps,ee=Os(s,b),f.props=ee,ie=i.pendingProps,Y=f.context,G=s.contextType,j=po,typeof G=="object"&&G!==null&&(j=An(G)),T=s.getDerivedStateFromProps,(G=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==ie||Y!==j)&&Iv(i,f,l,j),ya=!1,Y=i.memoizedState,f.state=Y,Ll(i,l,f,h),Vl();var Z=i.memoizedState;b!==ie||Y!==Z||ya||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(Ff(i,s,T,l),Z=i.memoizedState),(ee=ya||Cv(i,s,ee,l,Y,Z,j)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Z,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Z,j)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),f.props=l,f.state=Z,f.context=j,l=ee):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ju(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,s,h)):Sn(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Ui(t,i,h),t}function Gv(t,i,s,l){return As(),i.flags|=256,Sn(t,i,s,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:jy()}}function Yf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=pr),t}function Kv(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(lt){if(h?_a(i):xa(),(t=Vt)?(t=e0(t,Rr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fa!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Ay(t),s.return=i,i.child=s,Tn=i,Vt=null)):t=null,t===null)throw pa(i);return km(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xa(),h=i.mode,T=$u({mode:"hidden",children:T},h),l=Ts(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Xf(s),l.childLanes=Yf(t,b,s),i.memoizedState=Qf,Hl(null,l)):(_a(i),Wf(i,T))}var j=t.memoizedState;if(j!==null&&(T=j.dehydrated,T!==null)){if(f)i.flags&256?(_a(i),i.flags&=-257,i=Zf(t,i,s)):i.memoizedState!==null?(xa(),i.child=t.child,i.flags|=128,i=null):(xa(),T=l.fallback,h=i.mode,l=$u({mode:"visible",children:l.children},h),T=Ts(T,h,s,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ks(i,t.child,null,s),l=i.child,l.memoizedState=Xf(s),l.childLanes=Yf(t,b,s),i.memoizedState=Qf,i=Hl(null,l));else if(_a(i),km(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(a(419)),l.stack="",l.digest=b,kl({value:l,source:null,stack:null}),i=Zf(t,i,s)}else if(sn||bo(t,i,s,!1),b=(s&t.childLanes)!==0,sn||b){if(b=Ct,b!==null&&(l=B(b,s),l!==0&&l!==j.retryLane))throw j.retryLane=l,Es(t,l),tr(b,t,l),Gf;Im(T)||ld(),i=Zf(t,i,s)}else Im(T)?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,Vt=Cr(T.nextSibling),Tn=i,lt=!0,ma=null,Rr=!1,t!==null&&Ny(i,t),i=Wf(i,l.children),i.flags|=4096);return i}return h?(xa(),T=l.fallback,h=i.mode,j=t.child,G=j.sibling,l=Oi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,G!==null?T=Oi(G,T):(T=Ts(T,h,s,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Hl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Xf(s):(h=T.cachePool,h!==null?(j=rn._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=jy(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Yf(t,b,s),i.memoizedState=Qf,Hl(t.child,l)):(_a(i),s=t.child,t=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=s,i.memoizedState=null,s)}function Wf(t,i){return i=$u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $u(t,i){return t=dr(22,t,null,i),t.lanes=0,t}function Zf(t,i,s){return ks(i,t.child,null,s),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hf(t.return,i,s)}function Jf(t,i,s,l,h,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=h,b.treeForkCount=f)}function Xv(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var b=Zt.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,ue(Zt,b),Sn(t,i,l,s),l=lt?Il:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qv(t,s,i);else if(t.tag===19)Qv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Jf(i,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Jf(i,!0,s,null,f,l);break;case"together":Jf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ui(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Ta|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(bo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Oi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Oi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function $f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function CA(t,i,s){switch(i.tag){case 3:vt(i,i.stateNode.containerInfo),ga(i,rn,t.memoizedState.cache),As();break;case 27:case 5:ke(i);break;case 4:vt(i,i.stateNode.containerInfo);break;case 10:ga(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_a(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Kv(t,i,s):(_a(i),t=Ui(t,i,s),t!==null?t.sibling:null);_a(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(bo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Xv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Zt,Zt.current),l)break;return null;case 22:return i.lanes=0,Bv(t,i,s,i.pendingProps);case 24:ga(i,rn,t.memoizedState.cache)}return Ui(t,i,s)}function Yv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)sn=!0;else{if(!$f(t,s)&&(i.flags&128)===0)return sn=!1,CA(t,i,s);sn=(t.flags&131072)!==0}else sn=!1,lt&&(i.flags&1048576)!==0&&Ry(i,Il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Cs(i.elementType),i.type=t,typeof t=="function")rf(t)?(l=Os(t,l),i.tag=1,i=qv(null,i,t,l,s)):(i.tag=0,i=Kf(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ae){i.tag=11,i=Vv(null,i,t,l,s);break e}else if(h===E){i.tag=14,i=Lv(null,i,t,l,s);break e}}throw i=Pe(t)||t,Error(a(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Os(l,i.pendingProps),qv(t,i,l,h,s);case 3:e:{if(vt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,bf(t,i),Ll(i,l,null,s);var b=i.memoizedState;if(l=b.cache,ga(i,rn,l),l!==f.cache&&ff(i,[rn],s,!0),Vl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Gv(t,i,l,s);break e}else if(l!==h){h=Tr(Error(a(424)),i),kl(h),i=Gv(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Vt=Cr(t.firstChild),Tn=i,lt=!0,ma=null,Rr=!0,s=By(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(As(),l===h){i=Ui(t,i,s);break e}Sn(t,i,l,s)}i=i.child}return i;case 26:return Ju(t,i),t===null?(s=s0(i.type,null,i.pendingProps,null))?i.memoizedState=s:lt||(s=i.type,t=i.pendingProps,l=pd(De.current).createElement(s),l[me]=i,l[ye]=t,Rn(l,s,t),Dt(l),i.stateNode=l):i.memoizedState=s0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ke(i),t===null&&lt&&(l=i.stateNode=r0(i.type,i.pendingProps,De.current),Tn=i,Rr=!0,h=Vt,Ca(i.type)?(Dm=h,Vt=Cr(l.firstChild)):Vt=h),Sn(t,i,i.pendingProps.children,s),Ju(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&lt&&((h=l=Vt)&&(l=a1(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,Tn=i,Vt=Cr(l.firstChild),Rr=!1,h=!0):h=!1),h||pa(i)),ke(i),h=i.type,f=i.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,Rm(h,f)?l=null:b!==null&&Rm(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(t,i,_A,null,null,s),ic._currentValue=h),Ju(t,i),Sn(t,i,l,s),i.child;case 6:return t===null&&lt&&((t=s=Vt)&&(s=s1(s,i.pendingProps,Rr),s!==null?(i.stateNode=s,Tn=i,Vt=null,t=!0):t=!1),t||pa(i)),null;case 13:return Kv(t,i,s);case 4:return vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,s):Sn(t,i,l,s),i.child;case 11:return Vv(t,i,i.type,i.pendingProps,s);case 7:return Sn(t,i,i.pendingProps,s),i.child;case 8:return Sn(t,i,i.pendingProps.children,s),i.child;case 12:return Sn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ga(i,i.type,l.value),Sn(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=An(h),l=l(h),i.flags|=1,Sn(t,i,l,s),i.child;case 14:return Lv(t,i,i.type,i.pendingProps,s);case 15:return Uv(t,i,i.type,i.pendingProps,s);case 19:return Xv(t,i,s);case 31:return NA(t,i,s);case 22:return Bv(t,i,s,i.pendingProps);case 24:return Rs(i),l=An(rn),t===null?(h=gf(),h===null&&(h=Ct,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},vf(i),ga(i,rn,h)):((t.lanes&s)!==0&&(bf(t,i),Ll(i,null,null,s),Vl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ga(i,rn,l)):(l=f.cache,ga(i,rn,l),l!==h.cache&&ff(i,[rn],s,!0))),Sn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Bi(t){t.flags|=4}function em(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wb())t.flags|=8192;else throw Is=Vu,yf}else t.flags&=-16777217}function Wv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!d0(i))if(wb())t.flags|=8192;else throw Is=Vu,yf}function ed(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ni():536870912,t.lanes|=i,ko|=i)}function ql(t,i){if(!lt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function IA(t,i,s){var l=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Lt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pi(rn),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),Lt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Bi(i),f!==null?(Lt(i),Wv(i,f)):(Lt(i),em(i,h,null,l,s))):f?f!==t.memoizedState?(Bi(i),Lt(i),Wv(i,f)):(Lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(i),Lt(i),em(i,h,t,l,s)),null;case 27:if(Gt(i),s=De.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}t=le.current,vo(i)?Cy(i):(t=r0(h,l,s),i.stateNode=t,Bi(i))}return Lt(i),null;case 5:if(Gt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}if(f=le.current,vo(i))Cy(i);else{var b=pd(De.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}f[me]=i,f[ye]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=f;e:switch(Rn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bi(i)}}return Lt(i),em(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=De.current,vo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[me]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Kb(t.nodeValue,s)),t||pa(i,!0)}else t=pd(t).createTextNode(l),t[me]=i,i.stateNode=t}return Lt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=vo(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[me]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),t=!1}else s=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(fr(i),i):(fr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=vo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(fr(i),i):(fr(i),null)}return fr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),ed(i,i.updateQueue),Lt(i),null);case 4:return mt(),t===null&&wm(i.stateNode.containerInfo),Lt(i),null;case 10:return Pi(i.type),Lt(i),null;case 19:if(J(Zt),l=i.memoizedState,l===null)return Lt(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)ql(l,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=zu(t),f!==null){for(i.flags|=128,ql(l,!1),t=f.updateQueue,i.updateQueue=t,ed(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ty(s,t),s=s.sibling;return ue(Zt,Zt.current&1|2),lt&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&dt()>ad&&(i.flags|=128,h=!0,ql(l,!1),i.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,ed(i,t),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!lt)return Lt(i),null}else 2*dt()-l.renderingStartTime>ad&&s!==536870912&&(i.flags|=128,h=!0,ql(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=dt(),t.sibling=null,s=Zt.current,ue(Zt,h?s&1|2:s&1),lt&&ji(i,l.treeForkCount),t):(Lt(i),null);case 22:case 23:return fr(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),s=i.updateQueue,s!==null&&ed(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&J(Ns),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Pi(rn),Lt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function kA(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(rn),mt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Gt(i),null;case 31:if(i.memoizedState!==null){if(fr(i),i.alternate===null)throw Error(a(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(fr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(Zt),null;case 4:return mt(),null;case 10:return Pi(i.type),null;case 22:case 23:return fr(i),Ef(),t!==null&&J(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(rn),null;case 25:return null;default:return null}}function Zv(t,i){switch(lf(i),i.tag){case 3:Pi(rn),mt();break;case 26:case 27:case 5:Gt(i);break;case 4:mt();break;case 31:i.memoizedState!==null&&fr(i);break;case 13:fr(i);break;case 19:J(Zt);break;case 10:Pi(i.type);break;case 22:case 23:fr(i),Ef(),t!==null&&J(Ns);break;case 24:Pi(rn)}}function Gl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,b=s.inst;l=f(),b.destroy=l}s=s.next}while(s!==h)}}catch(T){xt(i,i.return,T)}}function wa(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=i;var j=s,G=T;try{G()}catch(ee){xt(h,j,ee)}}}l=l.next}while(l!==f)}}catch(ee){xt(i,i.return,ee)}}function Jv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Fy(i,s)}catch(l){xt(t,t.return,l)}}}function $v(t,i,s){s.props=Os(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){xt(t,i,l)}}function Kl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){xt(t,i,h)}}function ui(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){xt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){xt(t,i,h)}else s.current=null}function eb(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){xt(t,t.return,h)}}function tm(t,i,s){try{var l=t.stateNode;$A(l,t.type,s,i),l[ye]=i}catch(h){xt(t,t.return,h)}}function tb(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Vr));else if(l!==4&&(l===27&&Ca(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(rm(t,i,s),t=t.sibling;t!==null;)rm(t,i,s),t=t.sibling}function td(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ca(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(td(t,i,s),t=t.sibling;t!==null;)td(t,i,s),t=t.sibling}function nb(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rn(i,l,s),i[me]=t,i[ye]=s}catch(f){xt(t,t.return,f)}}var zi=!1,on=!1,im=!1,rb=typeof WeakSet=="function"?WeakSet:Set,bn=null;function DA(t,i){if(t=t.containerInfo,Am=wd,t=py(t),Wh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var b=0,T=-1,j=-1,G=0,ee=0,ie=t,Y=null;t:for(;;){for(var Z;ie!==s||h!==0&&ie.nodeType!==3||(T=b+h),ie!==f||l!==0&&ie.nodeType!==3||(j=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)Y=ie,ie=Z;for(;;){if(ie===t)break t;if(Y===s&&++G===h&&(T=b),Y===f&&++ee===l&&(j=b),(Z=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=Z}s=T===-1||j===-1?null:{start:T,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sm={focusedElem:t,selectionRange:s},wd=!1,bn=i;bn!==null;)if(i=bn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,bn=t;else for(;bn!==null;){switch(i=bn,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var we=Os(s.type,h);t=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){xt(s,s.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Cm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,bn=t;break}bn=i.return}}function ib(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(t,s),l&4&&Gl(5,s);break;case 1:if(Hi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(b){xt(s,s.return,b)}else{var h=Os(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){xt(s,s.return,b)}}l&64&&Jv(s),l&512&&Kl(s,s.return);break;case 3:if(Hi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Fy(t,i)}catch(b){xt(s,s.return,b)}}break;case 27:i===null&&l&4&&nb(s);case 26:case 5:Hi(t,s),i===null&&l&4&&eb(s),l&512&&Kl(s,s.return);break;case 12:Hi(t,s);break;case 31:Hi(t,s),l&4&&ob(t,s);break;case 13:Hi(t,s),l&4&&lb(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zA.bind(null,s),o1(t,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||on,h=zi;var f=on;zi=l,(on=i)&&!f?qi(t,s,(s.subtreeFlags&8772)!==0):Hi(t,s),zi=h,on=f}break;case 30:break;default:Hi(t,s)}}function ab(t){var i=t.alternate;i!==null&&(t.alternate=null,ab(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Pt(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,Zn=!1;function Fi(t,i,s){for(s=s.child;s!==null;)sb(t,i,s),s=s.sibling}function sb(t,i,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ar,s)}catch{}switch(s.tag){case 26:on||ui(s,i),Fi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:on||ui(s,i);var l=qt,h=Zn;Ca(s.type)&&(qt=s.stateNode,Zn=!1),Fi(t,i,s),tc(s.stateNode),qt=l,Zn=h;break;case 5:on||ui(s,i);case 6:if(l=qt,h=Zn,qt=null,Fi(t,i,s),qt=l,Zn=h,qt!==null)if(Zn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(s.stateNode)}catch(f){xt(s,i,f)}else try{qt.removeChild(s.stateNode)}catch(f){xt(s,i,f)}break;case 18:qt!==null&&(Zn?(t=qt,Jb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Uo(t)):Jb(qt,s.stateNode));break;case 4:l=qt,h=Zn,qt=s.stateNode.containerInfo,Zn=!0,Fi(t,i,s),qt=l,Zn=h;break;case 0:case 11:case 14:case 15:wa(2,s,i),on||wa(4,s,i),Fi(t,i,s);break;case 1:on||(ui(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$v(s,i,l)),Fi(t,i,s);break;case 21:Fi(t,i,s);break;case 22:on=(l=on)||s.memoizedState!==null,Fi(t,i,s),on=l;break;default:Fi(t,i,s)}}function ob(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Uo(t)}catch(s){xt(i,i.return,s)}}}function lb(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uo(t)}catch(s){xt(i,i.return,s)}}function OA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new rb),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new rb),i;default:throw Error(a(435,t.tag))}}function nd(t,i){var s=OA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=FA.bind(null,t,l);l.then(h,h)}})}function Jn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ca(T.type)){qt=T.stateNode,Zn=!1;break e}break;case 5:qt=T.stateNode,Zn=!1;break e;case 3:case 4:qt=T.stateNode.containerInfo,Zn=!0;break e}T=T.return}if(qt===null)throw Error(a(160));sb(f,b,h),qt=null,Zn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cb(i,t),i=i.sibling}var Hr=null;function cb(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jn(i,t),$n(t),l&4&&(wa(3,t,t.return),Gl(3,t),wa(5,t,t.return));break;case 1:Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Hr;if(Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wt]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Rn(f,l,s),f[me]=t,Dt(f),l=f;break e;case"link":var b=c0("link","href",h).get(l+(s.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(T,1);break t}}f=h.createElement(l),Rn(f,l,s),h.head.appendChild(f);break;case"meta":if(b=c0("meta","content",h).get(l+(s.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(T,1);break t}}f=h.createElement(l),Rn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[me]=t,Dt(f),l=f}t.stateNode=l}else u0(h,t.type,t.stateNode);else t.stateNode=l0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?u0(h,t.type,t.stateNode):l0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,s.memoizedProps)}break;case 27:Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),s!==null&&l&4&&tm(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Jn(i,t),$n(t),l&512&&(on||s===null||ui(s,s.return)),t.flags&32){h=t.stateNode;try{Wn(h,"")}catch(we){xt(t,t.return,we)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,tm(t,h,s!==null?s.memoizedProps:h)),l&1024&&(im=!0);break;case 6:if(Jn(i,t),$n(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(we){xt(t,t.return,we)}}break;case 3:if(vd=null,h=Hr,Hr=gd(i.containerInfo),Jn(i,t),Hr=h,$n(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Uo(i.containerInfo)}catch(we){xt(t,t.return,we)}im&&(im=!1,ub(t));break;case 4:l=Hr,Hr=gd(t.stateNode.containerInfo),Jn(i,t),$n(t),Hr=l;break;case 12:Jn(i,t),$n(t);break;case 31:Jn(i,t),$n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nd(t,l)));break;case 13:Jn(i,t),$n(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(id=dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nd(t,l)));break;case 22:h=t.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,G=zi,ee=on;if(zi=G||h,on=ee||j,Jn(i,t),on=ee,zi=G,$n(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||j||zi||on||js(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){j=s=i;try{if(f=j.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=j.stateNode;var ie=j.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(we){xt(j,j.return,we)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(we){xt(j,j.return,we)}}}else if(i.tag===18){if(s===null){j=i;try{var Z=j.stateNode;h?$b(Z,!0):$b(j.stateNode,!1)}catch(we){xt(j,j.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,nd(t,s))));break;case 19:Jn(i,t),$n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nd(t,l)));break;case 30:break;case 21:break;default:Jn(i,t),$n(t)}}function $n(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(tb(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=nm(t);td(t,f,h);break;case 5:var b=s.stateNode;s.flags&32&&(Wn(b,""),s.flags&=-33);var T=nm(t);td(t,T,b);break;case 3:case 4:var j=s.stateNode.containerInfo,G=nm(t);rm(t,G,j);break;default:throw Error(a(161))}}catch(ee){xt(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ub(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ub(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ib(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wa(4,i,i.return),js(i);break;case 1:ui(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&$v(i,i.return,s),js(i);break;case 27:tc(i.stateNode);case 26:case 5:ui(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function qi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,b=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,s),Gl(4,f);break;case 1:if(qi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){xt(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)zy(j[h],T)}catch(G){xt(l,l.return,G)}}s&&b&64&&Jv(f),Kl(f,f.return);break;case 27:nb(f);case 26:case 5:qi(h,f,s),s&&l===null&&b&4&&eb(f),Kl(f,f.return);break;case 12:qi(h,f,s);break;case 31:qi(h,f,s),s&&b&4&&ob(h,f);break;case 13:qi(h,f,s),s&&b&4&&lb(h,f);break;case 22:f.memoizedState===null&&qi(h,f,s),Kl(f,f.return);break;case 30:break;default:qi(h,f,s)}i=i.sibling}}function am(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Dl(s))}function sm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t))}function qr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)db(t,i,s,l),i=i.sibling}function db(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qr(t,i,s,l),h&2048&&Gl(9,i);break;case 1:qr(t,i,s,l);break;case 3:qr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){qr(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){xt(i,i.return,j)}}else qr(t,i,s,l);break;case 31:qr(t,i,s,l);break;case 13:qr(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,b=i.alternate,i.memoizedState!==null?f._visibility&2?qr(t,i,s,l):Ql(t,i):f._visibility&2?qr(t,i,s,l):(f._visibility|=2,No(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&am(b,i);break;case 24:qr(t,i,s,l),h&2048&&sm(i.alternate,i);break;default:qr(t,i,s,l)}}function No(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,b=i,T=s,j=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:No(f,b,T,j,h),Gl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?No(f,b,T,j,h):Ql(f,b):(ee._visibility|=2,No(f,b,T,j,h)),h&&G&2048&&am(b.alternate,b);break;case 24:No(f,b,T,j,h),h&&G&2048&&sm(b.alternate,b);break;default:No(f,b,T,j,h)}i=i.sibling}}function Ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Ql(s,l),h&2048&&am(l.alternate,l);break;case 24:Ql(s,l),h&2048&&sm(l.alternate,l);break;default:Ql(s,l)}i=i.sibling}}var Xl=8192;function Co(t,i,s){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)hb(t,i,s),t=t.sibling}function hb(t,i,s){switch(t.tag){case 26:Co(t,i,s),t.flags&Xl&&t.memoizedState!==null&&b1(s,Hr,t.memoizedState,t.memoizedProps);break;case 5:Co(t,i,s);break;case 3:case 4:var l=Hr;Hr=gd(t.stateNode.containerInfo),Co(t,i,s),Hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Co(t,i,s),Xl=l):Co(t,i,s));break;default:Co(t,i,s)}}function fb(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];bn=l,pb(l,t)}fb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mb(t),t=t.sibling}function mb(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&wa(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rd(t)):Yl(t);break;default:Yl(t)}}function rd(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];bn=l,pb(l,t)}fb(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wa(8,i,i.return),rd(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,rd(i));break;default:rd(i)}t=t.sibling}}function pb(t,i){for(;bn!==null;){var s=bn;switch(s.tag){case 0:case 11:case 15:wa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,bn=l;else e:for(s=t;bn!==null;){l=bn;var h=l.sibling,f=l.return;if(ab(l),l===s){bn=null;break e}if(h!==null){h.return=f,bn=h;break e}bn=f}}}var jA={getCacheForType:function(t){var i=An(rn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return An(rn).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ct=null,tt=null,rt=0,_t=0,mr=null,Ea=!1,Io=!1,om=!1,Gi=0,Yt=0,Ta=0,Ms=0,lm=0,pr=0,ko=0,Wl=null,er=null,cm=!1,id=0,gb=0,ad=1/0,sd=null,Aa=null,mn=0,Sa=null,Do=null,Ki=0,um=0,dm=null,yb=null,Zl=0,hm=null;function gr(){return(yt&2)!==0&&rt!==0?rt&-rt:Q.T!==null?vm():he()}function vb(){if(pr===0)if((rt&536870912)===0||lt){var t=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),pr=t}else pr=536870912;return t=hr.current,t!==null&&(t.flags|=32),pr}function tr(t,i,s){(t===Ct&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),Ra(t,rt,pr,!1)),Jr(t,s),((yt&2)===0||t!==Ct)&&(t===Ct&&((yt&2)===0&&(Ms|=s),Yt===4&&Ra(t,rt,pr,!1)),di(t))}function bb(t,i,s){if((yt&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||or(t,i),h=l?LA(t,i):mm(t,i,!0),f=l;do{if(h===0){Io&&!l&&Ra(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!PA(s)){h=mm(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=t;h=Wl;var j=T.current.memoizedState.isDehydrated;if(j&&(Oo(T,b).flags|=256),b=mm(T,b,!1),b!==2){if(om&&!j){T.errorRecoveryDisabledLanes|=f,Ms|=f,h=4;break e}f=er,er=h,f!==null&&(er===null?er=f:er.push.apply(er,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){Oo(t,0),Ra(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ra(l,i,pr,!Ea);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=id+300-dt(),10<h)){if(Ra(l,i,pr,!Ea),sr(l,0,!0)!==0)break e;Ki=i,l.timeoutHandle=Wb(_b.bind(null,l,s,er,sd,cm,i,pr,Ms,ko,Ea,f,"Throttled",-0,0),h);break e}_b(l,s,er,sd,cm,i,pr,Ms,ko,Ea,f,null,-0,0)}}break}while(!0);di(t)}function _b(t,i,s,l,h,f,b,T,j,G,ee,ie,Y,Z){if(t.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vr},hb(i,f,ie);var we=(f&62914560)===f?id-dt():(f&4194048)===f?gb-dt():0;if(we=_1(ie,we),we!==null){Ki=f,t.cancelPendingCommit=we(Nb.bind(null,t,i,f,s,l,h,b,T,j,ee,ie,null,Y,Z)),Ra(t,f,b,!G);return}}Nb(t,i,f,s,l,h,b,T,j)}function PA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!ur(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ra(t,i,s,l){i&=~lm,i&=~Ms,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-zt(h),b=1<<f;l[f]=-1,h&=~b}s!==0&&Ci(t,s,i)}function od(){return(yt&6)===0?(Jl(0),!1):!0}function fm(){if(tt!==null){if(_t===0)var t=tt.return;else t=tt,Mi=Ss=null,Cf(t),Eo=null,jl=0,t=tt;for(;t!==null;)Zv(t.alternate,t),t=t.return;tt=null}}function Oo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,n1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ki=0,fm(),Ct=t,tt=s=Oi(t.current,null),rt=i,_t=0,mr=null,Ea=!1,Io=or(t,i),om=!1,ko=pr=lm=Ms=Ta=Yt=0,er=Wl=null,cm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-zt(l),f=1<<h;i|=t[h],l&=~f}return Gi=i,Nu(),s}function xb(t,i){Qe=null,Q.H=Fl,i===wo||i===Pu?(i=Vy(),_t=3):i===yf?(i=Vy(),_t=4):_t=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,tt===null&&(Yt=1,Wu(t,Tr(i,t.current)))}function wb(){var t=hr.current;return t===null?!0:(rt&4194048)===rt?Nr===null:(rt&62914560)===rt||(rt&536870912)!==0?t===Nr:!1}function Eb(){var t=Q.H;return Q.H=Fl,t===null?Fl:t}function Tb(){var t=Q.A;return Q.A=jA,t}function ld(){Yt=4,Ea||(rt&4194048)!==rt&&hr.current!==null||(Io=!0),(Ta&134217727)===0&&(Ms&134217727)===0||Ct===null||Ra(Ct,rt,pr,!1)}function mm(t,i,s){var l=yt;yt|=2;var h=Eb(),f=Tb();(Ct!==t||rt!==i)&&(sd=null,Oo(t,i)),i=!1;var b=Yt;e:do try{if(_t!==0&&tt!==null){var T=tt,j=mr;switch(_t){case 8:fm(),b=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var G=_t;if(_t=0,mr=null,jo(t,T,j,G),s&&Io){b=0;break e}break;default:G=_t,_t=0,mr=null,jo(t,T,j,G)}}VA(),b=Yt;break}catch(ee){xb(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Mi=Ss=null,yt=l,Q.H=h,Q.A=f,tt===null&&(Ct=null,rt=0,Nu()),b}function VA(){for(;tt!==null;)Ab(tt)}function LA(t,i){var s=yt;yt|=2;var l=Eb(),h=Tb();Ct!==t||rt!==i?(sd=null,ad=dt()+500,Oo(t,i)):Io=or(t,i);e:do try{if(_t!==0&&tt!==null){i=tt;var f=mr;t:switch(_t){case 1:_t=0,mr=null,jo(t,i,f,1);break;case 2:case 9:if(My(f)){_t=0,mr=null,Sb(i);break}i=function(){_t!==2&&_t!==9||Ct!==t||(_t=7),di(t)},f.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:My(f)?(_t=0,mr=null,Sb(i)):(_t=0,mr=null,jo(t,i,f,7));break;case 5:var b=null;switch(tt.tag){case 26:b=tt.memoizedState;case 5:case 27:var T=tt;if(b?d0(b):T.stateNode.complete){_t=0,mr=null;var j=T.sibling;if(j!==null)tt=j;else{var G=T.return;G!==null?(tt=G,cd(G)):tt=null}break t}}_t=0,mr=null,jo(t,i,f,5);break;case 6:_t=0,mr=null,jo(t,i,f,6);break;case 8:fm(),Yt=6;break e;default:throw Error(a(462))}}UA();break}catch(ee){xb(t,ee)}while(!0);return Mi=Ss=null,Q.H=l,Q.A=h,yt=s,tt!==null?0:(Ct=null,rt=0,Nu(),Yt)}function UA(){for(;tt!==null&&!wn();)Ab(tt)}function Ab(t){var i=Yv(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?cd(t):tt=i}function Sb(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Hv(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=Hv(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:Cf(i);default:Zv(s,i),i=tt=Ty(i,Gi),i=Yv(s,i,Gi)}t.memoizedProps=t.pendingProps,i===null?cd(t):tt=i}function jo(t,i,s,l){Mi=Ss=null,Cf(i),Eo=null,jl=0;var h=i.return;try{if(RA(t,h,i,s,rt)){Yt=1,Wu(t,Tr(s,t.current)),tt=null;return}}catch(f){if(h!==null)throw tt=h,f;Yt=1,Wu(t,Tr(s,t.current)),tt=null;return}i.flags&32768?(lt||l===1?t=!0:Io||(rt&536870912)!==0?t=!1:(Ea=t=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rb(i,t)):cd(i)}function cd(t){var i=t;do{if((i.flags&32768)!==0){Rb(i,Ea);return}t=i.return;var s=IA(i.alternate,i,Gi);if(s!==null){tt=s;return}if(i=i.sibling,i!==null){tt=i;return}tt=i=t}while(i!==null);Yt===0&&(Yt=5)}function Rb(t,i){do{var s=kA(t.alternate,t);if(s!==null){s.flags&=32767,tt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){tt=t;return}tt=t=s}while(t!==null);Yt=6,tt=null}function Nb(t,i,s,l,h,f,b,T,j){t.cancelPendingCommit=null;do ud();while(mn!==0);if((yt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=tf,gl(t,s,f,b,T,j),t===Ct&&(tt=Ct=null,rt=0),Do=i,Sa=t,Ki=s,um=f,dm=h,yb=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(Bt,function(){return Ob(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ce.p,ce.p=2,b=yt,yt|=4;try{DA(t,i,s)}finally{yt=b,ce.p=h,Q.T=l}}mn=1,Cb(),Ib(),kb()}}function Cb(){if(mn===1){mn=0;var t=Sa,i=Do,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var h=yt;yt|=4;try{cb(i,t);var f=Sm,b=py(t.containerInfo),T=f.focusedElem,j=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&my(T.ownerDocument.documentElement,T)){if(j!==null&&Wh(T)){var G=j.start,ee=j.end;if(ee===void 0&&(ee=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(ee,T.value.length);else{var ie=T.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),we=T.textContent.length,Ve=Math.min(j.start,we),Rt=j.end===void 0?Ve:Math.min(j.end,we);!Z.extend&&Ve>Rt&&(b=Rt,Rt=Ve,Ve=b);var z=fy(T,Ve),L=fy(T,Rt);if(z&&L&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var q=ie.createRange();q.setStart(z.node,z.offset),Z.removeAllRanges(),Ve>Rt?(Z.addRange(q),Z.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Z.addRange(q))}}}}for(ie=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var te=ie[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}wd=!!Am,Sm=Am=null}finally{yt=h,ce.p=l,Q.T=s}}t.current=i,mn=2}}function Ib(){if(mn===2){mn=0;var t=Sa,i=Do,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var h=yt;yt|=4;try{ib(t,i.alternate,i)}finally{yt=h,ce.p=l,Q.T=s}}mn=3}}function kb(){if(mn===4||mn===3){mn=0,hn();var t=Sa,i=Do,s=Ki,l=yb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Do=Sa=null,Db(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Aa=null),se(s),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ar,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ce.p,ce.p=2,Q.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{Q.T=i,ce.p=h}}(Ki&3)!==0&&ud(),di(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===hm?Zl++:(Zl=0,hm=t):Zl=0,Jl(0)}}function Db(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Dl(i)))}function ud(){return Cb(),Ib(),kb(),Ob()}function Ob(){if(mn!==5)return!1;var t=Sa,i=um;um=0;var s=se(Ki),l=Q.T,h=ce.p;try{ce.p=32>s?32:s,Q.T=null,s=dm,dm=null;var f=Sa,b=Ki;if(mn=0,Do=Sa=null,Ki=0,(yt&6)!==0)throw Error(a(331));var T=yt;if(yt|=4,mb(f.current),db(f,f.current,b,s),yt=T,Jl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ar,f)}catch{}return!0}finally{ce.p=h,Q.T=l,Db(t,i)}}function jb(t,i,s){i=Tr(s,i),i=qf(t.stateNode,i,2),t=ba(t,i,2),t!==null&&(Jr(t,2),di(t))}function xt(t,i,s){if(t.tag===3)jb(t,t,s);else for(;i!==null;){if(i.tag===3){jb(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){t=Tr(s,t),s=Mv(2),l=ba(i,s,2),l!==null&&(Pv(s,l,i,t),Jr(l,2),di(l));break}}i=i.return}}function pm(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new MA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(om=!0,h.add(s),t=BA.bind(null,t,i,s),i.then(t,t))}function BA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ct===t&&(rt&s)===s&&(Yt===4||Yt===3&&(rt&62914560)===rt&&300>dt()-id?(yt&2)===0&&Oo(t,0):lm|=s,ko===rt&&(ko=0)),di(t)}function Mb(t,i){i===0&&(i=Ni()),t=Es(t,i),t!==null&&(Jr(t,i),di(t))}function zA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Mb(t,s)}function FA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Mb(t,s)}function HA(t,i){return pe(t,i)}var dd=null,Mo=null,gm=!1,hd=!1,ym=!1,Na=0;function di(t){t!==Mo&&t.next===null&&(Mo===null?dd=Mo=t:Mo=Mo.next=t),hd=!0,gm||(gm=!0,GA())}function Jl(t,i){if(!ym&&hd){ym=!0;do for(var s=!1,l=dd;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=h&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ub(l,f))}else f=rt,f=sr(l,l===Ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||or(l,f)||(s=!0,Ub(l,f));l=l.next}while(s);ym=!1}}function qA(){Pb()}function Pb(){hd=gm=!1;var t=0;Na!==0&&t1()&&(t=Na);for(var i=dt(),s=null,l=dd;l!==null;){var h=l.next,f=Vb(l,i);f===0?(l.next=null,s===null?dd=h:s.next=h,h===null&&(Mo=s)):(s=l,(t!==0||(f&3)!==0)&&(hd=!0)),l=h}mn!==0&&mn!==5||Jl(t),Na!==0&&(Na=0)}function Vb(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-zt(f),T=1<<b,j=h[b];j===-1?((T&s)===0||(T&l)!==0)&&(h[b]=to(T,i)):j<=i&&(t.expiredLanes|=T),f&=~T}if(i=Ct,s=rt,s=sr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Mt(l),se(s)){case 2:case 8:s=Bn;break;case 32:s=Bt;break;case 268435456:s=Si;break;default:s=Bt}return l=Lb.bind(null,t),s=pe(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Mt(l),t.callbackPriority=2,t.callbackNode=null,2}function Lb(t,i){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ud()&&t.callbackNode!==s)return null;var l=rt;return l=sr(t,t===Ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bb(t,l,i),Vb(t,dt()),t.callbackNode!=null&&t.callbackNode===s?Lb.bind(null,t):null)}function Ub(t,i){if(ud())return null;bb(t,i,!0)}function GA(){r1(function(){(yt&6)!==0?pe(Un,qA):Pb()})}function vm(){if(Na===0){var t=_o;t===0&&(t=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Na=t}return Na}function Bb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function zb(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function KA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Bb((h[ye]||null).action),b=l.submitter;b&&(i=(i=b[ye]||null)?Bb(i.formAction):b.getAttribute("formAction"),i!==null&&(f=i,b=null));var T=new ii("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var j=b?zb(h,b):new FormData(h);Lf(s,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(T.preventDefault(),j=b?zb(h,b):new FormData(h),Lf(s,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var bm=0;bm<ef.length;bm++){var _m=ef[bm],QA=_m.toLowerCase(),XA=_m[0].toUpperCase()+_m.slice(1);Fr(QA,"on"+XA)}Fr(vy,"onAnimationEnd"),Fr(by,"onAnimationIteration"),Fr(_y,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(uA,"onTransitionRun"),Fr(dA,"onTransitionStart"),Fr(hA,"onTransitionCancel"),Fr(xy,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Fb(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],j=T.instance,G=T.currentTarget;if(T=T.listener,j!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(ee){Ru(ee)}h.currentTarget=null,f=j}else for(b=0;b<l.length;b++){if(T=l[b],j=T.instance,G=T.currentTarget,T=T.listener,j!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(ee){Ru(ee)}h.currentTarget=null,f=j}}}}function nt(t,i){var s=i[Oe];s===void 0&&(s=i[Oe]=new Set);var l=t+"__bubble";s.has(l)||(Hb(i,t,2,!1),s.add(l))}function xm(t,i,s){var l=0;i&&(l|=4),Hb(s,t,l,i)}var fd="_reactListening"+Math.random().toString(36).slice(2);function wm(t){if(!t[fd]){t[fd]=!0,Qn.forEach(function(s){s!=="selectionchange"&&(YA.has(s)||xm(s,!1,t),xm(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fd]||(i[fd]=!0,xm("selectionchange",!1,i))}}function Hb(t,i,s,l){switch(v0(i)){case 2:var h=E1;break;case 8:h=T1;break;default:h=Vm}s=h.bind(null,i,s,t),h=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Em(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=It(T),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){l=f=b;continue e}T=T.parentNode}}l=l.return}ca(function(){var G=f,ee=_r(s),ie=[];e:{var Y=wy.get(t);if(Y!==void 0){var Z=ii,we=t;switch(t){case"keypress":if(ys(s)===0)break e;case"keydown":case"keyup":Z=Tu;break;case"focusin":we="focus",Z=bs;break;case"focusout":we="blur",Z=bs;break;case"beforeblur":case"afterblur":Z=bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case vy:case by:case _y:Z=yu;break;case xy:Z=R;break;case"scroll":case"scrollend":Z=El;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Di;break;case"toggle":case"beforetoggle":Z=Ke}var Ve=(i&4)!==0,Rt=!Ve&&(t==="scroll"||t==="scrollend"),z=Ve?Y!==null?Y+"Capture":null:Y;Ve=[];for(var L=G,q;L!==null;){var te=L;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||z===null||(te=Lr(L,z),te!=null&&Ve.push(ec(L,te,q))),Rt)break;L=L.return}0<Ve.length&&(Y=new Z(Y,we,null,s,ee),ie.push({event:Y,listeners:Ve}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Y&&s!==_l&&(we=s.relatedTarget||s.fromElement)&&(It(we)||we[Ee]))break e;if((Z||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(we=s.relatedTarget||s.toElement,Z=G,we=we?It(we):null,we!==null&&(Rt=c(we),Ve=we.tag,we!==Rt||Ve!==5&&Ve!==27&&Ve!==6)&&(we=null)):(Z=null,we=G),Z!==we)){if(Ve=Tl,te="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Di,te="onPointerLeave",z="onPointerEnter",L="pointer"),Rt=Z==null?Y:kt(Z),q=we==null?Y:kt(we),Y=new Ve(te,L+"leave",Z,s,ee),Y.target=Rt,Y.relatedTarget=q,te=null,It(ee)===G&&(Ve=new Ve(z,L+"enter",we,s,ee),Ve.target=q,Ve.relatedTarget=Rt,te=Ve),Rt=te,Z&&we)t:{for(Ve=WA,z=Z,L=we,q=0,te=z;te;te=Ve(te))q++;te=0;for(var je=L;je;je=Ve(je))te++;for(;0<q-te;)z=Ve(z),q--;for(;0<te-q;)L=Ve(L),te--;for(;q--;){if(z===L||L!==null&&z===L.alternate){Ve=z;break t}z=Ve(z),L=Ve(L)}Ve=null}else Ve=null;Z!==null&&qb(ie,Y,Z,Ve,!1),we!==null&&Rt!==null&&qb(ie,Rt,we,Ve,!0)}}e:{if(Y=G?kt(G):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var ht=oy;else if(ay(Y))if(ly)ht=oA;else{ht=aA;var Re=iA}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&ro(G.elementType)&&(ht=oy):ht=sA;if(ht&&(ht=ht(t,G))){sy(ie,ht,s,ee);break e}Re&&Re(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&yl(Y,"number",Y.value)}switch(Re=G?kt(G):window,t){case"focusin":(ay(Re)||Re.contentEditable==="true")&&(ho=Re,Zh=G,Cl=null);break;case"focusout":Cl=Zh=ho=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,gy(ie,s,ee);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":gy(ie,s,ee)}var We;if(gt)e:{switch(t){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else uo?_s(t,s)&&(it="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(it="onCompositionStart");it&&(oi&&s.locale!=="ko"&&(uo||it!=="onCompositionStart"?it==="onCompositionEnd"&&uo&&(We=wl()):(ri=ee,xl="value"in ri?ri.value:ri.textContent,uo=!0)),Re=md(G,it),0<Re.length&&(it=new si(it,t,null,s,ee),ie.push({event:it,listeners:Re}),We?it.data=We:(We=co(s),We!==null&&(it.data=We)))),(We=wr?eA(t,s):tA(t,s))&&(it=md(G,"onBeforeInput"),0<it.length&&(Re=new si("onBeforeInput","beforeinput",null,s,ee),ie.push({event:Re,listeners:it}),Re.data=We)),KA(ie,t,G,s,ee)}Fb(ie,i)})}function ec(t,i,s){return{instance:t,listener:i,currentTarget:s}}function md(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Lr(t,s),h!=null&&l.unshift(ec(t,h,f)),h=Lr(t,i),h!=null&&l.push(ec(t,h,f))),t.tag===3)return l;t=t.return}return[]}function WA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qb(t,i,s,l,h){for(var f=i._reactName,b=[];s!==null&&s!==l;){var T=s,j=T.alternate,G=T.stateNode;if(T=T.tag,j!==null&&j===l)break;T!==5&&T!==26&&T!==27||G===null||(j=G,h?(G=Lr(s,f),G!=null&&b.unshift(ec(s,G,j))):h||(G=Lr(s,f),G!=null&&b.push(ec(s,G,j)))),s=s.return}b.length!==0&&t.push({event:i,listeners:b})}var ZA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(ZA,`
`).replace(JA,"")}function Kb(t,i){return i=Gb(i),Gb(t)===i}function St(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Wn(t,""+l);break;case"className":nn(t,"class",l);break;case"tabIndex":nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nn(t,s,l);break;case"style":bl(t,l,f);break;case"data":if(i!=="object"){nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&St(t,i,"name",h.name,h,null),St(t,i,"formEncType",h.formEncType,h,null),St(t,i,"formMethod",h.formMethod,h,null),St(t,i,"formTarget",h.formTarget,h,null)):(St(t,i,"encType",h.encType,h,null),St(t,i,"method",h.method,h,null),St(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Vr);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=io(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":nt("beforetoggle",t),nt("toggle",t),Kt(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kt(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,Kt(t,s,l))}}function Tm(t,i,s,l,h,f){switch(s){case"style":bl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[ye]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Kt(t,s,l)}}}function Rn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var b=s[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,f,b,s,null)}}h&&St(t,i,"srcSet",s.srcSet,s,null),l&&St(t,i,"src",s.src,s,null);return;case"input":nt("invalid",t);var T=f=b=h=null,j=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var ee=s[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":b=ee;break;case"checked":j=ee;break;case"defaultChecked":G=ee;break;case"value":f=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:St(t,i,l,ee,s,null)}}du(t,f,T,j,G,b,h,!1);return;case"select":nt("invalid",t),l=b=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:St(t,i,h,T,s,null)}i=f,s=b,t.multiple=!!l,i!=null?aa(t,!!l,i,!1):s!=null&&aa(t,!!l,s,!0);return;case"textarea":nt("invalid",t),f=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(T=s[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:St(t,i,b,T,s,null)}sa(t,l,h,f);return;case"option":for(j in s)s.hasOwnProperty(j)&&(l=s[j],l!=null)&&(j==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":St(t,i,j,l,s,null));return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)nt($l[l],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,G,l,s,null)}return;default:if(ro(i)){for(ee in s)s.hasOwnProperty(ee)&&(l=s[ee],l!==void 0&&Tm(t,i,ee,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&St(t,i,T,l,s,null))}function $A(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,T=null,j=null,G=null,ee=null;for(Z in s){var ie=s[Z];if(s.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=ie;default:l.hasOwnProperty(Z)||St(t,i,Z,null,l,ie)}}for(var Y in l){var Z=l[Y];if(ie=s[Y],l.hasOwnProperty(Y)&&(Z!=null||ie!=null))switch(Y){case"type":f=Z;break;case"name":h=Z;break;case"checked":G=Z;break;case"defaultChecked":ee=Z;break;case"value":b=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Z!==ie&&St(t,i,Y,Z,l,ie)}}no(t,b,T,j,G,ee,f,h);return;case"select":Z=b=T=Y=null;for(f in s)if(j=s[f],s.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":Z=j;default:l.hasOwnProperty(f)||St(t,i,f,null,l,j)}for(h in l)if(f=l[h],j=s[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":Y=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==j&&St(t,i,h,f,l,j)}i=T,s=b,l=Z,Y!=null?aa(t,!!s,Y,!1):!!l!=!!s&&(i!=null?aa(t,!!s,i,!0):aa(t,!!s,s?[]:"",!1));return;case"textarea":Z=Y=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:St(t,i,T,null,l,h)}for(b in l)if(h=l[b],f=s[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":Y=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&St(t,i,b,h,l,f)}hu(t,Y,Z);return;case"option":for(var we in s)Y=s[we],s.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we)&&(we==="selected"?t.selected=!1:St(t,i,we,null,l,Y));for(j in l)Y=l[j],Z=s[j],l.hasOwnProperty(j)&&Y!==Z&&(Y!=null||Z!=null)&&(j==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":St(t,i,j,Y,l,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)Y=s[Ve],s.hasOwnProperty(Ve)&&Y!=null&&!l.hasOwnProperty(Ve)&&St(t,i,Ve,null,l,Y);for(G in l)if(Y=l[G],Z=s[G],l.hasOwnProperty(G)&&Y!==Z&&(Y!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:St(t,i,G,Y,l,Z)}return;default:if(ro(i)){for(var Rt in s)Y=s[Rt],s.hasOwnProperty(Rt)&&Y!==void 0&&!l.hasOwnProperty(Rt)&&Tm(t,i,Rt,void 0,l,Y);for(ee in l)Y=l[ee],Z=s[ee],!l.hasOwnProperty(ee)||Y===Z||Y===void 0&&Z===void 0||Tm(t,i,ee,Y,l,Z);return}}for(var z in s)Y=s[z],s.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&St(t,i,z,null,l,Y);for(ie in l)Y=l[ie],Z=s[ie],!l.hasOwnProperty(ie)||Y===Z||Y==null&&Z==null||St(t,i,ie,Y,l,Z)}function Qb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,b=h.initiatorType,T=h.duration;if(f&&T&&Qb(b)){for(b=0,T=h.responseEnd,l+=1;l<s.length;l++){var j=s[l],G=j.startTime;if(G>T)break;var ee=j.transferSize,ie=j.initiatorType;ee&&Qb(ie)&&(j=j.responseEnd,b+=ee*(j<T?1:(T-G)/(j-G)))}if(--l,i+=8*(f+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,Sm=null;function pd(t){return t.nodeType===9?t:t.ownerDocument}function Xb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yb(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nm=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===Nm?!1:(Nm=t,!0):(Nm=null,!1)}var Wb=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(t){return Zb.resolve(null).then(t).catch(i1)}:Wb;function i1(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function Jb(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Uo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")tc(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,tc(s);for(var f=s.firstChild;f;){var b=f.nextSibling,T=f.nodeName;f[wt]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=b}}else s==="body"&&tc(t.ownerDocument.body);s=h}while(s);Uo(i)}function $b(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Cm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cm(s),Pt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function a1(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cr(t.nextSibling),t===null)break}return null}function s1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Cr(t.nextSibling),t===null))return null;return t}function e0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cr(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function km(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dm=null;function t0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Cr(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function n0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function r0(t,i,s){switch(i=pd(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function tc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pt(t)}var Ir=new Map,i0=new Set;function gd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ce.d;ce.d={f:l1,r:c1,D:u1,C:d1,L:h1,m:f1,X:p1,S:m1,M:g1};function l1(){var t=Qi.f(),i=od();return t||i}function c1(t){var i=Xe(t);i!==null&&i.tag===5&&i.type==="form"?xv(i):Qi.r(t)}var Po=typeof document>"u"?null:document;function a0(t,i,s){var l=Po;if(l&&typeof i=="string"&&i){var h=Yn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i0.has(h)||(i0.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Rn(i,"link",t),Dt(i),l.head.appendChild(i)))}}function u1(t){Qi.D(t),a0("dns-prefetch",t,null)}function d1(t,i){Qi.C(t,i),a0("preconnect",t,i)}function h1(t,i,s){Qi.L(t,i,s);var l=Po;if(l&&t&&i){var h='link[rel="preload"][as="'+Yn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Yn(s.imageSizes)+'"]')):h+='[href="'+Yn(t)+'"]';var f=h;switch(i){case"style":f=Vo(t);break;case"script":f=Lo(t)}Ir.has(f)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ir.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(nc(f))||i==="script"&&l.querySelector(rc(f))||(i=l.createElement("link"),Rn(i,"link",t),Dt(i),l.head.appendChild(i)))}}function f1(t,i){Qi.m(t,i);var s=Po;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Yn(l)+'"][href="'+Yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lo(t)}if(!Ir.has(f)&&(t=w({rel:"modulepreload",href:t},i),Ir.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rc(f)))return}l=s.createElement("link"),Rn(l,"link",t),Dt(l),s.head.appendChild(l)}}}function m1(t,i,s){Qi.S(t,i,s);var l=Po;if(l&&t){var h=vn(l).hoistableStyles,f=Vo(t);i=i||"default";var b=h.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(nc(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ir.get(f))&&Om(t,s);var j=b=l.createElement("link");Dt(j),Rn(j,"link",t),j._p=new Promise(function(G,ee){j.onload=G,j.onerror=ee}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yd(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(f,b)}}}function p1(t,i){Qi.X(t,i);var s=Po;if(s&&t){var l=vn(s).hoistableScripts,h=Lo(t),f=l.get(h);f||(f=s.querySelector(rc(h)),f||(t=w({src:t,async:!0},i),(i=Ir.get(h))&&jm(t,i),f=s.createElement("script"),Dt(f),Rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function g1(t,i){Qi.M(t,i);var s=Po;if(s&&t){var l=vn(s).hoistableScripts,h=Lo(t),f=l.get(h);f||(f=s.querySelector(rc(h)),f||(t=w({src:t,async:!0,type:"module"},i),(i=Ir.get(h))&&jm(t,i),f=s.createElement("script"),Dt(f),Rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function s0(t,i,s,l){var h=(h=De.current)?gd(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Vo(s.href),s=vn(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Vo(s.href);var f=vn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(nc(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Ir.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ir.set(t,s),f||y1(h,t,s,b.state))),i&&l===null)throw Error(a(528,""));return b}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lo(s),s=vn(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Vo(t){return'href="'+Yn(t)+'"'}function nc(t){return'link[rel="stylesheet"]['+t+"]"}function o0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Rn(i,"link",s),Dt(i),t.head.appendChild(i))}function Lo(t){return'[src="'+Yn(t)+'"]'}function rc(t){return"script[async]"+t}function l0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Yn(s.href)+'"]');if(l)return i.instance=l,Dt(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Rn(l,"style",h),yd(l,s.precedence,t),i.instance=l;case"stylesheet":h=Vo(s.href);var f=t.querySelector(nc(h));if(f)return i.state.loading|=4,i.instance=f,Dt(f),f;l=o0(s),(h=Ir.get(h))&&Om(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var b=f;return b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),Rn(f,"link",l),i.state.loading|=4,yd(f,s.precedence,t),i.instance=f;case"script":return f=Lo(s.src),(h=t.querySelector(rc(f)))?(i.instance=h,Dt(h),h):(l=s,(h=Ir.get(f))&&(l=w({},s),jm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Rn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yd(l,s.precedence,t));return i.instance}function yd(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vd=null;function c0(t,i,s){if(vd===null){var l=new Map,h=vd=new Map;h.set(s,l)}else h=vd,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[wt]||f[me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(i)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function u0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function v1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function b1(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Vo(l.href),f=i.querySelector(nc(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=bd.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=f,Dt(f);return}f=i.ownerDocument||i,l=o0(l),(h=Ir.get(h))&&Om(l,h),f=f.createElement("link"),Dt(f);var b=f;b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),Rn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=bd.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Mm=0;function _1(t,i){return t.stylesheets&&t.count===0&&xd(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&xd(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Mm===0&&(Mm=62500*e1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xd(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Mm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _d=null;function xd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_d=new Map,i.forEach(x1,t),_d=null,bd.call(t))}function x1(t,i){if(!(i.state.loading&4)){var s=_d.get(t);if(s)var l=s.get(null);else{s=new Map,_d.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),f=s.get(b)||l,f===l&&s.set(null,h),s.set(b,h),this.count++,l=bd.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ic={$$typeof:oe,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function w1(t,i,s,l,h,f,b,T,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function h0(t,i,s,l,h,f,b,T,j,G,ee,ie){return t=new w1(t,i,s,b,j,G,ee,ie,T),i=1,f===!0&&(i|=24),f=dr(3,null,null,i),t.current=f,f.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},vf(f),t}function f0(t){return t?(t=po,t):po}function m0(t,i,s,l,h,f){h=f0(h),l.context===null?l.context=h:l.pendingContext=h,l=va(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ba(t,l,i),s!==null&&(tr(s,t,i),Pl(s,t,i))}function p0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Pm(t,i){p0(t,i),(t=t.alternate)&&p0(t,i)}function g0(t){if(t.tag===13||t.tag===31){var i=Es(t,67108864);i!==null&&tr(i,t,67108864),Pm(t,67108864)}}function y0(t){if(t.tag===13||t.tag===31){var i=gr();i=X(i);var s=Es(t,i);s!==null&&tr(s,t,i),Pm(t,i)}}var wd=!0;function E1(t,i,s,l){var h=Q.T;Q.T=null;var f=ce.p;try{ce.p=2,Vm(t,i,s,l)}finally{ce.p=f,Q.T=h}}function T1(t,i,s,l){var h=Q.T;Q.T=null;var f=ce.p;try{ce.p=8,Vm(t,i,s,l)}finally{ce.p=f,Q.T=h}}function Vm(t,i,s,l){if(wd){var h=Lm(l);if(h===null)Em(t,i,l,Ed,s),b0(t,l);else if(S1(h,t,i,s,l))l.stopPropagation();else if(b0(t,l),i&4&&-1<A1.indexOf(t)){for(;h!==null;){var f=Xe(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=br(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var j=1<<31-zt(b);T.entanglements[1]|=j,b&=~j}di(f),(yt&6)===0&&(ad=dt()+500,Jl(0))}}break;case 31:case 13:T=Es(f,2),T!==null&&tr(T,f,2),od(),Pm(f,2)}if(f=Lm(l),f===null&&Em(t,i,l,Ed,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Em(t,i,l,null,s)}}function Lm(t){return t=_r(t),Um(t)}var Ed=null;function Um(t){if(Ed=null,t=It(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=u(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ed=t,null}function v0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Un:return 2;case Bn:return 8;case Bt:case zn:return 32;case Si:return 268435456;default:return 32}default:return 32}}var Bm=!1,Ia=null,ka=null,Da=null,ac=new Map,sc=new Map,Oa=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(t,i){switch(t){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":ac.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function oc(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Xe(i),i!==null&&g0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function S1(t,i,s,l,h){switch(i){case"focusin":return Ia=oc(Ia,t,i,s,l,h),!0;case"dragenter":return ka=oc(ka,t,i,s,l,h),!0;case"mouseover":return Da=oc(Da,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return ac.set(f,oc(ac.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,sc.set(f,oc(sc.get(f)||null,t,i,s,l,h)),!0}return!1}function _0(t){var i=It(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){t.blockedOn=i,be(t.priority,function(){y0(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,be(t.priority,function(){y0(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Td(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Lm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);_l=l,s.target.dispatchEvent(l),_l=null}else return i=Xe(s),i!==null&&g0(i),t.blockedOn=s,!1;i.shift()}return!0}function x0(t,i,s){Td(t)&&s.delete(i)}function R1(){Bm=!1,Ia!==null&&Td(Ia)&&(Ia=null),ka!==null&&Td(ka)&&(ka=null),Da!==null&&Td(Da)&&(Da=null),ac.forEach(x0),sc.forEach(x0)}function Ad(t,i){t.blockedOn===i&&(t.blockedOn=null,Bm||(Bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,R1)))}var Sd=null;function w0(t){Sd!==t&&(Sd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sd===t&&(Sd=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Um(l||s)===null)continue;break}var f=Xe(s);f!==null&&(t.splice(i,3),i-=3,Lf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Uo(t){function i(j){return Ad(j,t)}Ia!==null&&Ad(Ia,t),ka!==null&&Ad(ka,t),Da!==null&&Ad(Da,t),ac.forEach(i),sc.forEach(i);for(var s=0;s<Oa.length;s++){var l=Oa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oa.length&&(s=Oa[0],s.blockedOn===null);)_0(s),s.blockedOn===null&&Oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],b=h[ye]||null;if(typeof f=="function")b||w0(s);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[ye]||null)T=b.formAction;else if(Um(h)!==null)continue}else T=b.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),w0(s)}}}function E0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zm(t){this._internalRoot=t}Rd.prototype.render=zm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=gr();m0(s,l,t,i,null,null)},Rd.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;m0(t.current,2,null,t,null,null),od(),i[Ee]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var i=he();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Oa.length&&i!==0&&i<Oa[s].priority;s++);Oa.splice(s,0,t),s===0&&_0(t)}};var T0=e.version;if(T0!=="19.2.4")throw Error(a(527,T0,"19.2.4"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var N1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ar=Nd.inject(N1),Nt=Nd}catch{}}return cc.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=kv,f=Dv,b=Ov;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=h0(t,1,!1,null,null,s,l,null,h,f,b,E0),t[Ee]=i.current,wm(t),new zm(i)},cc.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=kv,b=Dv,T=Ov,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(j=s.formState)),i=h0(t,1,!0,i,s??null,l,h,j,f,b,T,E0),i.context=f0(null),s=i.current,l=gr(),l=X(l),h=va(l),h.callback=null,ba(s,h,l),s=l,i.current.lanes=s,Jr(i,s),di(i),t[Ee]=i.current,wm(t),new Rd(i)},cc.version="19.2.4",cc}var j0;function z1(){if(j0)return qm.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=B1(),qm.exports}var F1=z1();var Kx=r=>{throw TypeError(r)},H1=(r,e,n)=>e.has(r)||Kx("Cannot "+n),Xm=(r,e,n)=>(H1(r,e,"read from private field"),n?n.call(r):e.get(r)),q1=(r,e,n)=>e.has(r)?Kx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),M0="popstate";function G1(r={}){function e(a,o){let{pathname:c,search:u,hash:m}=a.location;return Cc("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:xi(o)}return Q1(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substring(2,10)}function P0(r,e){return{usr:r.state,key:r.key,idx:e}}function Cc(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:n,key:e&&e.key||a||K1()}}function xi({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function is(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Q1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,u=o.history,m="POP",y=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function w(){m="POP";let K=_(),ne=K==null?null:K-g;g=K,y&&y({action:m,location:F.location,delta:ne})}function A(K,ne){m="PUSH";let $=Cc(F.location,K,ne);g=_()+1;let oe=P0($,g),Ae=F.createHref($);try{u.pushState(oe,"",Ae)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(Ae)}c&&y&&y({action:m,location:F.location,delta:1})}function S(K,ne){m="REPLACE";let $=Cc(F.location,K,ne);g=_();let oe=P0($,g),Ae=F.createHref($);u.replaceState(oe,"",Ae),c&&y&&y({action:m,location:F.location,delta:0})}function k(K){return Qx(K)}let F={get action(){return m},get location(){return r(o,u)},listen(K){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(M0,w),y=K,()=>{o.removeEventListener(M0,w),y=null}},createHref(K){return e(o,K)},createURL:k,encodeLocation(K){let ne=k(K);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:S,go(K){return u.go(K)}};return F}function Qx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:xi(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var mc,V0=class{constructor(r){if(q1(this,mc,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Xm(this,mc).has(r))return Xm(this,mc).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Xm(this,mc).set(r,e)}};mc=new WeakMap;var X1=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y1(r){return X1.has(r)}var W1=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Z1(r){return W1.has(r)}function J1(r){return r.index===!0}function Ic(r,e,n=[],a={},o=!1){return r.map((c,u)=>{let m=[...n,String(u)],y=typeof c.id=="string"?c.id:m.join("-");if(Je(c.index!==!0||!c.children,"Cannot specify children on an index route"),Je(o||!a[y],`Found a route id collision on id "${y}".  Route id's must be globally unique within Data Router usages`),J1(c)){let g={...c,id:y};return a[y]=L0(g,e(g)),g}else{let g={...c,id:y,children:void 0};return a[y]=L0(g,e(g)),c.children&&(g.children=Ic(c.children,e,m,a,o)),g}})}function L0(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function Pa(r,e,n="/"){return pc(r,e,n,!1)}function pc(r,e,n,a){let o=typeof e=="string"?is(e):e,c=jr(o.pathname||"/",n);if(c==null)return null;let u=Xx(r);eS(u);let m=null;for(let y=0;m==null&&y<u.length;++y){let g=dS(c);m=cS(u[y],g,a)}return m}function $1(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Xx(r,e=[],n=[],a="",o=!1){let c=(u,m,y=o,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&y)return;Je(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let w=fi([a,_.relativePath]),A=n.concat(_);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Xx(u.children,e,A,w,y)),!(u.path==null&&!u.index)&&e.push({path:w,score:oS(w,u.index),routesMeta:A})};return r.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let y of Yx(u.path))c(u,m,!0,y)}),e}function Yx(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let u=Yx(a.join("/")),m=[];return m.push(...u.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...u),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function eS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:lS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var tS=/^:[\w-]+$/,nS=3,rS=2,iS=1,aS=10,sS=-2,U0=r=>r==="*";function oS(r,e){let n=r.split("/"),a=n.length;return n.some(U0)&&(a+=sS),e&&(a+=rS),n.filter(o=>!U0(o)).reduce((o,c)=>o+(tS.test(c)?nS:c===""?iS:aS),a)}function lS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function cS(r,e,n=!1){let{routesMeta:a}=r,o={},c="/",u=[];for(let m=0;m<a.length;++m){let y=a[m],g=m===a.length-1,_=c==="/"?e:e.slice(c.length)||"/",w=eh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},_),A=y.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=eh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:fi([c,w.pathname]),pathnameBase:mS(fi([c,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(c=fi([c,w.pathnameBase]))}return u}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=uS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:w},A)=>{if(_==="*"){let k=m[A]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const S=m[A];return w&&!S?g[_]=void 0:g[_]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:r}}function uS(r,e=!1,n=!0){dn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function dS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function hS({basename:r,pathname:e}){return e==="/"?r:fi([r,e])}var Wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xp=r=>Wx.test(r);function fS(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?is(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=B0(n.substring(1),"/"):c=B0(n,e)):c=e,{pathname:c,search:pS(a),hash:gS(o)}}function B0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zx(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yp(r){let e=Zx(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Wp(r,e,n,a=!1){let o;typeof r=="string"?o=is(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let w=e.length-1;if(!a&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let y=fS(o,m),g=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||_)&&(y.pathname+="/"),y}var fi=r=>r.join("/").replace(/\/\/+/g,"/"),mS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Gc=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Kc(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $x(r,e){let n=r;if(typeof n!="string"||!Wx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(Jx)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=jr(u.pathname,e);u.origin===c.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}var Fa=Symbol("Uninstrumented");function yS(r,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(c){let u=Object.keys(n);for(let m of u)c[m]&&n[m].push(c[m])}}));let a={};if(typeof e.lazy=="function"&&n.lazy.length>0){let o=Go(n.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(c=>{let u=o[c],m=n[`lazy.${c}`];if(typeof u=="function"&&m.length>0){let y=Go(m,u,()=>{});y&&(a.lazy=Object.assign(a.lazy||{},{[c]:y}))}})}return["loader","action"].forEach(o=>{let c=e[o];if(typeof c=="function"&&n[o].length>0){let u=c[Fa]??c,m=Go(n[o],u,(...y)=>z0(y[0]));m&&(o==="loader"&&u.hydrate===!0&&(m.hydrate=!0),m[Fa]=u,a[o]=m)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let c=o[Fa]??o,u=Go(n.middleware,c,(...m)=>z0(m[0]));return u?(u[Fa]=c,u):o})),a}function vS(r,e){let n={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let c=Object.keys(o);for(let u of c)o[u]&&n[u].push(o[u])}})),n.navigate.length>0){let a=r.navigate[Fa]??r.navigate,o=Go(n.navigate,a,(...c)=>{let[u,m]=c;return{to:typeof u=="number"||typeof u=="string"?u:u?xi(u):".",...F0(r,m??{})}});o&&(o[Fa]=a,r.navigate=o)}if(n.fetch.length>0){let a=r.fetch[Fa]??r.fetch,o=Go(n.fetch,a,(...c)=>{let[u,,m,y]=c;return{href:m??".",fetcherKey:u,...F0(r,y??{})}});o&&(o[Fa]=a,r.fetch=o)}return r}function Go(r,e,n){return r.length===0?null:async(...a)=>{let o=await ew(r,n(...a),()=>e(...a),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function ew(r,e,n,a){let o=r[a],c;if(o){let u,m=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=ew(r,e,n,a-1),c=await u,Je(c,"Expected a result"),c.type==="error"&&c.value instanceof Error?{status:"error",error:c.value}:{status:"success",error:void 0});try{await o(m,e)}catch(y){console.error("An instrumentation function threw an error:",y)}u||await m(),await u}else try{c={type:"success",value:await n()}}catch(u){c={type:"error",value:u}}return c||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function z0(r){let{request:e,context:n,params:a,unstable_pattern:o}=r;return{request:bS(e),params:{...a},unstable_pattern:o,context:_S(n)}}function F0(r,e){return{currentUrl:xi(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function bS(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function _S(r){if(wS(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var xS=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wS(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===xS}var tw=["POST","PUT","PATCH","DELETE"],ES=new Set(tw),TS=["GET",...tw],AS=new Set(TS),nw=new Set([301,302,303,307,308]),SS=new Set([307,308]),Wm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},NS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),rw="remix-router-transitions",iw=Symbol("ResetLoaderData");function CS(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||NS,c=o;if(r.unstable_instrumentations){let O=r.unstable_instrumentations;c=B=>({...o(B),...yS(O.map(X=>X.route).filter(Boolean),B)})}let u={},m=Ic(r.routes,c,void 0,u),y,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=r.dataStrategy||jS,w={...r.future},A=null,S=new Set,k=null,F=null,K=null,ne=r.hydrationData!=null,$=Pa(m,r.history.location,g),oe=!1,Ae=null,Se;if($==null&&!r.patchRoutesOnNavigation){let O=kr(404,{pathname:r.history.location.pathname}),{matches:B,route:X}=Cd(m);Se=!0,$=B,Ae={[X.id]:O}}else if($&&!r.hydrationData&&Ni($,m,r.history.location.pathname).active&&($=null),$)if($.some(O=>O.route.lazy))Se=!1;else if(!$.some(O=>Zp(O.route)))Se=!0;else{let O=r.hydrationData?r.hydrationData.loaderData:null,B=r.hydrationData?r.hydrationData.errors:null;if(B){let X=$.findIndex(se=>B[se.route.id]!==void 0);Se=$.slice(0,X+1).every(se=>!mp(se.route,O,B))}else Se=$.every(X=>!mp(X.route,O,B))}else{Se=!1,$=[];let O=Ni(null,m,r.history.location.pathname);O.active&&O.matches&&(oe=!0,$=O.matches)}let Te,E={historyAction:r.history.action,location:r.history.location,matches:$,initialized:Se,navigation:Wm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Ae,fetchers:new Map,blockers:new Map},N="POP",C=null,P=!1,D,U=!1,I=new Map,Pe=null,Ne=!1,Q=!1,ce=new Set,de=new Map,Ie=0,Le=-1,M=new Map,J=new Set,ue=new Map,le=new Map,xe=new Set,De=new Map,Fe,vt=null;function mt(){if(A=r.history.listen(({action:O,location:B,delta:X})=>{if(Fe){Fe(),Fe=void 0;return}dn(De.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Zr({currentLocation:E.location,nextLocation:B,historyAction:O});if(se&&X!=null){let he=new Promise(be=>{Fe=be});r.history.go(X*-1),Hn(se,{state:"blocked",location:B,proceed(){Hn(se,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),he.then(()=>r.history.go(X))},reset(){let be=new Map(E.blockers);be.set(se,uc),Ue({blockers:be})}}),C?.resolve(),C=null;return}return xn(O,B)}),n){JS(e,I);let O=()=>$S(e,I);e.addEventListener("pagehide",O),Pe=()=>e.removeEventListener("pagehide",O)}return E.initialized||xn("POP",E.location,{initialHydration:!0}),Te}function ke(){A&&A(),Pe&&Pe(),S.clear(),D&&D.abort(),E.fetchers.forEach((O,B)=>na(B)),E.blockers.forEach((O,B)=>ds(B))}function Gt(O){return S.add(O),()=>S.delete(O)}function Ue(O,B={}){O.matches&&(O.matches=O.matches.map(he=>{let be=u[he.route.id],ge=he.route;return ge.element!==be.element||ge.errorElement!==be.errorElement||ge.hydrateFallbackElement!==be.hydrateFallbackElement?{...he,route:be}:he})),E={...E,...O};let X=[],se=[];E.fetchers.forEach((he,be)=>{he.state==="idle"&&(xe.has(be)?X.push(be):se.push(be))}),xe.forEach(he=>{!E.fetchers.has(he)&&!de.has(he)&&X.push(he)}),[...S].forEach(he=>he(E,{deletedFetchers:X,newErrors:O.errors??null,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),X.forEach(he=>na(he)),se.forEach(he=>E.fetchers.delete(he))}function gn(O,B,{flushSync:X}={}){let se=E.actionData!=null&&E.navigation.formMethod!=null&&Mn(E.navigation.formMethod)&&E.navigation.state==="loading"&&O.state?._isRedirect!==!0,he;B.actionData?Object.keys(B.actionData).length>0?he=B.actionData:he=null:se?he=E.actionData:he=null;let be=B.loaderData?J0(E.loaderData,B.loaderData,B.matches||[],B.errors):E.loaderData,ge=E.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Oe,Ce)=>ge.set(Ce,uc)));let me=Ne?!1:to(O,B.matches||E.matches),ye=P===!0||E.navigation.formMethod!=null&&Mn(E.navigation.formMethod)&&O.state?._isRedirect!==!0;y&&(m=y,y=void 0),Ne||N==="POP"||(N==="PUSH"?r.history.push(O,O.state):N==="REPLACE"&&r.history.replace(O,O.state));let Ee;if(N==="POP"){let Oe=I.get(E.location.pathname);Oe&&Oe.has(O.pathname)?Ee={currentLocation:E.location,nextLocation:O}:I.has(O.pathname)&&(Ee={currentLocation:O,nextLocation:E.location})}else if(U){let Oe=I.get(E.location.pathname);Oe?Oe.add(O.pathname):(Oe=new Set([O.pathname]),I.set(E.location.pathname,Oe)),Ee={currentLocation:E.location,nextLocation:O}}Ue({...B,actionData:he,loaderData:be,historyAction:N,location:O,initialized:!0,navigation:Wm,revalidation:"idle",restoreScrollPosition:me,preventScrollReset:ye,blockers:ge},{viewTransitionOpts:Ee,flushSync:X===!0}),N="POP",P=!1,U=!1,Ne=!1,Q=!1,C?.resolve(),C=null,vt?.resolve(),vt=null}async function yn(O,B){if(C?.resolve(),C=null,typeof O=="number"){C||(C=n_());let et=C.promise;return r.history.go(O),et}let X=fp(E.location,E.matches,g,O,B?.fromRouteId,B?.relative),{path:se,submission:he,error:be}=H0(!1,X,B),ge=E.location,me=Cc(E.location,se,B&&B.state);me={...me,...r.history.encodeLocation(me)};let ye=B&&B.replace!=null?B.replace:void 0,Ee="PUSH";ye===!0?Ee="REPLACE":ye===!1||he!=null&&Mn(he.formMethod)&&he.formAction===E.location.pathname+E.location.search&&(Ee="REPLACE");let Oe=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Ce=(B&&B.flushSync)===!0,$e=Zr({currentLocation:ge,nextLocation:me,historyAction:Ee});if($e){Hn($e,{state:"blocked",location:me,proceed(){Hn($e,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),yn(O,B)},reset(){let et=new Map(E.blockers);et.set($e,uc),Ue({blockers:et})}});return}await xn(Ee,me,{submission:he,pendingError:be,preventScrollReset:Oe,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Ce,callSiteDefaultShouldRevalidate:B&&B.unstable_defaultShouldRevalidate})}function Pr(){vt||(vt=n_()),Bn(),Ue({revalidation:"loading"});let O=vt.promise;return E.navigation.state==="submitting"?O:E.navigation.state==="idle"?(xn(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),O):(xn(N||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:U===!0}),O)}async function xn(O,B,X){D&&D.abort(),D=null,N=O,Ne=(X&&X.startUninterruptedRevalidation)===!0,or(E.location,E.matches),P=(X&&X.preventScrollReset)===!0,U=(X&&X.enableViewTransition)===!0;let se=y||m,he=X&&X.overrideNavigation,be=X?.initialHydration&&E.matches&&E.matches.length>0&&!oe?E.matches:Pa(se,B,g),ge=(X&&X.flushSync)===!0;if(be&&E.initialized&&!Q&&FS(E.location,B)&&!(X&&X.submission&&Mn(X.submission.formMethod))){gn(B,{matches:be},{flushSync:ge});return}let me=Ni(be,se,B.pathname);if(me.active&&me.matches&&(be=me.matches),!be){let{error:Pt,notFoundMatches:It,route:Xe}=Ft(B.pathname);gn(B,{matches:It,loaderData:{},errors:{[Xe.id]:Pt}},{flushSync:ge});return}D=new AbortController;let ye=Bo(r.history,B,D.signal,X&&X.submission),Ee=r.getContext?await r.getContext():new V0,Oe;if(X&&X.pendingError)Oe=[Va(be).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Mn(X.submission.formMethod)){let Pt=await Ti(ye,B,X.submission,be,Ee,me.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:ge});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[It,Xe]=Pt.pendingActionResult;if(yr(Xe)&&kc(Xe.error)&&Xe.error.status===404){D=null,gn(B,{matches:Pt.matches,loaderData:{},errors:{[It]:Xe.error}});return}}be=Pt.matches||be,Oe=Pt.pendingActionResult,he=Zm(B,X.submission),ge=!1,me.active=!1,ye=Bo(r.history,ye.url,ye.signal)}let{shortCircuited:Ce,matches:$e,loaderData:et,errors:wt}=await Ai(ye,B,be,Ee,me.active,he,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,ge,Oe,X&&X.callSiteDefaultShouldRevalidate);Ce||(D=null,gn(B,{matches:$e||be,...$0(Oe),loaderData:et,errors:wt}))}async function Ti(O,B,X,se,he,be,ge,me={}){Bn();let ye=WS(B,X);if(Ue({navigation:ye},{flushSync:me.flushSync===!0}),be){let Ce=await qn(se,B.pathname,O.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){if(Ce.partialMatches.length===0){let{matches:et,route:wt}=Cd(m);return{matches:et,pendingActionResult:[wt.id,{type:"error",error:Ce.error}]}}let $e=Va(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[$e,{type:"error",error:Ce.error}]}}else if(Ce.matches)se=Ce.matches;else{let{notFoundMatches:$e,error:et,route:wt}=Ft(B.pathname);return{matches:$e,pendingActionResult:[wt.id,{type:"error",error:et}]}}}let Ee,Oe=zd(se,B);if(!Oe.route.action&&!Oe.route.lazy)Ee={type:"error",error:kr(405,{method:O.method,pathname:B.pathname,routeId:Oe.route.id})};else{let Ce=Qo(c,u,O,se,Oe,ge?[]:a,he),$e=await fn(O,Ce,he,null);if(Ee=$e[Oe.route.id],!Ee){for(let et of se)if($e[et.route.id]){Ee=$e[et.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Us(Ee)){let Ce;return me&&me.replace!=null?Ce=me.replace:Ce=Y0(Ee.response.headers.get("Location"),new URL(O.url),g,r.history)===E.location.pathname+E.location.search,await dt(O,Ee,!0,{submission:X,replace:Ce}),{shortCircuited:!0}}if(yr(Ee)){let Ce=Va(se,Oe.route.id);return(me&&me.replace)!==!0&&(N="PUSH"),{matches:se,pendingActionResult:[Ce.route.id,Ee,Oe.route.id]}}return{matches:se,pendingActionResult:[Oe.route.id,Ee]}}async function Ai(O,B,X,se,he,be,ge,me,ye,Ee,Oe,Ce,$e){let et=be||Zm(B,ge),wt=ge||me||t_(et),Pt=!Ne&&!Ee;if(he){if(Pt){let Kt=jt(Ce);Ue({navigation:et,...Kt!==void 0?{actionData:Kt}:{}},{flushSync:Oe})}let Ze=await qn(X,B.pathname,O.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:nn,route:Et}=Cd(m);return{matches:nn,loaderData:{},errors:{[Et.id]:Ze.error}}}let Kt=Va(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[Kt]:Ze.error}}}else if(Ze.matches)X=Ze.matches;else{let{error:Kt,notFoundMatches:nn,route:Et}=Ft(B.pathname);return{matches:nn,loaderData:{},errors:{[Et.id]:Kt}}}}let It=y||m,{dsMatches:Xe,revalidatingFetchers:kt}=q0(O,se,c,u,r.history,E,X,wt,B,Ee?[]:a,Ee===!0,Q,ce,xe,ue,J,It,g,r.patchRoutesOnNavigation!=null,Ce,$e);if(Le=++Ie,!r.dataStrategy&&!Xe.some(Ze=>Ze.shouldLoad)&&!Xe.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&kt.length===0){let Ze=zt();return gn(B,{matches:X,loaderData:{},errors:Ce&&yr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...$0(Ce),...Ze?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Pt){let Ze={};if(!he){Ze.navigation=et;let Kt=jt(Ce);Kt!==void 0&&(Ze.actionData=Kt)}kt.length>0&&(Ze.fetchers=pe(kt)),Ue(Ze,{flushSync:Oe})}kt.forEach(Ze=>{Nt(Ze.key),Ze.controller&&de.set(Ze.key,Ze.controller)});let vn=()=>kt.forEach(Ze=>Nt(Ze.key));D&&D.signal.addEventListener("abort",vn);let{loaderResults:Dt,fetcherResults:Qn}=await Un(Xe,kt,O,se);if(O.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",vn),kt.forEach(Ze=>de.delete(Ze.key));let kn=Id(Dt);if(kn)return await dt(O,kn.result,!0,{replace:ye}),{shortCircuited:!0};if(kn=Id(Qn),kn)return J.add(kn.key),await dt(O,kn.result,!0,{replace:ye}),{shortCircuited:!0};let{loaderData:Xn,errors:Dn}=Z0(E,X,Dt,Ce,kt,Qn);Ee&&E.errors&&(Dn={...E.errors,...Dn});let lr=zt(),$r=us(Le),ei=lr||$r||kt.length>0;return{matches:X,loaderData:Xn,errors:Dn,...ei?{fetchers:new Map(E.fetchers)}:{}}}function jt(O){if(O&&!yr(O[1]))return{[O[0]]:O[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function pe(O){return O.forEach(B=>{let X=E.fetchers.get(B.key),se=dc(void 0,X?X.data:void 0);E.fetchers.set(B.key,se)}),new Map(E.fetchers)}async function Mt(O,B,X,se){Nt(O);let he=(se&&se.flushSync)===!0,be=y||m,ge=fp(E.location,E.matches,g,X,B,se?.relative),me=Pa(be,ge,g),ye=Ni(me,be,ge);if(ye.active&&ye.matches&&(me=ye.matches),!me){zn(O,B,kr(404,{pathname:ge}),{flushSync:he});return}let{path:Ee,submission:Oe,error:Ce}=H0(!0,ge,se);if(Ce){zn(O,B,Ce,{flushSync:he});return}let $e=r.getContext?await r.getContext():new V0,et=(se&&se.preventScrollReset)===!0;if(Oe&&Mn(Oe.formMethod)){await wn(O,B,Ee,me,$e,ye.active,he,et,Oe,se&&se.unstable_defaultShouldRevalidate);return}ue.set(O,{routeId:B,path:Ee}),await hn(O,B,Ee,me,$e,ye.active,he,et,Oe)}async function wn(O,B,X,se,he,be,ge,me,ye,Ee){Bn(),ue.delete(O);let Oe=E.fetchers.get(O);Bt(O,ZS(ye,Oe),{flushSync:ge});let Ce=new AbortController,$e=Bo(r.history,X,Ce.signal,ye);if(be){let Ye=await qn(se,new URL($e.url).pathname,$e.signal,O);if(Ye.type==="aborted")return;if(Ye.type==="error"){zn(O,B,Ye.error,{flushSync:ge});return}else if(Ye.matches)se=Ye.matches;else{zn(O,B,kr(404,{pathname:X}),{flushSync:ge});return}}let et=zd(se,X);if(!et.route.action&&!et.route.lazy){let Ye=kr(405,{method:ye.formMethod,pathname:X,routeId:B});zn(O,B,Ye,{flushSync:ge});return}de.set(O,Ce);let wt=Ie,Pt=Qo(c,u,$e,se,et,a,he),It=await fn($e,Pt,he,O),Xe=It[et.route.id];if(!Xe){for(let Ye of Pt)if(It[Ye.route.id]){Xe=It[Ye.route.id];break}}if($e.signal.aborted){de.get(O)===Ce&&de.delete(O);return}if(xe.has(O)){if(Us(Xe)||yr(Xe)){Bt(O,Xi(void 0));return}}else{if(Us(Xe))if(de.delete(O),Le>wt){Bt(O,Xi(void 0));return}else return J.add(O),Bt(O,dc(ye)),dt($e,Xe,!1,{fetcherSubmission:ye,preventScrollReset:me});if(yr(Xe)){zn(O,B,Xe.error);return}}let kt=E.navigation.location||E.location,vn=Bo(r.history,kt,Ce.signal),Dt=y||m,Qn=E.navigation.state!=="idle"?Pa(Dt,E.navigation.location,g):E.matches;Je(Qn,"Didn't find any matches after fetcher action");let kn=++Ie;M.set(O,kn);let Xn=dc(ye,Xe.data);E.fetchers.set(O,Xn);let{dsMatches:Dn,revalidatingFetchers:lr}=q0(vn,he,c,u,r.history,E,Qn,ye,kt,a,!1,Q,ce,xe,ue,J,Dt,g,r.patchRoutesOnNavigation!=null,[et.route.id,Xe],Ee);lr.filter(Ye=>Ye.key!==O).forEach(Ye=>{let cr=Ye.key,ia=E.fetchers.get(cr),pt=dc(void 0,ia?ia.data:void 0);E.fetchers.set(cr,pt),Nt(cr),Ye.controller&&de.set(cr,Ye.controller)}),Ue({fetchers:new Map(E.fetchers)});let $r=()=>lr.forEach(Ye=>Nt(Ye.key));Ce.signal.addEventListener("abort",$r);let{loaderResults:ei,fetcherResults:Ze}=await Un(Dn,lr,vn,he);if(Ce.signal.aborted)return;if(Ce.signal.removeEventListener("abort",$r),M.delete(O),de.delete(O),lr.forEach(Ye=>de.delete(Ye.key)),E.fetchers.has(O)){let Ye=Xi(Xe.data);E.fetchers.set(O,Ye)}let Kt=Id(ei);if(Kt)return dt(vn,Kt.result,!1,{preventScrollReset:me});if(Kt=Id(Ze),Kt)return J.add(Kt.key),dt(vn,Kt.result,!1,{preventScrollReset:me});let{loaderData:nn,errors:Et}=Z0(E,Qn,ei,void 0,lr,Ze);us(kn),E.navigation.state==="loading"&&kn>Le?(Je(N,"Expected pending action"),D&&D.abort(),gn(E.navigation.location,{matches:Qn,loaderData:nn,errors:Et,fetchers:new Map(E.fetchers)})):(Ue({errors:Et,loaderData:J0(E.loaderData,nn,Qn,Et),fetchers:new Map(E.fetchers)}),Q=!1)}async function hn(O,B,X,se,he,be,ge,me,ye){let Ee=E.fetchers.get(O);Bt(O,dc(ye,Ee?Ee.data:void 0),{flushSync:ge});let Oe=new AbortController,Ce=Bo(r.history,X,Oe.signal);if(be){let Xe=await qn(se,new URL(Ce.url).pathname,Ce.signal,O);if(Xe.type==="aborted")return;if(Xe.type==="error"){zn(O,B,Xe.error,{flushSync:ge});return}else if(Xe.matches)se=Xe.matches;else{zn(O,B,kr(404,{pathname:X}),{flushSync:ge});return}}let $e=zd(se,X);de.set(O,Oe);let et=Ie,wt=Qo(c,u,Ce,se,$e,a,he),It=(await fn(Ce,wt,he,O))[$e.route.id];if(de.get(O)===Oe&&de.delete(O),!Ce.signal.aborted){if(xe.has(O)){Bt(O,Xi(void 0));return}if(Us(It))if(Le>et){Bt(O,Xi(void 0));return}else{J.add(O),await dt(Ce,It,!1,{preventScrollReset:me});return}if(yr(It)){zn(O,B,It.error);return}Bt(O,Xi(It.data))}}async function dt(O,B,X,{submission:se,fetcherSubmission:he,preventScrollReset:be,replace:ge}={}){X||(C?.resolve(),C=null),B.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let me=B.response.headers.get("Location");Je(me,"Expected a Location header on the redirect Response"),me=Y0(me,new URL(O.url),g,r.history);let ye=Cc(E.location,me,{_isRedirect:!0});if(n){let wt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Xp(me)){const Pt=Qx(me,!0);wt=Pt.origin!==e.location.origin||jr(Pt.pathname,g)==null}if(wt){ge?e.location.replace(me):e.location.assign(me);return}}D=null;let Ee=ge===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Ce,formEncType:$e}=E.navigation;!se&&!he&&Oe&&Ce&&$e&&(se=t_(E.navigation));let et=se||he;if(SS.has(B.response.status)&&et&&Mn(et.formMethod))await xn(Ee,ye,{submission:{...et,formAction:me},preventScrollReset:be||P,enableViewTransition:X?U:void 0});else{let wt=Zm(ye,se);await xn(Ee,ye,{overrideNavigation:wt,fetcherSubmission:he,preventScrollReset:be||P,enableViewTransition:X?U:void 0})}}async function fn(O,B,X,se){let he,be={};try{he=await PS(_,O,B,se,X,!1)}catch(ge){return B.filter(me=>me.shouldLoad).forEach(me=>{be[me.route.id]={type:"error",error:ge}}),be}if(O.signal.aborted)return be;if(!Mn(O.method))for(let ge of B){if(he[ge.route.id]?.type==="error")break;!he.hasOwnProperty(ge.route.id)&&!E.loaderData.hasOwnProperty(ge.route.id)&&(!E.errors||!E.errors.hasOwnProperty(ge.route.id))&&ge.shouldCallHandler()&&(he[ge.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ge.route.id}`)})}for(let[ge,me]of Object.entries(he))if(KS(me)){let ye=me.result;be[ge]={type:"redirect",response:BS(ye,O,ge,B,g)}}else be[ge]=await US(me);return be}async function Un(O,B,X,se){let he=fn(X,O,se,null),be=Promise.all(B.map(async ye=>{if(ye.matches&&ye.match&&ye.request&&ye.controller){let Oe=(await fn(ye.request,ye.matches,se,ye.key))[ye.match.route.id];return{[ye.key]:Oe}}else return Promise.resolve({[ye.key]:{type:"error",error:kr(404,{pathname:ye.path})}})})),ge=await he,me=(await be).reduce((ye,Ee)=>Object.assign(ye,Ee),{});return{loaderResults:ge,fetcherResults:me}}function Bn(){Q=!0,ue.forEach((O,B)=>{de.has(B)&&ce.add(B),Nt(B)})}function Bt(O,B,X={}){E.fetchers.set(O,B),Ue({fetchers:new Map(E.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function zn(O,B,X,se={}){let he=Va(E.matches,B);na(O),Ue({errors:{[he.route.id]:X},fetchers:new Map(E.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Si(O){return le.set(O,(le.get(O)||0)+1),xe.has(O)&&xe.delete(O),E.fetchers.get(O)||RS}function Ri(O,B){Nt(O,B?.reason),Bt(O,Xi(null))}function na(O){let B=E.fetchers.get(O);de.has(O)&&!(B&&B.state==="loading"&&M.has(O))&&Nt(O),ue.delete(O),M.delete(O),J.delete(O),xe.delete(O),ce.delete(O),E.fetchers.delete(O)}function ar(O){let B=(le.get(O)||0)-1;B<=0?(le.delete(O),xe.add(O)):le.set(O,B),Ue({fetchers:new Map(E.fetchers)})}function Nt(O,B){let X=de.get(O);X&&(X.abort(B),de.delete(O))}function Fn(O){for(let B of O){let X=Si(B),se=Xi(X.data);E.fetchers.set(B,se)}}function zt(){let O=[],B=!1;for(let X of J){let se=E.fetchers.get(X);Je(se,`Expected fetcher: ${X}`),se.state==="loading"&&(J.delete(X),O.push(X),B=!0)}return Fn(O),B}function us(O){let B=[];for(let[X,se]of M)if(se<O){let he=E.fetchers.get(X);Je(he,`Expected fetcher: ${X}`),he.state==="loading"&&(Nt(X),M.delete(X),B.push(X))}return Fn(B),B.length>0}function ra(O,B){let X=E.blockers.get(O)||uc;return De.get(O)!==B&&De.set(O,B),X}function ds(O){E.blockers.delete(O),De.delete(O)}function Hn(O,B){let X=E.blockers.get(O)||uc;Je(X.state==="unblocked"&&B.state==="blocked"||X.state==="blocked"&&B.state==="blocked"||X.state==="blocked"&&B.state==="proceeding"||X.state==="blocked"&&B.state==="unblocked"||X.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${B.state}`);let se=new Map(E.blockers);se.set(O,B),Ue({blockers:se})}function Zr({currentLocation:O,nextLocation:B,historyAction:X}){if(De.size===0)return;De.size>1&&dn(!1,"A router only supports one blocker at a time");let se=Array.from(De.entries()),[he,be]=se[se.length-1],ge=E.blockers.get(he);if(!(ge&&ge.state==="proceeding")&&be({currentLocation:O,nextLocation:B,historyAction:X}))return he}function Ft(O){let B=kr(404,{pathname:O}),X=y||m,{matches:se,route:he}=Cd(X);return{notFoundMatches:se,route:he,error:B}}function br(O,B,X){if(k=O,K=B,F=X||null,!ne&&E.navigation===Wm){ne=!0;let se=to(E.location,E.matches);se!=null&&Ue({restoreScrollPosition:se})}return()=>{k=null,K=null,F=null}}function sr(O,B){return F&&F(O,B.map(se=>$1(se,E.loaderData)))||O.key}function or(O,B){if(k&&K){let X=sr(O,B);k[X]=K()}}function to(O,B){if(k){let X=sr(O,B),se=k[X];if(typeof se=="number")return se}return null}function Ni(O,B,X){if(r.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:pc(B,X,g,!0)}}else return{active:!0,matches:pc(B,X,g,!0)||[]};return{active:!1,matches:null}}async function qn(O,B,X,se){if(!r.patchRoutesOnNavigation)return{type:"success",matches:O};let he=O;for(;;){let be=y==null,ge=y||m,me=u;try{await r.patchRoutesOnNavigation({signal:X,path:B,matches:he,fetcherKey:se,patch:(Oe,Ce)=>{X.aborted||G0(Oe,Ce,ge,me,c,!1)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:he}}finally{be&&!X.aborted&&(m=[...m])}if(X.aborted)return{type:"aborted"};let ye=Pa(ge,B,g),Ee=null;if(ye){if(Object.keys(ye[0].params).length===0)return{type:"success",matches:ye};if(Ee=pc(ge,B,g,!0),!(Ee&&he.length<Ee.length&&Jr(he,Ee.slice(0,he.length))))return{type:"success",matches:ye}}if(Ee||(Ee=pc(ge,B,g,!0)),!Ee||Jr(he,Ee))return{type:"success",matches:null};he=Ee}}function Jr(O,B){return O.length===B.length&&O.every((X,se)=>X.route.id===B[se].route.id)}function gl(O){u={},y=Ic(O,c,void 0,u)}function Ci(O,B,X=!1){let se=y==null;G0(O,B,y||m,u,c,X),se&&(m=[...m],Ue({}))}return Te={get basename(){return g},get future(){return w},get state(){return E},get routes(){return m},get window(){return e},initialize:mt,subscribe:Gt,enableScrollRestoration:br,navigate:yn,fetch:Mt,revalidate:Pr,createHref:O=>r.history.createHref(O),encodeLocation:O=>r.history.encodeLocation(O),getFetcher:Si,resetFetcher:Ri,deleteFetcher:ar,dispose:ke,getBlocker:ra,deleteBlocker:ds,patchRoutes:Ci,_internalFetchControllers:de,_internalSetRoutes:gl,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){Ue(O)}},r.unstable_instrumentations&&(Te=vS(Te,r.unstable_instrumentations.map(O=>O.router).filter(Boolean))),Te}function IS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function fp(r,e,n,a,o,c){let u,m;if(o){u=[];for(let g of e)if(u.push(g),g.route.id===o){m=g;break}}else u=e,m=e[e.length-1];let y=Wp(a||".",Yp(u),jr(r.pathname,n)||r.pathname,c==="path");if(a==null&&(y.search=r.search,y.hash=r.hash),(a==null||a===""||a===".")&&m){let g=$p(y.search);if(m.route.index&&!g)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let _=new URLSearchParams(y.search),w=_.getAll("index");_.delete("index"),w.filter(S=>S).forEach(S=>_.append("index",S));let A=_.toString();y.search=A?`?${A}`:""}}return n!=="/"&&(y.pathname=hS({basename:n,pathname:y.pathname})),xi(y)}function H0(r,e,n){if(!n||!IS(n))return{path:e};if(n.formMethod&&!YS(n.formMethod))return{path:e,error:kr(405,{method:n.formMethod})};let a=()=>({path:e,error:kr(400,{type:"invalid-body"})}),c=(n.formMethod||"get").toUpperCase(),u=uw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Mn(c))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((A,[S,k])=>`${A}${S}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:c,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Mn(c))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:c,formAction:u,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,y;if(n.formData)m=gp(n.formData),y=n.formData;else if(n.body instanceof FormData)m=gp(n.body),y=n.body;else if(n.body instanceof URLSearchParams)m=n.body,y=W0(m);else if(n.body==null)m=new URLSearchParams,y=new FormData;else try{m=new URLSearchParams(n.body),y=W0(m)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Mn(g.formMethod))return{path:e,submission:g};let _=is(e);return r&&_.search&&$p(_.search)&&m.append("index",""),_.search=`?${m}`,{path:xi(_),submission:g}}function q0(r,e,n,a,o,c,u,m,y,g,_,w,A,S,k,F,K,ne,$,oe,Ae){let Se=oe?yr(oe[1])?oe[1].error:oe[1].data:void 0,Te=o.createURL(c.location),E=o.createURL(y),N;if(_&&c.errors){let Ne=Object.keys(c.errors)[0];N=u.findIndex(Q=>Q.route.id===Ne)}else if(oe&&yr(oe[1])){let Ne=oe[0];N=u.findIndex(Q=>Q.route.id===Ne)-1}let C=oe?oe[1].statusCode:void 0,P=C&&C>=400,D={currentUrl:Te,currentParams:c.matches[0]?.params||{},nextUrl:E,nextParams:u[0].params,...m,actionResult:Se,actionStatus:C},U=Kc(u),I=u.map((Ne,Q)=>{let{route:ce}=Ne,de=null;if(N!=null&&Q>N?de=!1:ce.lazy?de=!0:Zp(ce)?_?de=mp(ce,c.loaderData,c.errors):kS(c.loaderData,c.matches[Q],Ne)&&(de=!0):de=!1,de!==null)return pp(n,a,r,U,Ne,g,e,de);let Ie=!1;typeof Ae=="boolean"?Ie=Ae:P?Ie=!1:(w||Te.pathname+Te.search===E.pathname+E.search||Te.search!==E.search||DS(c.matches[Q],Ne))&&(Ie=!0);let Le={...D,defaultShouldRevalidate:Ie},M=wc(Ne,Le);return pp(n,a,r,U,Ne,g,e,M,Le,Ae)}),Pe=[];return k.forEach((Ne,Q)=>{if(_||!u.some(le=>le.route.id===Ne.routeId)||S.has(Q))return;let ce=c.fetchers.get(Q),de=ce&&ce.state!=="idle"&&ce.data===void 0,Ie=Pa(K,Ne.path,ne);if(!Ie){if($&&de)return;Pe.push({key:Q,routeId:Ne.routeId,path:Ne.path,matches:null,match:null,request:null,controller:null});return}if(F.has(Q))return;let Le=zd(Ie,Ne.path),M=new AbortController,J=Bo(o,Ne.path,M.signal),ue=null;if(A.has(Q))A.delete(Q),ue=Qo(n,a,J,Ie,Le,g,e);else if(de)w&&(ue=Qo(n,a,J,Ie,Le,g,e));else{let le;typeof Ae=="boolean"?le=Ae:P?le=!1:le=w;let xe={...D,defaultShouldRevalidate:le};wc(Le,xe)&&(ue=Qo(n,a,J,Ie,Le,g,e,xe))}ue&&Pe.push({key:Q,routeId:Ne.routeId,path:Ne.path,matches:ue,match:Le,request:J,controller:M})}),{dsMatches:I,revalidatingFetchers:Pe}}function Zp(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function mp(r,e,n){if(r.lazy)return!0;if(!Zp(r))return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function kS(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function DS(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function wc(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function G0(r,e,n,a,o,c){let u;if(r){let g=a[r];Je(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let m=[],y=[];if(e.forEach(g=>{let _=u.find(w=>aw(g,w));_?y.push({existingRoute:_,newRoute:g}):m.push(g)}),m.length>0){let g=Ic(m,o,[r||"_","patch",String(u?.length||"0")],a);u.push(...g)}if(c&&y.length>0)for(let g=0;g<y.length;g++){let{existingRoute:_,newRoute:w}=y[g],A=_,[S]=Ic([w],o,[],{},!0);Object.assign(A,{element:S.element?S.element:A.element,errorElement:S.errorElement?S.errorElement:A.errorElement,hydrateFallbackElement:S.hydrateFallbackElement?S.hydrateFallbackElement:A.hydrateFallbackElement})}}function aw(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>aw(n,o))):!1}var K0=new WeakMap,sw=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[r];if(!c)return;let u=K0.get(o);u||(u={},K0.set(o,u));let m=u[r];if(m)return m;let y=(async()=>{let g=Y1(r),w=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)dn(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),u[r]=Promise.resolve();else if(w)dn(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let A=await c();A!=null&&(Object.assign(o,{[r]:A}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(A=>A===void 0)&&(o.lazy=void 0))})();return u[r]=y,y},Q0=new WeakMap;function OS(r,e,n,a,o){let c=n[r.id];if(Je(c,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=Q0.get(c);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{Je(typeof r.lazy=="function","No lazy route function found");let A=await r.lazy(),S={};for(let k in A){let F=A[k];if(F===void 0)continue;let K=Z1(k),$=c[k]!==void 0&&k!=="hasErrorBoundary";K?dn(!K,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):$?dn(!$,`Route "${c.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):S[k]=F}Object.assign(c,S),Object.assign(c,{...a(c),lazy:void 0})})();return Q0.set(c,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(r.lazy),m=[],y;for(let _ of u){if(o&&o.includes(_))continue;let w=sw({key:_,route:r,manifest:n,mapRouteProperties:a});w&&(m.push(w),_===e&&(y=w))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),y?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:y}}async function X0(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,c)=>{n[e[c].route.id]=o}),n}async function jS(r){return r.matches.some(e=>e.route.middleware)?ow(r,()=>X0(r)):X0(r)}function ow(r,e){return MS(r,e,a=>{if(XS(a))throw a;return a},qS,n);function n(a,o,c){if(c)return Promise.resolve(Object.assign(c.value,{[o]:{type:"error",result:a}}));{let{matches:u}=r,m=Math.min(Math.max(u.findIndex(g=>g.route.id===o),0),Math.max(u.findIndex(g=>g.shouldCallHandler()),0)),y=Va(u,u[m].route.id).route.id;return Promise.resolve({[y]:{type:"error",result:a}})}}}async function MS(r,e,n,a,o){let{matches:c,request:u,params:m,context:y,unstable_pattern:g}=r,_=c.flatMap(A=>A.route.middleware?A.route.middleware.map(S=>[A.route.id,S]):[]);return await lw({request:u,params:m,context:y,unstable_pattern:g},_,e,n,a,o)}async function lw(r,e,n,a,o,c,u=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let y=e[u];if(!y)return await n();let[g,_]=y,w,A=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await lw(r,e,n,a,o,c,u+1)},w.value}catch(S){return w={value:await c(S,g,w)},w.value}};try{let S=await _(r,A),k=S!=null?a(S):void 0;return o(k)?k:w?k??w.value:(w={value:await A()},w.value)}catch(S){return await c(S,g,w)}}function cw(r,e,n,a,o){let c=sw({key:"middleware",route:a.route,manifest:e,mapRouteProperties:r}),u=OS(a.route,Mn(n.method)?"action":"loader",e,r,o);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function pp(r,e,n,a,o,c,u,m,y=null,g){let _=!1,w=cw(r,e,n,o,c);return{...o,_lazyPromises:w,shouldLoad:m,shouldRevalidateArgs:y,shouldCallHandler(A){return _=!0,y?typeof g=="boolean"?wc(o,{...y,defaultShouldRevalidate:g}):typeof A=="boolean"?wc(o,{...y,defaultShouldRevalidate:A}):wc(o,y):m},resolve(A){let{lazy:S,loader:k,middleware:F}=o.route,K=_||m||A&&!Mn(n.method)&&(S||k),ne=F&&F.length>0&&!k&&!S;return K&&(Mn(n.method)||!ne)?VS({request:n,unstable_pattern:a,match:o,lazyHandlerPromise:w?.handler,lazyRoutePromise:w?.route,handlerOverride:A,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Qo(r,e,n,a,o,c,u,m=null){return a.map(y=>y.route.id!==o.route.id?{...y,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:cw(r,e,n,y,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:pp(r,e,n,Kc(a),y,c,u,!0,m))}async function PS(r,e,n,a,o,c){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let u={request:e,unstable_pattern:Kc(n),params:n[0].params,context:o,matches:n},y=await r({...u,fetcherKey:a,runClientMiddleware:g=>{let _=u;return ow(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return y}async function VS({request:r,unstable_pattern:e,match:n,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:c,scopedContext:u}){let m,y,g=Mn(r.method),_=g?"action":"loader",w=A=>{let S,k=new Promise((ne,$)=>S=$);y=()=>S(),r.signal.addEventListener("abort",y);let F=ne=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${n.route.id}]`)):A({request:r,unstable_pattern:e,params:n.params,context:u},...ne!==void 0?[ne]:[]),K=(async()=>{try{return{type:"data",result:await(c?c($=>F($)):F())}}catch(ne){return{type:"error",result:ne}}})();return Promise.race([K,k])};try{let A=g?n.route.action:n.route.loader;if(a||o)if(A){let S,[k]=await Promise.all([w(A).catch(F=>{S=F}),a,o]);if(S!==void 0)throw S;m=k}else{await a;let S=g?n.route.action:n.route.loader;if(S)[m]=await Promise.all([w(S),o]);else if(_==="action"){let k=new URL(r.url),F=k.pathname+k.search;throw kr(405,{method:r.method,pathname:F,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(A)m=await w(A);else{let S=new URL(r.url),k=S.pathname+S.search;throw kr(404,{pathname:k})}}catch(A){return{type:"error",result:A}}finally{y&&r.signal.removeEventListener("abort",y)}return m}async function LS(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function US(r){let{result:e,type:n}=r;if(Jp(e)){let a;try{a=await LS(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Gc(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?e_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:HS(e),statusCode:kc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:kc(e)?e.status:void 0}:e_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function BS(r,e,n,a,o){let c=r.headers.get("Location");if(Je(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xp(c)){let u=a.slice(0,a.findIndex(m=>m.route.id===n)+1);c=fp(new URL(e.url),u,o,c),r.headers.set("Location",c)}return r}function Y0(r,e,n,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Xp(r)){let c=r,u=c.startsWith("//")?new URL(e.protocol+c):new URL(c);if(o.includes(u.protocol))throw new Error("Invalid redirect location");let m=jr(u.pathname,n)!=null;if(u.origin===e.origin&&m)return u.pathname+u.search+u.hash}try{let c=a.createURL(r);if(o.includes(c.protocol))throw new Error("Invalid redirect location")}catch{}return r}function Bo(r,e,n,a){let o=r.createURL(uw(e)).toString(),c={signal:n};if(a&&Mn(a.formMethod)){let{formMethod:u,formEncType:m}=a;c.method=u.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(a.json)):m==="text/plain"?c.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?c.body=gp(a.formData):c.body=a.formData}return new Request(o,c)}function gp(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function W0(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function zS(r,e,n,a=!1,o=!1){let c={},u=null,m,y=!1,g={},_=n&&yr(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let A=w.route.id,S=e[A];if(Je(!Us(S),"Cannot handle redirect results in processLoaderData"),yr(S)){let k=S.error;if(_!==void 0&&(k=_,_=void 0),u=u||{},o)u[A]=k;else{let F=Va(r,A);u[F.route.id]==null&&(u[F.route.id]=k)}a||(c[A]=iw),y||(y=!0,m=kc(S.error)?S.error.status:500),S.headers&&(g[A]=S.headers)}else c[A]=S.data,S.statusCode&&S.statusCode!==200&&!y&&(m=S.statusCode),S.headers&&(g[A]=S.headers)}),_!==void 0&&n&&(u={[n[0]]:_},n[2]&&(c[n[2]]=void 0)),{loaderData:c,errors:u,statusCode:m||200,loaderHeaders:g}}function Z0(r,e,n,a,o,c){let{loaderData:u,errors:m}=zS(e,n,a);return o.filter(y=>!y.matches||y.matches.some(g=>g.shouldLoad)).forEach(y=>{let{key:g,match:_,controller:w}=y;if(w&&w.signal.aborted)return;let A=c[g];if(Je(A,"Did not find corresponding fetcher result"),yr(A)){let S=Va(r.matches,_?.route.id);m&&m[S.route.id]||(m={...m,[S.route.id]:A.error}),r.fetchers.delete(g)}else if(Us(A))Je(!1,"Unhandled fetcher revalidation redirect");else{let S=Xi(A.data);r.fetchers.set(g,S)}}),{loaderData:u,errors:m}}function J0(r,e,n,a){let o=Object.entries(e).filter(([,c])=>c!==iw).reduce((c,[u,m])=>(c[u]=m,c),{});for(let c of n){let u=c.route.id;if(!e.hasOwnProperty(u)&&r.hasOwnProperty(u)&&c.route.loader&&(o[u]=r[u]),a&&a.hasOwnProperty(u))break}return o}function $0(r){return r?yr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Va(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function Cd(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(r,{pathname:e,routeId:n,method:a,type:o,message:c}={}){let u="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(u="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(u="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(u="Not Found",m=`No route matches URL "${e}"`):r===405&&(u="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Gc(r||500,u,new Error(m),!0)}function Id(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(Us(o))return{key:a,result:o}}}function uw(r){let e=typeof r=="string"?is(r):r;return xi({...e,hash:""})}function FS(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function HS(r){return new Gc(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function qS(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,n])=>typeof e=="string"&&GS(n))}function GS(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function KS(r){return Jp(r.result)&&nw.has(r.result.status)}function yr(r){return r.type==="error"}function Us(r){return(r&&r.type)==="redirect"}function e_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Jp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function QS(r){return nw.has(r)}function XS(r){return Jp(r)&&QS(r.status)&&r.headers.has("Location")}function YS(r){return AS.has(r.toUpperCase())}function Mn(r){return ES.has(r.toUpperCase())}function $p(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function zd(r,e){let n=typeof e=="string"?is(e).search:e.search;if(r[r.length-1].route.index&&$p(n||""))return r[r.length-1];let a=Zx(r);return a[a.length-1]}function t_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:c,json:u}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:e,formAction:n,formEncType:a,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function Zm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WS(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function dc(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZS(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Xi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function JS(r,e){try{let n=r.sessionStorage.getItem(rw);if(n){let a=JSON.parse(n);for(let[o,c]of Object.entries(a||{}))c&&Array.isArray(c)&&e.set(o,new Set(c||[]))}}catch{}}function $S(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(rw,JSON.stringify(n))}catch(a){dn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function n_(){let r,e,n=new Promise((a,o)=>{r=async c=>{a(c);try{await n}catch{}},e=async c=>{o(c);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ws=V.createContext(null);Ws.displayName="DataRouter";var Qc=V.createContext(null);Qc.displayName="DataRouterState";var dw=V.createContext(!1);function eR(){return V.useContext(dw)}var eg=V.createContext({isTransitioning:!1});eg.displayName="ViewTransition";var hw=V.createContext(new Map);hw.displayName="Fetchers";var tR=V.createContext(null);tR.displayName="Await";var Mr=V.createContext(null);Mr.displayName="Navigation";var xh=V.createContext(null);xh.displayName="Location";var Wr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var tg=V.createContext(null);tg.displayName="RouteError";var fw="REACT_ROUTER_ERROR",nR="REDIRECT",rR="ROUTE_ERROR_RESPONSE";function iR(r){if(r.startsWith(`${fw}:${nR}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function aR(r){if(r.startsWith(`${fw}:${rR}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Gc(e.status,e.statusText,e.data)}catch{}}function sR(r,{relative:e}={}){Je(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(Mr),{hash:o,pathname:c,search:u}=Wc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fi([n,c])),a.createHref({pathname:m,search:u,hash:o})}function Xc(){return V.useContext(xh)!=null}function as(){return Je(Xc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(xh).location}var mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(r){V.useContext(Mr).static||V.useLayoutEffect(r)}function Yc(){let{isDataRoute:r}=V.useContext(Wr);return r?wR():oR()}function oR(){Je(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Ws),{basename:e,navigator:n}=V.useContext(Mr),{matches:a}=V.useContext(Wr),{pathname:o}=as(),c=JSON.stringify(Yp(a)),u=V.useRef(!1);return pw(()=>{u.current=!0}),V.useCallback((y,g={})=>{if(dn(u.current,mw),!u.current)return;if(typeof y=="number"){n.go(y);return}let _=Wp(y,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fi([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,c,o,r])}var lR=V.createContext(null);function cR(r){let e=V.useContext(Wr).outlet;return V.useMemo(()=>e&&V.createElement(lR.Provider,{value:r},e),[e,r])}function uR(){let{matches:r}=V.useContext(Wr),e=r[r.length-1];return e?e.params:{}}function Wc(r,{relative:e}={}){let{matches:n}=V.useContext(Wr),{pathname:a}=as(),o=JSON.stringify(Yp(n));return V.useMemo(()=>Wp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function dR(r,e,n,a,o){Je(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Mr),{matches:u}=V.useContext(Wr),m=u[u.length-1],y=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let $=w&&w.path||"";yw(g,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=as(),S;S=A;let k=S.pathname||"/",F=k;if(_!=="/"){let $=_.replace(/^\//,"").split("/");F="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let K=Pa(r,{pathname:F});return dn(w||K!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),dn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gR(K&&K.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:fi([_,c.encodeLocation?c.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:fi([_,c.encodeLocation?c.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,a,o)}function hR(){let r=xR(),e=kc(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,u)}var fR=V.createElement(hR,null),gw=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=aR(r.digest);n&&(r=n)}let e=r!==void 0?V.createElement(Wr.Provider,{value:this.props.routeContext},V.createElement(tg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?V.createElement(mR,{error:r},e):e}};gw.contextType=dw;var Jm=new WeakMap;function mR({children:r,error:e}){let{basename:n}=V.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=iR(e.digest);if(a){let o=Jm.get(e);if(o)throw o;let c=$x(a.location,n);if(Jx&&!Jm.get(e))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw Jm.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function pR({routeContext:r,match:e,children:n}){let a=V.useContext(Ws);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Wr.Provider,{value:r},n)}function gR(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,u=n?.errors;if(u!=null){let _=c.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Je(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let m=!1,y=-1;if(n)for(let _=0;_<c.length;_++){let w=c[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:A,errors:S}=n,k=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!S||S[w.route.id]===void 0);if(w.route.lazy||k){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=n&&a?(_,w)=>{a(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Kc(n.matches),errorInfo:w})}:void 0;return c.reduceRight((_,w,A)=>{let S,k=!1,F=null,K=null;n&&(S=u&&w.route.id?u[w.route.id]:void 0,F=w.route.errorElement||fR,m&&(y<0&&A===0?(yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,K=null):y===A&&(k=!0,K=w.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,A+1)),$=()=>{let oe;return S?oe=F:k?oe=K:w.route.Component?oe=V.createElement(w.route.Component,null):w.route.element?oe=w.route.element:oe=_,V.createElement(pR,{match:w,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:oe})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?V.createElement(gw,{location:n.location,revalidation:n.revalidation,component:F,error:S,children:$(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):$()},null)}function ng(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(r){let e=V.useContext(Ws);return Je(e,ng(r)),e}function vR(r){let e=V.useContext(Qc);return Je(e,ng(r)),e}function bR(r){let e=V.useContext(Wr);return Je(e,ng(r)),e}function rg(r){let e=bR(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function _R(){return rg("useRouteId")}function xR(){let r=V.useContext(tg),e=vR("useRouteError"),n=rg("useRouteError");return r!==void 0?r:e.errors?.[n]}function wR(){let{router:r}=yR("useNavigate"),e=rg("useNavigate"),n=V.useRef(!1);return pw(()=>{n.current=!0}),V.useCallback(async(o,c={})=>{dn(n.current,mw),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var r_={};function yw(r,e,n){!e&&!r_[r]&&(r_[r]=!0,dn(!1,n))}var i_={};function a_(r,e){!r&&!i_[e]&&(i_[e]=!0,console.warn(e))}var ER="useOptimistic",s_=P1[ER],TR=()=>{};function AR(r){return s_?s_(r):[r,TR]}function SR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var RR=["HydrateFallback","hydrateFallbackElement"],NR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function CR({router:r,flushSync:e,onError:n,unstable_useTransitions:a}){a=eR()||a;let[c,u]=V.useState(r.state),[m,y]=AR(c),[g,_]=V.useState(),[w,A]=V.useState({isTransitioning:!1}),[S,k]=V.useState(),[F,K]=V.useState(),[ne,$]=V.useState(),oe=V.useRef(new Map),Ae=V.useCallback((N,{deletedFetchers:C,newErrors:P,flushSync:D,viewTransitionOpts:U})=>{P&&n&&Object.values(P).forEach(Pe=>n(Pe,{location:N.location,params:N.matches[0]?.params??{},unstable_pattern:Kc(N.matches)})),N.fetchers.forEach((Pe,Ne)=>{Pe.data!==void 0&&oe.current.set(Ne,Pe.data)}),C.forEach(Pe=>oe.current.delete(Pe)),a_(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(a_(U==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!I){e&&D?e(()=>u(N)):a===!1?u(N):V.startTransition(()=>{a===!0&&y(Pe=>o_(Pe,N)),u(N)});return}if(e&&D){e(()=>{F&&(S?.resolve(),F.skipTransition()),A({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let Pe=r.window.document.startViewTransition(()=>{e(()=>u(N))});Pe.finished.finally(()=>{e(()=>{k(void 0),K(void 0),_(void 0),A({isTransitioning:!1})})}),e(()=>K(Pe));return}F?(S?.resolve(),F.skipTransition(),$({state:N,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(_(N),A({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[r.window,e,F,S,a,y,n]);V.useLayoutEffect(()=>r.subscribe(Ae),[r,Ae]),V.useEffect(()=>{w.isTransitioning&&!w.flushSync&&k(new NR)},[w]),V.useEffect(()=>{if(S&&g&&r.window){let N=g,C=S.promise,P=r.window.document.startViewTransition(async()=>{a===!1?u(N):V.startTransition(()=>{a===!0&&y(D=>o_(D,N)),u(N)}),await C});P.finished.finally(()=>{k(void 0),K(void 0),_(void 0),A({isTransitioning:!1})}),K(P)}},[g,S,r.window,a,y]),V.useEffect(()=>{S&&g&&m.location.key===g.location.key&&S.resolve()},[S,F,m.location,g]),V.useEffect(()=>{!w.isTransitioning&&ne&&(_(ne.state),A({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}),$(void 0))},[w.isTransitioning,ne]);let Se=V.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:N=>r.navigate(N),push:(N,C,P)=>r.navigate(N,{state:C,preventScrollReset:P?.preventScrollReset}),replace:(N,C,P)=>r.navigate(N,{replace:!0,state:C,preventScrollReset:P?.preventScrollReset})}),[r]),Te=r.basename||"/",E=V.useMemo(()=>({router:r,navigator:Se,static:!1,basename:Te,onError:n}),[r,Se,Te,n]);return V.createElement(V.Fragment,null,V.createElement(Ws.Provider,{value:E},V.createElement(Qc.Provider,{value:m},V.createElement(hw.Provider,{value:oe.current},V.createElement(eg.Provider,{value:w},V.createElement(OR,{basename:Te,location:m.location,navigationType:m.historyAction,navigator:Se,unstable_useTransitions:a},V.createElement(IR,{routes:r.routes,future:r.future,state:m,onError:n})))))),null)}function o_(r,e){return{...r,navigation:e.navigation.state!=="idle"?e.navigation:r.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:r.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:r.actionData,fetchers:e.fetchers}}var IR=V.memo(kR);function kR({routes:r,future:e,state:n,onError:a}){return dR(r,void 0,n,a,e)}function DR(r){return cR(r.context)}function OR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Je(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=V.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof n=="string"&&(n=is(n));let{pathname:g="/",search:_="",hash:w="",state:A=null,key:S="default"}=n,k=V.useMemo(()=>{let F=jr(g,m);return F==null?null:{location:{pathname:F,search:_,hash:w,state:A,key:S},navigationType:a}},[m,g,_,w,A,S,a]);return dn(k!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:V.createElement(Mr.Provider,{value:y},V.createElement(xh.Provider,{children:e,value:k}))}var Fd="get",Hd="application/x-www-form-urlencoded";function wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function jR(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function MR(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function PR(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function VR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LR(r,e){return r.button===0&&(!e||e==="_self")&&!VR(r)}var kd=null;function UR(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var BR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!BR.has(r)?(dn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):r}function zR(r,e){let n,a,o,c,u;if(MR(r)){let m=r.getAttribute("action");a=m?jr(m,e):null,n=r.getAttribute("method")||Fd,o=$m(r.getAttribute("enctype"))||Hd,c=new FormData(r)}else if(jR(r)||PR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(a=y?jr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Fd,o=$m(r.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||Hd,c=new FormData(m,r),!UR()){let{name:g,type:_,value:w}=r;if(_==="image"){let A=g?`${g}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else g&&c.append(g,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,a=null,o=Hd,u=r}return c&&o==="text/plain"&&(u=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ig(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FR(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&jr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function HR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GR(r,e,n){let a=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await HR(c,n);return u.links?u.links():[]}return[]}));return YR(a.flat(1).filter(qR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l_(r,e,n,a,o,c){let u=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>u(y,g)||m(y,g)):c==="data"?e.filter((y,g)=>{let _=a.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(u(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function KR(r,e,{includeHydrateFallback:n}={}){return QR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function QR(r){return[...new Set(r)]}function XR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function YR(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let c=JSON.stringify(XR(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function vw(){let r=V.useContext(Ws);return ig(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WR(){let r=V.useContext(Qc);return ig(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ag=V.createContext(void 0);ag.displayName="FrameworkContext";function bw(){let r=V.useContext(ag);return ig(r,"You must render this element inside a <HydratedRouter> element"),r}function ZR(r,e){let n=V.useContext(ag),[a,o]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,A=V.useRef(null);V.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let F=ne=>{ne.forEach($=>{u($.isIntersecting)})},K=new IntersectionObserver(F,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[r]),V.useEffect(()=>{if(a){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[a]);let S=()=>{o(!0)},k=()=>{o(!1),u(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:hc(m,S),onBlur:hc(y,k),onMouseEnter:hc(g,S),onMouseLeave:hc(_,k),onTouchStart:hc(w,S)}]:[!1,A,{}]}function hc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function JR({page:r,...e}){let{router:n}=vw(),a=V.useMemo(()=>Pa(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?V.createElement(eN,{page:r,matches:a,...e}):null}function $R(r){let{manifest:e,routeModules:n}=bw(),[a,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return GR(r,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[r,e,n]),a}function eN({page:r,matches:e,...n}){let a=as(),{future:o,manifest:c,routeModules:u}=bw(),{basename:m}=vw(),{loaderData:y,matches:g}=WR(),_=V.useMemo(()=>l_(r,e,g,c,a,"data"),[r,e,g,c,a]),w=V.useMemo(()=>l_(r,e,g,c,a,"assets"),[r,e,g,c,a]),A=V.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,K=!1;if(e.forEach($=>{let oe=c.routes[$.route.id];!oe||!oe.hasLoader||(!_.some(Ae=>Ae.route.id===$.route.id)&&$.route.id in y&&u[$.route.id]?.shouldRevalidate||oe.hasClientLoader?K=!0:F.add($.route.id))}),F.size===0)return[];let ne=FR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&F.size>0&&ne.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,a,c,_,e,r,u]),S=V.useMemo(()=>KR(w,c),[w,c]),k=$R(w);return V.createElement(V.Fragment,null,A.map(F=>V.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),S.map(F=>V.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:K})=>V.createElement("link",{key:F,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function tN(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nN&&(window.__reactRouterVersion="7.13.0")}catch{}function rN(r,e){return CS({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:G1({window:e?.window}),hydrationData:iN(),routes:r,mapRouteProperties:SR,hydrationRouteProperties:RR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function iN(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:aN(r.errors)}),r}function aN(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Gc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let u=new c(o.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let c=new Error(o.message);c.stack="",n[a]=c}}else n[a]=o;return n}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:u,state:m,target:y,to:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:A,...S},k){let{basename:F,unstable_useTransitions:K}=V.useContext(Mr),ne=typeof g=="string"&&_w.test(g),$=$x(g,F);g=$.to;let oe=sR(g,{relative:o}),[Ae,Se,Te]=ZR(a,S),E=cN(g,{replace:u,state:m,target:y,preventScrollReset:_,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:K});function N(P){e&&e(P),P.defaultPrevented||E(P)}let C=V.createElement("a",{...S,...Te,href:$.absoluteURL||oe,onClick:$.isExternal||c?e:N,ref:tN(k,Se),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return Ae&&!ne?V.createElement(V.Fragment,null,C,V.createElement(JR,{page:oe})):C});ut.displayName="Link";var sN=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:m,children:y,...g},_){let w=Wc(u,{relative:g.relative}),A=as(),S=V.useContext(Qc),{navigator:k,basename:F}=V.useContext(Mr),K=S!=null&&mN(w)&&m===!0,ne=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,$=A.pathname,oe=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||($=$.toLowerCase(),oe=oe?oe.toLowerCase():null,ne=ne.toLowerCase()),oe&&F&&(oe=jr(oe,F)||oe);const Ae=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Se=$===ne||!o&&$.startsWith(ne)&&$.charAt(Ae)==="/",Te=oe!=null&&(oe===ne||!o&&oe.startsWith(ne)&&oe.charAt(ne.length)==="/"),E={isActive:Se,isPending:Te,isTransitioning:K},N=Se?e:void 0,C;typeof a=="function"?C=a(E):C=[a,Se?"active":null,Te?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(E):c;return V.createElement(ut,{...g,"aria-current":N,className:C,ref:_,style:P,to:u,viewTransition:m},typeof y=="function"?y(E):y)});sN.displayName="NavLink";var oN=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:u=Fd,action:m,onSubmit:y,relative:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:A,...S},k)=>{let{unstable_useTransitions:F}=V.useContext(Mr),K=hN(),ne=fN(m,{relative:g}),$=u.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&_w.test(m),Ae=Se=>{if(y&&y(Se),Se.defaultPrevented)return;Se.preventDefault();let Te=Se.nativeEvent.submitter,E=Te?.getAttribute("formmethod")||u,N=()=>K(Te||Se.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:o,state:c,relative:g,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:A});F&&n!==!1?V.startTransition(()=>N()):N()};return V.createElement("form",{ref:k,method:$,action:ne,onSubmit:a?y:Ae,...S,"data-discover":!oe&&r==="render"?"true":void 0})});oN.displayName="Form";function lN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(r){let e=V.useContext(Ws);return Je(e,lN(r)),e}function cN(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=Yc(),_=as(),w=Wc(r,{relative:c});return V.useCallback(A=>{if(LR(A,e)){A.preventDefault();let S=n!==void 0?n:xi(_)===xi(w),k=()=>g(r,{replace:S,state:a,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});y?V.startTransition(()=>k()):k()}},[_,g,w,n,a,e,r,o,c,u,m,y])}var uN=0,dN=()=>`__${String(++uN)}__`;function hN(){let{router:r}=xw("useSubmit"),{basename:e}=V.useContext(Mr),n=_R(),a=r.fetch,o=r.navigate;return V.useCallback(async(c,u={})=>{let{action:m,method:y,encType:g,formData:_,body:w}=zR(c,e);if(u.navigate===!1){let A=u.fetcherKey||dN();await a(A,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||y,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||y,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,o,e,n])}function fN(r,{relative:e}={}){let{basename:n}=V.useContext(Mr),a=V.useContext(Wr);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Wc(r||".",{relative:e})},u=as();if(r==null){c.search=u.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(_=>_==="")){m.delete("index"),y.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fi([n,c.pathname])),xi(c)}function mN(r,{relative:e}={}){let n=V.useContext(eg);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xw("useViewTransitionState"),o=Wc(r,{relative:e});if(!n.isTransitioning)return!1;let c=jr(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=jr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return eh(o.pathname,u)!=null||eh(o.pathname,c)!=null}var pN=Gx();function gN(r){return V.createElement(CR,{flushSync:pN.flushSync,...r})}function yN(){return p.jsxs("footer",{className:"bg-background-dark text-[#f7f5f8] py-16 px-4 border-t border-white/10 mt-auto",children:[p.jsxs("div",{className:"max-w-[1100px] mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[p.jsxs("div",{className:"col-span-1 md:col-span-1 flex flex-col gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-white",children:[p.jsx("img",{alt:"Black Eagle Archery logo",className:"h-6 w-6 object-contain",src:"/logo.png"}),p.jsx("span",{className:"text-lg font-bold",children:"Black Eagle"})]}),p.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:"Handcrafted traditional bows made in the USA. Preserving history, one shot at a time."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Shop"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Recurve Bows"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Longbows"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Accessories"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/products",children:"Apparel"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Company"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/about",children:"Our Story"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/about",children:"About Freddie"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/",children:"Journal"})}),p.jsx("li",{children:p.jsx(ut,{className:"hover:text-primary transition-colors",to:"/contact",children:"Contact Us"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4 text-white",children:"Contact"}),p.jsxs("ul",{className:"flex flex-col gap-2 text-sm text-white/70",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"location_on"})," Bend, Oregon"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"mail"})," info@blackeagle.com"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"material-symbols-outlined text-xs",children:"call"})," (555) 123-4567"]})]})]})]}),p.jsxs("div",{className:"max-w-[1100px] mx-auto mt-16 pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-white/40",children:[p.jsx("p",{children:" 2023 Black Eagle Archery. All rights reserved."}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx(ut,{className:"hover:text-white",to:"/",children:"Privacy Policy"}),p.jsx(ut,{className:"hover:text-white",to:"/",children:"Terms of Service"})]})]})]})}const sg="black-eagle-cart",og=typeof window<"u",yp=new Set,Dc=()=>{if(!og)return[];const r=window.localStorage.getItem(sg);if(!r)return[];try{const e=JSON.parse(r);return!Array.isArray(e)||e.length===0?[]:e}catch{return[]}},Oc=r=>{og&&(window.localStorage.setItem(sg,JSON.stringify(r)),yp.forEach(e=>e(r)))},c_=r=>`${r.productId}::${r.option??""}`,vN=r=>(yp.add(r),()=>yp.delete(r)),lg=r=>{const e=Dc(),n=c_(r),a=e.findIndex(c=>c_(c)===n);if(a>=0){const c=e[a],u={...c,quantity:c.quantity+r.quantity,note:r.note??c.note},m=[...e];return m[a]=u,Oc(m),m}const o=[...e,r];return Oc(o),o},u_=(r,e,n)=>{const a=Dc();if(n<=0){const c=a.filter(u=>!(u.productId===r&&u.option===e));return Oc(c),c}const o=a.map(c=>c.productId!==r||c.option!==e?c:{...c,quantity:n});return Oc(o),o},bN=(r,e)=>{const a=Dc().filter(o=>!(o.productId===r&&o.option===e));return Oc(a),a},ww=()=>{const[r,e]=V.useState(()=>Dc());return V.useEffect(()=>{const n=vN(e);if(!og)return n;const a=o=>{o.key===sg&&e(Dc())};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a),n()}},[]),r};function _N(){const[r,e]=V.useState(!1),n=ww(),a=V.useMemo(()=>n.reduce((o,c)=>o+c.quantity,0),[n]);return p.jsxs("header",{className:"fixed top-0 left-0 z-50 w-full border-b border-[#e5ded0] bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm shadow-sm",children:[p.jsxs("div",{className:"px-4 md:px-10 py-3 flex items-center justify-between max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"size-8 flex items-center justify-center",children:p.jsx("img",{alt:"Black Eagle Archery logo",className:"h-8 w-8 object-contain",src:"/logo.png"})}),p.jsx("h2",{className:"text-[#160c1d] dark:text-white text-xl font-bold tracking-tight",children:"Black Eagle Archery"})]}),p.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/",children:"Home"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/products",children:"Shop"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/about",children:"About Freddie"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/contact",children:"Contact"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",to:"/admin",children:"Admin"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden text-[#160c1d] dark:text-white",onClick:()=>e(o=>!o),type:"button",children:p.jsx("span",{className:"material-symbols-outlined",children:r?"close":"menu"})}),p.jsxs(ut,{className:"flex items-center justify-center rounded-lg h-10 w-10 bg-primary/10 hover:bg-primary/20 text-primary transition-colors relative",to:"/cart",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"shopping_cart"}),a>0?p.jsx("span",{className:"absolute -top-1 -right-1 min-w-5 h-5 px-1 rounded-full bg-primary text-white text-xs font-bold flex items-center justify-center",children:a}):null]})]})]}),r?p.jsx("div",{className:"md:hidden border-t border-[#e5ded0] bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm",children:p.jsxs("nav",{className:"px-4 py-4 flex flex-col gap-3 max-w-7xl mx-auto",children:[p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/",children:"Home"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/products",children:"Shop"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/about",children:"About Freddie"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/contact",children:"Contact"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/admin",children:"Admin"}),p.jsx(ut,{className:"text-[#160c1d] dark:text-[#e0e0e0] text-base font-medium hover:text-primary dark:hover:text-primary transition-colors",onClick:()=>e(!1),to:"/cart",children:"Cart"})]})}):null]})}function xN(){const e=as().pathname.startsWith("/admin");return p.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#160c1d] dark:text-[#f7f5f8] font-display overflow-x-hidden flex flex-col min-h-screen",children:[e?null:p.jsx(_N,{}),p.jsx("main",{className:`flex-1 ${e?"":"pt-16"}`,children:p.jsx(DR,{})}),e?null:p.jsx(yN,{})]})}const wN=()=>{};var d_={};const Ew=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},EN=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],u=r[n++],m=r[n++],y=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],u=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,m=u?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,_=c>>2,w=(c&3)<<4|m>>4;let A=(m&15)<<2|g>>6,S=g&63;y||(S=64,u||(A=64)),a.push(n[_],n[w],n[A],n[S])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ew(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):EN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||w==null)throw new TN;const A=c<<2|m>>4;if(a.push(A),g!==64){const S=m<<4&240|g>>2;if(a.push(S),w!==64){const k=g<<6&192|w;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AN=function(r){const e=Ew(r);return Tw.encodeByteArray(e,!0)},th=function(r){return AN(r).replace(/\./g,"")},Aw=function(r){try{return Tw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RN=()=>SN().__FIREBASE_DEFAULTS__,NN=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Aw(r[1]);return e&&JSON.parse(e)},Eh=()=>{try{return wN()||RN()||NN()||CN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sw=r=>Eh()?.emulatorHosts?.[r],Rw=r=>{const e=Sw(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Nw=()=>Eh()?.config,Cw=r=>Eh()?.[`_${r}`];class IN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function ss(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cg(r){return(await fetch(r,{credentials:"include"})).ok}function kN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(n)),th(JSON.stringify(u)),""].join(".")}const Ec={};function DN(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?r.emulator.push(e):r.prod.push(e);return r}function ON(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let h_=!1;function ug(r,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||Ec[r]===e||Ec[r]||h_)return;Ec[r]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",c=DN().prod.length>0;function u(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,S){A.setAttribute("width","24"),A.setAttribute("id",S),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{h_=!0,u()},A}function _(A,S){A.setAttribute("id",S),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=ON(a),S=n("text"),k=document.getElementById(S)||document.createElement("span"),F=n("learnmore"),K=document.getElementById(F)||document.createElement("a"),ne=n("preprendIcon"),$=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),_(K,F);const Ae=g();y($,ne),oe.append($,k,K,Ae),document.body.appendChild(oe)}c?(k.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function MN(){const r=Eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UN(){const r=Ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BN(){return!MN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zN(){try{return typeof indexedDB=="object"}catch{return!1}}function FN(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const HN="FirebaseError";class Ei extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=HN,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?qN(c,a):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Ei(o,m,a)}}function qN(r,e){return r.replace(GN,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const GN=/\{\$([^}]+)}/g;function KN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=r[o],u=e[o];if(f_(c)&&f_(u)){if(!Fs(c,u))return!1}else if(c!==u)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function f_(r){return r!==null&&typeof r=="object"}function Jc(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function yc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function QN(r,e){const n=new XN(r,e);return n.subscribe.bind(n)}class XN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");YN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=ep),o.error===void 0&&(o.error=ep),o.complete===void 0&&(o.complete=ep);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YN(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function ep(){}function tn(r){return r&&r._delegate?r._delegate:r}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vs="[DEFAULT]";class WN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new IN;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JN(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&u.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZN(r){return r===Vs?void 0:r}function JN(r){return r.instantiationMode==="EAGER"}class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var at;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(at||(at={}));const eC={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},tC=at.INFO,nC={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},rC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=nC[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=tC,this._logHandler=rC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const iC=(r,e)=>e.some(n=>r instanceof n);let m_,p_;function aC(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sC(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,vp=new WeakMap,kw=new WeakMap,tp=new WeakMap,hg=new WeakMap;function oC(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{n(qa(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Iw.set(n,r)}).catch(()=>{}),hg.set(e,r),e}function lC(r){if(vp.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});vp.set(r,e)}let bp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return vp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cC(r){bp=r(bp)}function uC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(np(this),e,...n);return kw.set(a,e.sort?e.sort():[e]),qa(a)}:sC().includes(r)?function(...e){return r.apply(np(this),e),qa(Iw.get(this))}:function(...e){return qa(r.apply(np(this),e))}}function dC(r){return typeof r=="function"?uC(r):(r instanceof IDBTransaction&&lC(r),iC(r,aC())?new Proxy(r,bp):r)}function qa(r){if(r instanceof IDBRequest)return oC(r);if(tp.has(r))return tp.get(r);const e=dC(r);return e!==r&&(tp.set(r,e),hg.set(e,r)),e}const np=r=>hg.get(r);function hC(r,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),m=qa(u);return a&&u.addEventListener("upgradeneeded",y=>{a(qa(u.result),y.oldVersion,y.newVersion,qa(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const fC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],rp=new Map;function g_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=mC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||fC.includes(n)))return;const c=async function(u,...m){const y=this.transaction(u,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return rp.set(e,c),c}cC(r=>({...r,get:(e,n,a)=>g_(e,n)||r.get(e,n,a),has:(e,n)=>!!g_(e,n)||r.has(e,n)}));class pC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function gC(r){return r.getComponent()?.type==="VERSION"}const _p="@firebase/app",y_="0.14.8";const Ji=new dg("@firebase/app"),yC="@firebase/app-compat",vC="@firebase/analytics-compat",bC="@firebase/analytics",_C="@firebase/app-check-compat",xC="@firebase/app-check",wC="@firebase/auth",EC="@firebase/auth-compat",TC="@firebase/database",AC="@firebase/data-connect",SC="@firebase/database-compat",RC="@firebase/functions",NC="@firebase/functions-compat",CC="@firebase/installations",IC="@firebase/installations-compat",kC="@firebase/messaging",DC="@firebase/messaging-compat",OC="@firebase/performance",jC="@firebase/performance-compat",MC="@firebase/remote-config",PC="@firebase/remote-config-compat",VC="@firebase/storage",LC="@firebase/storage-compat",UC="@firebase/firestore",BC="@firebase/ai",zC="@firebase/firestore-compat",FC="firebase",HC="12.9.0";const xp="[DEFAULT]",qC={[_p]:"fire-core",[yC]:"fire-core-compat",[bC]:"fire-analytics",[vC]:"fire-analytics-compat",[xC]:"fire-app-check",[_C]:"fire-app-check-compat",[wC]:"fire-auth",[EC]:"fire-auth-compat",[TC]:"fire-rtdb",[AC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[RC]:"fire-fn",[NC]:"fire-fn-compat",[CC]:"fire-iid",[IC]:"fire-iid-compat",[kC]:"fire-fcm",[DC]:"fire-fcm-compat",[OC]:"fire-perf",[jC]:"fire-perf-compat",[MC]:"fire-rc",[PC]:"fire-rc-compat",[VC]:"fire-gcs",[LC]:"fire-gcs-compat",[UC]:"fire-fst",[zC]:"fire-fst-compat",[BC]:"fire-vertex","fire-js":"fire-js",[FC]:"fire-js-all"};const nh=new Map,GC=new Map,wp=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hs(r){const e=r.name;if(wp.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,r);for(const n of nh.values())v_(n,r);for(const n of GC.values())v_(n,r);return!0}function Th(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dr(r){return r==null?!1:r.settings!==void 0}const KC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new Zc("app","Firebase",KC);class QC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}const ll=HC;function Ah(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:xp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ga.create("bad-app-name",{appName:String(o)});if(n||(n=Nw()),!n)throw Ga.create("no-options");const c=nh.get(o);if(c){if(Fs(n,c.options)&&Fs(a,c.config))return c;throw Ga.create("duplicate-app",{appName:o})}const u=new $N(o);for(const y of wp.values())u.addComponent(y);const m=new QC(n,a,u);return nh.set(o,m),m}function fg(r=xp){const e=nh.get(r);if(!e&&r===xp&&Nw())return Ah();if(!e)throw Ga.create("no-app",{appName:r});return e}function mi(r,e,n){let a=qC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(u.join(" "));return}Hs(new Wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const XC="firebase-heartbeat-database",YC=1,jc="firebase-heartbeat-store";let ip=null;function Dw(){return ip||(ip=hC(XC,YC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ga.create("idb-open",{originalErrorMessage:r.message})})),ip}async function WC(r){try{const n=(await Dw()).transaction(jc),a=await n.objectStore(jc).get(Ow(r));return await n.done,a}catch(e){if(e instanceof Ei)Ji.warn(e.message);else{const n=Ga.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function b_(r,e){try{const a=(await Dw()).transaction(jc,"readwrite");await a.objectStore(jc).put(e,Ow(r)),await a.done}catch(n){if(n instanceof Ei)Ji.warn(n.message);else{const a=Ga.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(a.message)}}}function Ow(r){return`${r.name}!${r.options.appId}`}const ZC=1024,JC=30;class $C{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>JC){const o=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:n,unsentEntries:a}=eI(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function eI(r,e=ZC){const n=[];let a=r.slice();for(const o of r){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),x_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class tI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zN()?FN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function x_(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function nI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function rI(r){Hs(new Wa("platform-logger",e=>new pC(e),"PRIVATE")),Hs(new Wa("heartbeat",e=>new $C(e),"PRIVATE")),mi(_p,y_,r),mi(_p,y_,"esm2020"),mi("fire-js","")}rI("");var iI="firebase",aI="12.9.0";mi(iI,aI,"app");function jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sI=jw,Mw=new Zc("auth","Firebase",jw());const rh=new dg("@firebase/auth");function oI(r,...e){rh.logLevel<=at.WARN&&rh.warn(`Auth (${ll}): ${r}`,...e)}function qd(r,...e){rh.logLevel<=at.ERROR&&rh.error(`Auth (${ll}): ${r}`,...e)}function Xr(r,...e){throw mg(r,...e)}function pi(r,...e){return mg(r,...e)}function Pw(r,e,n){const a={...sI(),[e]:n};return new Zc("auth","Firebase",a).create(e,{appName:r.name})}function Ka(r){return Pw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Mw.create(r,...e)}function Be(r,e,...n){if(!r)throw mg(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qd(e),new Error(e)}function $i(r,e){r||Yi(e)}function Ep(){return typeof self<"u"&&self.location?.href||""}function lI(){return w_()==="http:"||w_()==="https:"}function w_(){return typeof self<"u"&&self.location?.protocol||null}function cI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lI()||VN()||"connection"in navigator)?navigator.onLine:!0}function uI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=jN()||LN()}get(){return cI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Vw{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fI=new $c(3e4,6e4);function Zs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function os(r,e,n,a,o={}){return Lw(r,o,async()=>{let c={},u={};a&&(e==="GET"?u=a:c={body:JSON.stringify(a)});const m=Jc({key:r.config.apiKey,...u}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...c};return PN()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ss(r.emulatorConfig.host)&&(g.credentials="include"),Vw.fetch()(await Uw(r,r.config.apiHost,n,m),g)})}async function Lw(r,e,n){r._canInitEmulator=!1;const a={...dI,...e};try{const o=new pI(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Dd(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(r,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw Dd(r,"email-already-in-use",u);if(y==="USER_DISABLED")throw Dd(r,"user-disabled",u);const _=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pw(r,_,g);Xr(r,_)}}catch(o){if(o instanceof Ei)throw o;Xr(r,"network-request-failed",{message:String(o)})}}async function Sh(r,e,n,a,o={}){const c=await os(r,e,n,a,o);return"mfaPendingCredential"in c&&Xr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uw(r,e,n,a){const o=`${e}${n}?${a}`,c=r,u=c.config.emulator?pg(r.config,o):`${r.config.apiScheme}://${o}`;return hI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function mI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(pi(this.auth,"network-request-failed")),fI.get())})}}function Dd(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=pi(r,e,a);return o.customData._tokenResponse=n,o}function E_(r){return r!==void 0&&r.enterprise!==void 0}class gI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yI(r,e){return os(r,"GET","/v2/recaptchaConfig",Zs(r,e))}async function vI(r,e){return os(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return os(r,"POST","/v1/accounts:lookup",e)}function Tc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bI(r,e=!1){const n=tn(r),a=await n.getIdToken(e),o=gg(a);Be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:a,authTime:Tc(ap(o.auth_time)),issuedAtTime:Tc(ap(o.iat)),expirationTime:Tc(ap(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ap(r){return Number(r)*1e3}function gg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Aw(n);return o?JSON.parse(o):(qd("Failed to decode base64 JWT payload"),null)}catch(o){return qd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function T_(r){const e=gg(r);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ei&&_I(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(r){const e=r.auth,n=await r.getIdToken(),a=await Mc(r,ih(e,{idToken:n}));Be(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bw(o.providerUserInfo):[],u=EI(r.providerData,c),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!u?.length,g=m?y:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function wI(r){const e=tn(r);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EI(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Bw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function TI(r,e){const n=await Lw(r,{},async()=>{const a=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await Uw(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return r.emulatorConfig&&ss(r.emulatorConfig.host)&&(y.credentials="include"),Vw.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AI(r,e){return os(r,"POST","/v2/accounts:revokeToken",Zs(r,e))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=T_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await TI(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,u=new Xo;return a&&(Be(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Be(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ma(r,e){Be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bI(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await Mc(this,vI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:S,providerData:k,stsTokenManager:F}=n;Be(w&&F,e,"internal-error");const K=Xo.fromJSON(this.name,F);Be(typeof w=="string",e,"internal-error"),Ma(a,e.name),Ma(o,e.name),Be(typeof A=="boolean",e,"internal-error"),Be(typeof S=="boolean",e,"internal-error"),Ma(c,e.name),Ma(u,e.name),Ma(m,e.name),Ma(y,e.name),Ma(g,e.name),Ma(_,e.name);const ne=new Gr({uid:w,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:S,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(ne.providerData=k.map($=>({...$}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,a=!1){const o=new Xo;o.updateFromServerResponse(n);const c=new Gr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new Xo;m.updateFromIdToken(a);const y=new Gr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,g),y}}const A_=new Map;function Wi(r){$i(r instanceof Function,"Expected a class definition");let e=A_.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A_.set(r,e),e)}class zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zw.type="NONE";const S_=zw;function Gd(r,e,n){return`firebase:${r}:${e}:${n}`}class Yo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Gd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Yo(Wi(S_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Wi(S_);const u=Gd(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(u);if(_){let w;if(typeof _=="string"){const A=await ih(e,{idToken:_}).catch(()=>{});if(!A)break;w=await Gr._fromGetAccountInfoResponse(e,A,_)}else w=Gr._fromJSON(e,_);g!==c&&(m=w),c=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Yo(c,e,a):(c=y[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Yo(c,e,a))}}function R_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qw(e))return"Blackberry";if(Xw(e))return"Webos";if(Hw(e))return"Safari";if((e.includes("chrome/")||qw(e))&&!e.includes("edge/"))return"Chrome";if(Kw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Fw(r=Ln()){return/firefox\//i.test(r)}function Hw(r=Ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qw(r=Ln()){return/crios\//i.test(r)}function Gw(r=Ln()){return/iemobile/i.test(r)}function Kw(r=Ln()){return/android/i.test(r)}function Qw(r=Ln()){return/blackberry/i.test(r)}function Xw(r=Ln()){return/webos/i.test(r)}function yg(r=Ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=Ln()){return yg(r)&&!!window.navigator?.standalone}function RI(){return UN()&&document.documentMode===10}function Yw(r=Ln()){return yg(r)||Kw(r)||Xw(r)||Qw(r)||/windows phone/i.test(r)||Gw(r)}function Ww(r,e=[]){let n;switch(r){case"Browser":n=R_(Ln());break;case"Worker":n=`${R_(Ln())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${a}`}class NI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((u,m)=>{try{const y=e(c);u(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function CI(r,e={}){return os(r,"GET","/v2/passwordPolicy",Zs(r,e))}const II=6;class kI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??II,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class DI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new NI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),a=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Ka(this));const n=e?tn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CI(this),n=new kI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await AI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(r){return tn(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=QN(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OI(r){Rh=r}function Zw(r){return Rh.loadJS(r)}function jI(){return Rh.recaptchaEnterpriseScript}function MI(){return Rh.gapiScript}function PI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class VI{constructor(){this.enterprise=new LI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UI="recaptcha-enterprise",Jw="NO_RECAPTCHA";class BI{constructor(e){this.type=UI,this.auth=cl(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{yI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new gI(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(y=>{m(y)})})}function o(c,u,m){const y=window.grecaptcha;E_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(Jw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{a(this.auth).then(m=>{if(!n&&E_(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=jI();y.length!==0&&(y+=m),Zw(y).then(()=>{o(m,c,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function C_(r,e,n,a=!1,o=!1){const c=new BI(r);let u;if(o)u=Jw;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function I_(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await C_(r,e,n,n==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await C_(r,e,n,n==="getOobCode");return a(r,u)}else return Promise.reject(c)})}function zI(r,e){const n=Th(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Fs(c,e??{}))return o;Xr(o,"already-initialized")}return n.initialize({options:e})}function FI(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function HI(r,e,n){const a=cl(r);Be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=$w(e),{host:u,port:m}=qI(e),y=m===null?"":`:${m}`,g={url:`${c}//${u}${y}/`},_=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Be(Fs(g,a.config.emulator)&&Fs(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,ss(u)?(cg(`${c}//${u}${y}`),ug("Auth",!0)):GI()}function $w(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qI(r){const e=$w(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:k_(a.substr(c.length+1))}}else{const[c,u]=a.split(":");return{host:c,port:k_(u)}}}function k_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function KI(r,e){return os(r,"POST","/v1/accounts:signUp",e)}async function QI(r,e){return Sh(r,"POST","/v1/accounts:signInWithPassword",Zs(r,e))}async function XI(r,e){return Sh(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,e))}async function YI(r,e){return Sh(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,e))}class Pc extends vg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Pc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,n,"signInWithPassword",QI);case"emailLink":return XI(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,a,"signUpPassword",KI);case"emailLink":return YI(e,{idToken:n,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wo(r,e){return Sh(r,"POST","/v1/accounts:signInWithIdp",Zs(r,e))}const WI="http://localhost";class qs extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const u=new qs(a,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Wo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:WI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jc(n)}return e}}function ZI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JI(r){const e=gc(yc(r)).link,n=e?gc(yc(e)).deep_link_id:null,a=gc(yc(r)).deep_link_id;return(a?gc(yc(a)).link:null)||a||n||e||r}class bg{constructor(e){const n=gc(yc(e)),a=n.apiKey??null,o=n.oobCode??null,c=ZI(n.mode??null);Be(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JI(e);try{return new bg(n)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=bg.parseLink(n);return Be(a,"argument-error"),Pc._fromEmailAndCode(e,a.code,a.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class La extends eu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";class Ua extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ua.credential(n,a)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";class Ba extends eu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";class za extends eu{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return za.credential(n,a)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await Gr._fromIdTokenResponse(e,a,o),u=D_(a);return new el({user:c,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=D_(a);return new el({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function D_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class sh extends Ei{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new sh(e,n,a,o)}}function tE(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,c,e,a):c})}async function $I(r,e,n=!1){const a=await Mc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return el._forOperation(r,"link",a)}async function e2(r,e,n=!1){const{auth:a}=r;if(Dr(a.app))return Promise.reject(Ka(a));const o="reauthenticate";try{const c=await Mc(r,tE(a,o,e,r),n);Be(c.idToken,a,"internal-error");const u=gg(c.idToken);Be(u,a,"internal-error");const{sub:m}=u;return Be(r.uid===m,a,"user-mismatch"),el._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Xr(a,"user-mismatch"),c}}async function nE(r,e,n=!1){if(Dr(r.app))return Promise.reject(Ka(r));const a="signIn",o=await tE(r,a,e),c=await el._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(c.user),c}async function t2(r,e){return nE(cl(r),e)}async function n2(r){const e=cl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function r2(r,e,n){return Dr(r.app)?Promise.reject(Ka(r)):t2(tn(r),ul.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&n2(r),a})}function i2(r,e,n,a){return tn(r).onIdTokenChanged(e,n,a)}function a2(r,e,n){return tn(r).beforeAuthStateChanged(e,n)}function s2(r){return tn(r).signOut()}const oh="__sak";class rE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const o2=1e3,l2=10;class iE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,y)=>{this.notifyListeners(u,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},c=this.storage.getItem(a);RI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,l2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const c2=iE;class aE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aE.type="SESSION";const sE=aE;function u2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Nh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(u).map(async g=>g(n.origin,c)),y=await u2(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function _g(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,y)=>{const g=_g("",20);o.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(_),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function gi(){return window}function h2(r){gi().location.href=r}function oE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function f2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function p2(){return oE()?self:null}const lE="firebaseLocalStorageDb",g2=1,lh="firebaseLocalStorage",cE="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function y2(){const r=indexedDB.deleteDatabase(lE);return new tu(r).toPromise()}function Ap(){const r=indexedDB.open(lE,g2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(lh,{keyPath:cE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await y2(),e(await Ap()))})})}async function O_(r,e,n){const a=Ch(r,!0).put({[cE]:e,value:n});return new tu(a).toPromise()}async function v2(r,e){const n=Ch(r,!1).get(e),a=await new tu(n).toPromise();return a===void 0?null:a.value}function j_(r,e){const n=Ch(r,!0).delete(e);return new tu(n).toPromise()}const b2=800,_2=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>_2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(p2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await O_(e,oh,"1"),await j_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>O_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>v2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ch(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const x2=uE;new $c(3e4,6e4);function w2(r,e){return e?Wi(e):(Be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E2(r){return nE(r.auth,new xg(r),r.bypassAuthState)}function T2(r){const{auth:e,user:n}=r;return Be(n,e,"internal-error"),e2(n,new xg(r),r.bypassAuthState)}async function A2(r){const{auth:e,user:n}=r;return Be(n,e,"internal-error"),$I(n,new xg(r),r.bypassAuthState)}class dE{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:Xr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S2=new $c(2e3,1e4);class Ko extends dE{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}Ko.currentPopupAction=null;const R2="pendingRedirect",Kd=new Map;class N2 extends dE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const a=await C2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(r,e){const n=D2(e),a=k2(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function I2(r,e){Kd.set(r._key(),e)}function k2(r){return Wi(r._redirectPersistence)}function D2(r){return Gd(R2,r.config.apiKey,r.name)}async function O2(r,e,n=!1){if(Dr(r.app))return Promise.reject(Ka(r));const a=cl(r),o=w2(a,e),u=await new N2(a,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}const j2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function P2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(r);default:return!1}}async function V2(r,e={}){return os(r,"GET","/v1/projects",e)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function B2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await V2(r);for(const n of e)try{if(z2(n))return}catch{}Xr(r,"unauthorized-domain")}function z2(r){const e=Ep(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!U2.test(n))return!1;if(L2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const F2=new $c(3e4,6e4);function P_(){const r=gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function H2(r){return new Promise((e,n)=>{function a(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(pi(r,"network-request-failed"))},timeout:F2.get()})}if(gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gi().gapi?.load)a();else{const o=PI("iframefcb");return gi()[o]=()=>{gapi.load?a():n(pi(r,"network-request-failed"))},Zw(`${MI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function q2(r){return Qd=Qd||H2(r),Qd}const G2=new $c(5e3,15e3),K2="__/auth/iframe",Q2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(r){const e=r.config;Be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pg(e,Q2):`https://${r.config.authDomain}/${K2}`,a={apiKey:e.apiKey,appName:r.name,v:ll},o=Y2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Jc(a).slice(1)}`}async function Z2(r){const e=await q2(r),n=gi().gapi;return Be(n,r,"internal-error"),e.open({where:document.body,url:W2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const u=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{c(u)},G2.get());function y(){gi().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{c(u)})}))}const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$2=500,ek=600,tk="_blank",nk="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rk(r,e,n,a=$2,o=ek){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...J2,width:a.toString(),height:o.toString(),top:c,left:u},g=Ln().toLowerCase();n&&(m=qw(g)?tk:n),Fw(g)&&(e=e||nk,y.scrollbars="yes");const _=Object.entries(y).reduce((A,[S,k])=>`${A}${S}=${k},`,"");if(SI(g)&&m!=="_self")return ik(e||"",m),new V_(null);const w=window.open(e||"",m,_);Be(w,r,"popup-blocked");try{w.focus()}catch{}return new V_(w)}function ik(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const ak="__/auth/handler",sk="emulator/auth/handler",ok=encodeURIComponent("fac");async function L_(r,e,n,a,o,c){Be(r.config.authDomain,r,"auth-domain-config-required"),Be(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:ll,eventId:o};if(e instanceof eE){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",KN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof eu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const y=await r._getAppCheckToken(),g=y?`#${ok}=${encodeURIComponent(y)}`:"";return`${lk(r)}?${Jc(m).slice(1)}${g}`}function lk({config:r}){return r.emulator?pg(r,sk):`https://${r.authDomain}/${ak}`}const sp="webStorageSupport";class ck{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=O2,this._overrideRedirectResult=I2}async _openPopup(e,n,a,o){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await L_(e,n,a,Ep(),o);return rk(e,c,_g())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await L_(e,n,a,Ep(),o);return h2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):($i(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Z2(e),a=new M2(e);return n.register("authEvent",o=>(Be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{const c=o?.[0]?.[sp];c!==void 0&&n(!!c),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yw()||Hw()||yg()}}const uk=ck;var U_="@firebase/auth",B_="1.12.0";class dk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fk(r){Hs(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;Be(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(r)},g=new DI(a,o,c,y);return FI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Hs(new Wa("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(a=>new dk(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(U_,B_,hk(r)),mi(U_,B_,"esm2020")}const mk=300,pk=Cw("authIdTokenMaxAge")||mk;let z_=null;const gk=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>pk)return;const o=n?.token;z_!==o&&(z_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yk(r=fg()){const e=Th(r,"auth");if(e.isInitialized())return e.getImmediate();const n=zI(r,{popupRedirectResolver:uk,persistence:[x2,c2,sE]}),a=Cw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const u=gk(c.toString());a2(n,u,()=>u(n.currentUser)),i2(n,m=>u(m))}}const o=Sw("auth");return o&&HI(n,`http://${o}`),n}function vk(){return document.getElementsByTagName("head")?.[0]??document}OI({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=pi("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",vk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fk("Browser");const bk="type.googleapis.com/google.protobuf.Int64Value",_k="type.googleapis.com/google.protobuf.UInt64Value";function fE(r,e){const n={};for(const a in r)r.hasOwnProperty(a)&&(n[a]=e(r[a]));return n}function ch(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>ch(e));if(typeof r=="function"||typeof r=="object")return fE(r,e=>ch(e));throw new Error("Data cannot be encoded in JSON: "+r)}function tl(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case bk:case _k:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>tl(e)):typeof r=="function"||typeof r=="object"?fE(r,e=>tl(e)):r}const wg="functions";const F_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ir extends Ei{constructor(e,n,a){super(`${wg}/${e}`,n||""),this.details=a,Object.setPrototypeOf(this,ir.prototype)}}function xk(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uh(r,e){let n=xk(r),a=n,o;try{const c=e&&e.error;if(c){const u=c.status;if(typeof u=="string"){if(!F_[u])return new ir("internal","internal");n=F_[u],a=u}const m=c.message;typeof m=="string"&&(a=m),o=c.details,o!==void 0&&(o=tl(o))}}catch{}return n==="ok"?null:new ir(n,a,o)}class wk{constructor(e,n,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||a.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}const Sp="us-central1",Ek=/^data: (.*?)(?:\n|$)/;function Tk(r){let e=null;return{promise:new Promise((n,a)=>{e=setTimeout(()=>{a(new ir("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class Ak{constructor(e,n,a,o,c=Sp,u=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new wk(e,n,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Sp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Sk(r,e,n){const a=ss(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${n}`,a&&(cg(r.emulatorOrigin+"/backends"),ug("Functions",!0))}function Rk(r,e,n){const a=o=>Ck(r,e,o,{});return a.stream=(o,c)=>kk(r,e,o,c),a}function mE(r){return r.emulatorOrigin&&ss(r.emulatorOrigin)?"include":void 0}async function Nk(r,e,n,a,o){n["Content-Type"]="application/json";let c;try{c=await a(r,{method:"POST",body:JSON.stringify(e),headers:n,credentials:mE(o)})}catch{return{status:0,json:null}}let u=null;try{u=await c.json()}catch{}return{status:c.status,json:u}}async function pE(r,e){const n={},a=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return a.authToken&&(n.Authorization="Bearer "+a.authToken),a.messagingToken&&(n["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=a.appCheckToken),n}function Ck(r,e,n,a){const o=r._url(e);return Ik(r,o,n,a)}async function Ik(r,e,n,a){n=ch(n);const o={data:n},c=await pE(r,a),u=a.timeout||7e4,m=Tk(u),y=await Promise.race([Nk(e,o,c,r.fetchImpl,r),m.promise,r.cancelAllRequests]);if(m.cancel(),!y)throw new ir("cancelled","Firebase Functions instance was deleted.");const g=uh(y.status,y.json);if(g)throw g;if(!y.json)throw new ir("internal","Response is not valid JSON object.");let _=y.json.data;if(typeof _>"u"&&(_=y.json.result),typeof _>"u")throw new ir("internal","Response is missing data field.");return{data:tl(_)}}function kk(r,e,n,a){const o=r._url(e);return Dk(r,o,n,a||{})}async function Dk(r,e,n,a){n=ch(n);const o={data:n},c=await pE(r,a);c["Content-Type"]="application/json",c.Accept="text/event-stream";let u;try{u=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:a?.signal,credentials:mE(r)})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const k=new ir("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const S=uh(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let m,y;const g=new Promise((A,S)=>{m=A,y=S});a?.signal?.addEventListener("abort",()=>{const A=new ir("cancelled","Request was cancelled.");y(A)});const _=u.body.getReader(),w=Ok(_,m,y,a?.signal);return{stream:{[Symbol.asyncIterator](){const A=w.getReader();return{async next(){const{value:S,done:k}=await A.read();return{value:S,done:k}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:g}}function Ok(r,e,n,a){const o=(u,m)=>{const y=u.match(Ek);if(!y)return;const g=y[1];try{const _=JSON.parse(g);if("result"in _){e(tl(_.result));return}if("message"in _){m.enqueue(tl(_.message));return}if("error"in _){const w=uh(0,_);m.error(w),n(w);return}}catch(_){if(_ instanceof ir){m.error(_),n(_);return}}},c=new TextDecoder;return new ReadableStream({start(u){let m="";return y();async function y(){if(a?.aborted){const g=new ir("cancelled","Request was cancelled");return u.error(g),n(g),Promise.resolve()}try{const{value:g,done:_}=await r.read();if(_){m.trim()&&o(m.trim(),u),u.close();return}if(a?.aborted){const A=new ir("cancelled","Request was cancelled");u.error(A),n(A),await r.cancel();return}m+=c.decode(g,{stream:!0});const w=m.split(`
`);m=w.pop()||"";for(const A of w)A.trim()&&o(A.trim(),u);return y()}catch(g){const _=g instanceof ir?g:uh(0,null);u.error(_),n(_)}}},cancel(){return r.cancel()}})}const H_="@firebase/functions",q_="0.13.1";const jk="auth-internal",Mk="app-check-internal",Pk="messaging-internal";function Vk(r){const e=(n,{instanceIdentifier:a})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(jk),u=n.getProvider(Pk),m=n.getProvider(Mk);return new Ak(o,c,u,m,a)};Hs(new Wa(wg,e,"PUBLIC").setMultipleInstances(!0)),mi(H_,q_,r),mi(H_,q_,"esm2020")}function Lk(r=fg(),e=Sp){const a=Th(tn(r),wg).getImmediate({identifier:e}),o=Rw("functions");return o&&Uk(a,...o),a}function Uk(r,e,n){Sk(tn(r),e,n)}function Bk(r,e,n){return Rk(tn(r),e)}Vk();var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qa,gE;(function(){var r;function e(E,N){function C(){}C.prototype=N.prototype,E.F=N.prototype,E.prototype=new C,E.prototype.constructor=E,E.D=function(P,D,U){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return N.prototype[D].apply(P,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,N,C){C||(C=0);const P=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)P[D]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(D=0;D<16;++D)P[D]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=E.g[0],C=E.g[1],D=E.g[2];let U=E.g[3],I;I=N+(U^C&(D^U))+P[0]+3614090360&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(D^N&(C^D))+P[1]+3905402710&4294967295,U=N+(I<<12&4294967295|I>>>20),I=D+(C^U&(N^C))+P[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(N^D&(U^N))+P[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=N+(U^C&(D^U))+P[4]+4118548399&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(D^N&(C^D))+P[5]+1200080426&4294967295,U=N+(I<<12&4294967295|I>>>20),I=D+(C^U&(N^C))+P[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(N^D&(U^N))+P[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=N+(U^C&(D^U))+P[8]+1770035416&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(D^N&(C^D))+P[9]+2336552879&4294967295,U=N+(I<<12&4294967295|I>>>20),I=D+(C^U&(N^C))+P[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(N^D&(U^N))+P[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=N+(U^C&(D^U))+P[12]+1804603682&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(D^N&(C^D))+P[13]+4254626195&4294967295,U=N+(I<<12&4294967295|I>>>20),I=D+(C^U&(N^C))+P[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(N^D&(U^N))+P[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=N+(D^U&(C^D))+P[1]+4129170786&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(N^C))+P[6]+3225465664&4294967295,U=N+(I<<9&4294967295|I>>>23),I=D+(N^C&(U^N))+P[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(D^U))+P[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=N+(D^U&(C^D))+P[5]+3593408605&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(N^C))+P[10]+38016083&4294967295,U=N+(I<<9&4294967295|I>>>23),I=D+(N^C&(U^N))+P[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(D^U))+P[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=N+(D^U&(C^D))+P[9]+568446438&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(N^C))+P[14]+3275163606&4294967295,U=N+(I<<9&4294967295|I>>>23),I=D+(N^C&(U^N))+P[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(D^U))+P[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=N+(D^U&(C^D))+P[13]+2850285829&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(N^C))+P[2]+4243563512&4294967295,U=N+(I<<9&4294967295|I>>>23),I=D+(N^C&(U^N))+P[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(D^U))+P[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=N+(C^D^U)+P[5]+4294588738&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^D)+P[8]+2272392833&4294967295,U=N+(I<<11&4294967295|I>>>21),I=D+(U^N^C)+P[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^N)+P[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=N+(C^D^U)+P[1]+2763975236&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^D)+P[4]+1272893353&4294967295,U=N+(I<<11&4294967295|I>>>21),I=D+(U^N^C)+P[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^N)+P[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=N+(C^D^U)+P[13]+681279174&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^D)+P[0]+3936430074&4294967295,U=N+(I<<11&4294967295|I>>>21),I=D+(U^N^C)+P[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^N)+P[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=N+(C^D^U)+P[9]+3654602809&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^D)+P[12]+3873151461&4294967295,U=N+(I<<11&4294967295|I>>>21),I=D+(U^N^C)+P[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^N)+P[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=N+(D^(C|~U))+P[0]+4096336452&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~D))+P[7]+1126891415&4294967295,U=N+(I<<10&4294967295|I>>>22),I=D+(N^(U|~C))+P[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~N))+P[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=N+(D^(C|~U))+P[12]+1700485571&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~D))+P[3]+2399980690&4294967295,U=N+(I<<10&4294967295|I>>>22),I=D+(N^(U|~C))+P[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~N))+P[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=N+(D^(C|~U))+P[8]+1873313359&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~D))+P[15]+4264355552&4294967295,U=N+(I<<10&4294967295|I>>>22),I=D+(N^(U|~C))+P[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~N))+P[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=N+(D^(C|~U))+P[4]+4149444226&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~D))+P[11]+3174756917&4294967295,U=N+(I<<10&4294967295|I>>>22),I=D+(N^(U|~C))+P[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~N))+P[9]+3951481745&4294967295,E.g[0]=E.g[0]+N&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+U&4294967295}a.prototype.v=function(E,N){N===void 0&&(N=E.length);const C=N-this.blockSize,P=this.C;let D=this.h,U=0;for(;U<N;){if(D==0)for(;U<=C;)o(this,E,U),U+=this.blockSize;if(typeof E=="string"){for(;U<N;)if(P[D++]=E.charCodeAt(U++),D==this.blockSize){o(this,P),D=0;break}}else for(;U<N;)if(P[D++]=E[U++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=N},a.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var N=1;N<E.length-8;++N)E[N]=0;N=this.o*8;for(var C=E.length-8;C<E.length;++C)E[C]=N&255,N/=256;for(this.v(E),E=Array(16),N=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)E[N++]=this.g[C]>>>P&255;return E};function c(E,N){var C=m;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=N(E)}function u(E,N){this.h=N;const C=[];let P=!0;for(let D=E.length-1;D>=0;D--){const U=E[D]|0;P&&U==N||(C[D]=U,P=!1)}this.g=C}var m={};function y(E){return-128<=E&&E<128?c(E,function(N){return new u([N|0],N<0?-1:0)}):new u([E|0],E<0?-1:0)}function g(E){if(isNaN(E)||!isFinite(E))return w;if(E<0)return K(g(-E));const N=[];let C=1;for(let P=0;E>=C;P++)N[P]=E/C|0,C*=4294967296;return new u(N,0)}function _(E,N){if(E.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E.charAt(0)=="-")return K(_(E.substring(1),N));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(N,8));let P=w;for(let U=0;U<E.length;U+=8){var D=Math.min(8,E.length-U);const I=parseInt(E.substring(U,U+D),N);D<8?(D=g(Math.pow(N,D)),P=P.j(D).add(g(I))):(P=P.j(C),P=P.add(g(I)))}return P}var w=y(0),A=y(1),S=y(16777216);r=u.prototype,r.m=function(){if(F(this))return-K(this).m();let E=0,N=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);E+=(P>=0?P:4294967296+P)*N,N*=4294967296}return E},r.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(F(this))return"-"+K(this).toString(E);const N=g(Math.pow(E,6));var C=this;let P="";for(;;){const D=Ae(C,N).g;C=ne(C,D.j(N));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(E);if(C=D,k(C))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},r.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(let N=0;N<E.g.length;N++)if(E.g[N]!=0)return!1;return!0}function F(E){return E.h==-1}r.l=function(E){return E=ne(this,E),F(E)?-1:k(E)?0:1};function K(E){const N=E.g.length,C=[];for(let P=0;P<N;P++)C[P]=~E.g[P];return new u(C,~E.h).add(A)}r.abs=function(){return F(this)?K(this):this},r.add=function(E){const N=Math.max(this.g.length,E.g.length),C=[];let P=0;for(let D=0;D<=N;D++){let U=P+(this.i(D)&65535)+(E.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);P=I>>>16,U&=65535,I&=65535,C[D]=I<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function ne(E,N){return E.add(K(N))}r.j=function(E){if(k(this)||k(E))return w;if(F(this))return F(E)?K(this).j(K(E)):K(K(this).j(E));if(F(E))return K(this.j(K(E)));if(this.l(S)<0&&E.l(S)<0)return g(this.m()*E.m());const N=this.g.length+E.g.length,C=[];for(var P=0;P<2*N;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<E.g.length;D++){const U=this.i(P)>>>16,I=this.i(P)&65535,Pe=E.i(D)>>>16,Ne=E.i(D)&65535;C[2*P+2*D]+=I*Ne,$(C,2*P+2*D),C[2*P+2*D+1]+=U*Ne,$(C,2*P+2*D+1),C[2*P+2*D+1]+=I*Pe,$(C,2*P+2*D+1),C[2*P+2*D+2]+=U*Pe,$(C,2*P+2*D+2)}for(E=0;E<N;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=N;E<2*N;E++)C[E]=0;return new u(C,0)};function $(E,N){for(;(E[N]&65535)!=E[N];)E[N+1]+=E[N]>>>16,E[N]&=65535,N++}function oe(E,N){this.g=E,this.h=N}function Ae(E,N){if(k(N))throw Error("division by zero");if(k(E))return new oe(w,w);if(F(E))return N=Ae(K(E),N),new oe(K(N.g),K(N.h));if(F(N))return N=Ae(E,K(N)),new oe(K(N.g),N.h);if(E.g.length>30){if(F(E)||F(N))throw Error("slowDivide_ only works with positive integers.");for(var C=A,P=N;P.l(E)<=0;)C=Se(C),P=Se(P);var D=Te(C,1),U=Te(P,1);for(P=Te(P,2),C=Te(C,2);!k(P);){var I=U.add(P);I.l(E)<=0&&(D=D.add(C),U=I),P=Te(P,1),C=Te(C,1)}return N=ne(E,D.j(N)),new oe(D,N)}for(D=w;E.l(N)>=0;){for(C=Math.max(1,Math.floor(E.m()/N.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=g(C),I=U.j(N);F(I)||I.l(E)>0;)C-=P,U=g(C),I=U.j(N);k(U)&&(U=A),D=D.add(U),E=ne(E,I)}return new oe(D,E)}r.B=function(E){return Ae(this,E).h},r.and=function(E){const N=Math.max(this.g.length,E.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)&E.i(P);return new u(C,this.h&E.h)},r.or=function(E){const N=Math.max(this.g.length,E.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)|E.i(P);return new u(C,this.h|E.h)},r.xor=function(E){const N=Math.max(this.g.length,E.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)^E.i(P);return new u(C,this.h^E.h)};function Se(E){const N=E.g.length+1,C=[];for(let P=0;P<N;P++)C[P]=E.i(P)<<1|E.i(P-1)>>>31;return new u(C,E.h)}function Te(E,N){const C=N>>5;N%=32;const P=E.g.length-C,D=[];for(let U=0;U<P;U++)D[U]=N>0?E.i(U+C)>>>N|E.i(U+C+1)<<32-N:E.i(U+C);return new u(D,E.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gE=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Qa=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,vc,vE,Xd,Rp,bE,_E,xE;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function o(d,v){if(v)e:{var x=a;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in x))break e;x=x[H]}d=d[d.length-1],R=x[d],v=v(R),v!=R&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var x=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&x.push([R,v[R]]);return x}});var c=c||{},u=this||self;function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,x){return d.call.apply(d.bind,arguments)}function g(d,v,x){return g=y,g.apply(null,arguments)}function _(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function w(d,v){function x(){}x.prototype=v.prototype,d.Z=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(R,H,W){for(var fe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)fe[Ke-2]=arguments[Ke];return v.prototype[H].apply(R,fe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const v=d.length;if(v>0){const x=Array(v);for(let R=0;R<v;R++)x[R]=d[R];return x}return[]}function k(d,v){for(let R=1;R<arguments.length;R++){const H=arguments[R];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=d.length||0;const W=H.length||0;d.length=x+W;for(let fe=0;fe<W;fe++)d[x+fe]=H[fe]}else d.push(H)}}class F{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(d){u.setTimeout(()=>{throw d},0)}function ne(){var d=E;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,x){const R=oe.get();R.set(v,x),this.h?this.h.next=R:this.g=R,this.h=R}}var oe=new F(()=>new Ae,d=>d.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Te=!1,E=new $,N=()=>{const d=Promise.resolve(void 0);Se=()=>{d.then(C)}};function C(){for(var d;d=ne();){try{d.h.call(d.g)}catch(x){K(x)}var v=oe;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}Te=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function Pe(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}w(Pe,D),Pe.prototype.init=function(d,v){const x=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ce(d,v,x,R,H){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!R,this.ha=H,this.key=++Q,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ie(d,v,x){for(const R in d)v.call(x,d[R],R,d)}function Le(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function M(d){const v={};for(const x in d)v[x]=d[x];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let x,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(x in R)d[x]=R[x];for(let W=0;W<J.length;W++)x=J[W],Object.prototype.hasOwnProperty.call(R,x)&&(d[x]=R[x])}}function le(d){this.src=d,this.g={},this.h=0}le.prototype.add=function(d,v,x,R,H){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const fe=De(d,v,R,H);return fe>-1?(v=d[fe],x||(v.fa=!1)):(v=new ce(v,this.src,W,!!R,H),v.fa=x,d.push(v)),v};function xe(d,v){const x=v.type;if(x in d.g){var R=d.g[x],H=Array.prototype.indexOf.call(R,v,void 0),W;(W=H>=0)&&Array.prototype.splice.call(R,H,1),W&&(de(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function De(d,v,x,R){for(let H=0;H<d.length;++H){const W=d[H];if(!W.da&&W.listener==v&&W.capture==!!x&&W.ha==R)return H}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),vt={};function mt(d,v,x,R,H){if(Array.isArray(v)){for(let W=0;W<v.length;W++)mt(d,v[W],x,R,H);return null}return x=Ai(x),d&&d[Ne]?d.J(v,x,m(R)?!!R.capture:!1,H):ke(d,v,x,!1,R,H)}function ke(d,v,x,R,H,W){if(!v)throw Error("Invalid event type");const fe=m(H)?!!H.capture:!!H;let Ke=xn(d);if(Ke||(d[Fe]=Ke=new le(d)),x=Ke.add(v,x,R,fe,W),x.proxy)return x;if(R=Gt(),x.proxy=R,R.src=d,R.listener=x,d.addEventListener)U||(H=fe),H===void 0&&(H=!1),d.addEventListener(v.toString(),R,H);else if(d.attachEvent)d.attachEvent(yn(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Gt(){function d(x){return v.call(d.src,d.listener,x)}const v=Pr;return d}function Ue(d,v,x,R,H){if(Array.isArray(v))for(var W=0;W<v.length;W++)Ue(d,v[W],x,R,H);else R=m(R)?!!R.capture:!!R,x=Ai(x),d&&d[Ne]?(d=d.i,W=String(v).toString(),W in d.g&&(v=d.g[W],x=De(v,x,R,H),x>-1&&(de(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete d.g[W],d.h--)))):d&&(d=xn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=De(v,x,R,H)),(x=d>-1?v[d]:null)&&gn(x))}function gn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ne])xe(v.i,d);else{var x=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(x,R,d.capture):v.detachEvent?v.detachEvent(yn(x),R):v.addListener&&v.removeListener&&v.removeListener(R),(x=xn(v))?(xe(x,d),x.h==0&&(x.src=null,v[Fe]=null)):de(d)}}}function yn(d){return d in vt?vt[d]:vt[d]="on"+d}function Pr(d,v){if(d.da)d=!0;else{v=new Pe(v,this);const x=d.listener,R=d.ha||d.src;d.fa&&gn(d),d=x.call(R,v)}return d}function xn(d){return d=d[Fe],d instanceof le?d:null}var Ti="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ai(d){return typeof d=="function"?d:(d[Ti]||(d[Ti]=function(v){return d.handleEvent(v)}),d[Ti])}function jt(){P.call(this),this.i=new le(this),this.M=this,this.G=null}w(jt,P),jt.prototype[Ne]=!0,jt.prototype.removeEventListener=function(d,v,x,R){Ue(this,d,v,x,R)};function pe(d,v){var x,R=d.G;if(R)for(x=[];R;R=R.G)x.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var H=v;v=new D(R,d),ue(v,H)}H=!0;let W,fe;if(x)for(fe=x.length-1;fe>=0;fe--)W=v.g=x[fe],H=Mt(W,R,!0,v)&&H;if(W=v.g=d,H=Mt(W,R,!0,v)&&H,H=Mt(W,R,!1,v)&&H,x)for(fe=0;fe<x.length;fe++)W=v.g=x[fe],H=Mt(W,R,!1,v)&&H}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const x=d.g[v];for(let R=0;R<x.length;R++)de(x[R]);delete d.g[v],d.h--}}this.G=null},jt.prototype.J=function(d,v,x,R){return this.i.add(String(d),v,!1,x,R)},jt.prototype.K=function(d,v,x,R){return this.i.add(String(d),v,!0,x,R)};function Mt(d,v,x,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let W=0;W<v.length;++W){const fe=v[W];if(fe&&!fe.da&&fe.capture==x){const Ke=fe.listener,Wt=fe.ha||fe.src;fe.fa&&xe(d.i,fe),H=Ke.call(Wt,R)!==!1&&H}}return H&&!R.defaultPrevented}function wn(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function hn(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,hn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dt extends P{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(d){P.call(this),this.h=d,this.g={}}w(fn,P);var Un=[];function Bn(d){Ie(d.g,function(v,x){this.g.hasOwnProperty(x)&&gn(v)},d),d.g={}}fn.prototype.N=function(){fn.Z.N.call(this),Bn(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=u.JSON.stringify,zn=u.JSON.parse,Si=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ri(){}function na(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){D.call(this,"d")}w(Nt,D);function Fn(){D.call(this,"c")}w(Fn,D);var zt={},us=null;function ra(){return us=us||new jt}zt.Ia="serverreachability";function ds(d){D.call(this,zt.Ia,d)}w(ds,D);function Hn(d){const v=ra();pe(v,new ds(v))}zt.STAT_EVENT="statevent";function Zr(d,v){D.call(this,zt.STAT_EVENT,d),this.stat=v}w(Zr,D);function Ft(d){const v=ra();pe(v,new Zr(v,d))}zt.Ja="timingevent";function br(d,v){D.call(this,zt.Ja,d),this.size=v}w(br,D);function sr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function to(d,v,x,R,H,W){d.info(function(){if(d.g)if(W){var fe="",Ke=W.split("&");for(let gt=0;gt<Ke.length;gt++){var Wt=Ke[gt].split("=");if(Wt.length>1){const Ht=Wt[0];Wt=Wt[1];const wr=Ht.split("_");fe=wr.length>=2&&wr[1]=="type"?fe+(Ht+"="+Wt+"&"):fe+(Ht+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+x+`
`+fe})}function Ni(d,v,x,R,H,W,fe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+x+`
`+W+" "+fe})}function qn(d,v,x,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+gl(d,x)+(R?" "+R:"")})}function Jr(d,v){d.info(function(){return"TIMEOUT: "+v})}or.prototype.info=function(){};function gl(d,v){if(!d.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var x=W[d];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return Bt(W)}catch{return v}}var Ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},O={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},B;function X(){}w(X,Ri),X.prototype.g=function(){return new XMLHttpRequest},B=new X;function se(d){return encodeURIComponent(String(d))}function he(d){var v=1;d=d.split(":");const x=[];for(;v>0&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function be(d,v,x,R){this.j=d,this.i=v,this.l=x,this.S=R||1,this.V=new fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var me={},ye={};function Ee(d,v,x){d.M=1,d.A=hs(Et(v)),d.u=x,d.R=!0,Oe(d,null)}function Oe(d,v){d.F=Date.now(),wt(d),d.B=Et(d.A);var x=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),ro(x.i,"t",R),d.C=0,x=d.j.L,d.h=new ge,d.g=wu(d.j,x?v:null,!d.u),d.P>0&&(d.O=new dt(g(d.Y,d,d.g),d.P)),v=d.V,x=d.g,R=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Un[0]=H.toString()),H=Un);for(let W=0;W<H.length;W++){const fe=mt(x,H[W],R||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.J?M(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hn(),to(d.i,d.v,d.B,d.l,d.S,d.u)}be.prototype.ba=function(d){d=d.target;const v=this.O;v&&Ur(d)==3?v.j():this.Y(d)},be.prototype.Y=function(d){try{if(d==this.g)e:{const Ke=Ur(this.g),Wt=this.g.ya(),gt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||Ke!=4||Wt==7||(Wt==8||gt<=0?Hn(3):Hn(2)),It(this);var v=this.g.ca();this.X=v;var x=Ce(this);if(this.o=v==200,Ni(this.i,this.v,this.B,this.l,this.S,Ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(R)){var W=R;break t}}W=null}if(d=W)qn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vn(this,d);else{this.o=!1,this.m=3,Ft(12),kt(this),Xe(this);break e}}if(this.R){d=!0;let Ht;for(;!this.K&&this.C<x.length;)if(Ht=et(this,x),Ht==ye){Ke==4&&(this.m=4,Ft(14),d=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==me){this.m=4,Ft(15),qn(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else qn(this.i,this.l,Ht,null),vn(this,Ht);if($e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||x.length!=0||this.h.h||(this.m=1,Ft(16),d=!1),this.o=this.o&&d,!d)qn(this.i,this.l,x,"[Invalid Chunked Response]"),kt(this),Xe(this);else if(x.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Al(fe),fe.P=!0,Ft(11))}}else qn(this.i,this.l,x,null),vn(this,x);Ke==4&&kt(this),this.o&&!this.K&&(Ke==4?vu(this.j,this):(this.o=!1,wt(this)))}else ki(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),kt(this),Xe(this)}}}catch{}};function Ce(d){if(!$e(d))return d.g.la();const v=En(d.g);if(v==="")return"";let x="";const R=v.length,H=Ur(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return kt(d),Xe(d),"";d.h.i=new u.TextDecoder}for(let W=0;W<R;W++)d.h.h=!0,x+=d.h.i.decode(v[W],{stream:!(H&&W==R-1)});return v.length=0,d.h.g+=x,d.C=0,d.h.g}function $e(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function et(d,v){var x=d.C,R=v.indexOf(`
`,x);return R==-1?ye:(x=Number(v.substring(x,R)),isNaN(x)?me:(R+=1,R+x>v.length?ye:(v=v.slice(R,R+x),d.C=R+x,v)))}be.prototype.cancel=function(){this.K=!0,kt(this)};function wt(d){d.T=Date.now()+d.H,Pt(d,d.H)}function Pt(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=sr(g(d.aa,d),v)}function It(d){d.D&&(u.clearTimeout(d.D),d.D=null)}be.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Hn(),Ft(17)),kt(this),this.m=2,Xe(this)):Pt(this,this.T-d)};function Xe(d){d.j.I==0||d.K||vu(d.j,d)}function kt(d){It(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Bn(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function vn(d,v){try{var x=d.j;if(x.I!=0&&(x.g==d||Dn(x.h,d))){if(!d.L&&Dn(x.h,d)&&x.I==3){try{var R=x.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)lo(x),da(x);else break e;bs(x),Ft(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=sr(g(x.Va,x),6e3));Xn(x.h)<=1&&x.ta&&(x.ta=void 0)}else si(x,11)}else if((d.L||x.g==d)&&lo(x),!I(v))for(H=x.Ba.g.parse(v),v=0;v<H.length;v++){let gt=H[v];const Ht=gt[0];if(!(Ht<=x.K))if(x.K=Ht,gt=gt[1],x.I==2)if(gt[0]=="c"){x.M=gt[1],x.ba=gt[2];const wr=gt[3];wr!=null&&(x.ka=wr,x.j.info("VER="+x.ka));const oi=gt[4];oi!=null&&(x.za=oi,x.j.info("SVER="+x.za));const Br=gt[5];Br!=null&&typeof Br=="number"&&Br>0&&(R=1.5*Br,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const zr=d.g;if(zr){const _s=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var W=R.h;W.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(lr(W,W.h),W.h=null))}if(R.G){const co=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(R.wa=co,pt(R.J,R.G,co))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var fe=d;if(R.na=xu(R,R.L?R.ba:null,R.W),fe.L){$r(R.h,fe);var Ke=fe,Wt=R.O;Wt&&(Ke.H=Wt),Ke.D&&(It(Ke),wt(Ke)),R.g=fe}else gu(R);x.i.length>0&&ai(x)}else gt[0]!="stop"&&gt[0]!="close"||si(x,7);else x.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?si(x,7):El(x):gt[0]!="noop"&&x.l&&x.l.qa(gt),x.A=0)}}Hn(4)}catch{}}var Dt=class{constructor(d,v){this.g=d,this.map=v}};function Qn(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xn(d){return d.h?1:d.g?d.g.size:0}function Dn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function lr(d,v){d.g?d.g.add(v):d.h=v}function $r(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qn.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ei(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.G);return v}return S(d.i)}var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(d,v){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const R=d[x].indexOf("=");let H,W=null;R>=0?(H=d[x].substring(0,R),W=d[x].substring(R+1)):H=d[x],v(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function nn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof nn?(this.l=d.l,Ye(this,d.j),this.o=d.o,this.g=d.g,cr(this,d.u),this.h=d.h,ia(this,mu(d.i)),this.m=d.m):d&&(v=String(d).match(Ze))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=ti(v[2]||""),this.g=ti(v[3]||"",!0),cr(this,v[4]),this.h=ti(v[5]||"",!0),ia(this,v[6]||"",!0),this.m=ti(v[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}nn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(fs(v,no,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(fs(v,no,!0),"@"),d.push(se(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(fs(x,x.charAt(0)=="/"?yl:du,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",fs(x,hu)),d.join("")},nn.prototype.resolve=function(d){const v=Et(this);let x=!!d.j;x?Ye(v,d.j):x=!!d.o,x?v.o=d.o:x=!!d.g,x?v.g=d.g:x=d.u!=null;var R=d.h;if(x)cr(v,d.u);else if(x=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=v.h.lastIndexOf("/");H!=-1&&(R=v.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let fe=0;fe<H.length;){const Ke=H[fe++];Ke=="."?R&&fe==H.length&&W.push(""):Ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&fe==H.length&&W.push("")):(W.push(Ke),R=!0)}R=W.join("/")}else R=H}return x?v.h=R:x=d.i.toString()!=="",x?ia(v,mu(d.i)):x=!!d.m,x&&(v.m=d.m),v};function Et(d){return new nn(d)}function Ye(d,v,x){d.j=x?ti(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function cr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function ia(d,v,x){v instanceof sa?(d.i=v,io(d.i,d.l)):(x||(v=fs(v,aa)),d.i=new sa(v,d.l))}function pt(d,v,x){d.i.set(v,x)}function hs(d){return pt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ti(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function fs(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,Yn),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var no=/[#\/\?@]/g,du=/[#\?:]/g,yl=/[#\?]/g,aa=/[#\?@]/g,hu=/#/g;function sa(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Wn(d){d.g||(d.g=new Map,d.h=0,d.i&&Kt(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=sa.prototype,r.add=function(d,v){Wn(this),this.i=null,d=oa(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function fu(d,v){Wn(d),v=oa(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function vl(d,v){return Wn(d),v=oa(d,v),d.g.has(v)}r.forEach=function(d,v){Wn(this),this.g.forEach(function(x,R){x.forEach(function(H){d.call(v,H,R,this)},this)},this)};function bl(d,v){Wn(d);let x=[];if(typeof v=="string")vl(d,v)&&(x=x.concat(d.g.get(oa(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)x=x.concat(d[v]);return x}r.set=function(d,v){return Wn(this),this.i=null,d=oa(this,d),vl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=bl(this,d),d.length>0?String(d[0]):v):v};function ro(d,v,x){fu(d,v),x.length>0&&(d.i=null,d.g.set(oa(d,v),S(x)),d.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var x=v[R];const H=se(x);x=bl(this,x);for(let W=0;W<x.length;W++){let fe=H;x[W]!==""&&(fe+="="+se(x[W])),d.push(fe)}}return this.i=d.join("&")};function mu(d){const v=new sa;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function oa(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function io(d,v){v&&!d.j&&(Wn(d),d.i=null,d.g.forEach(function(x,R){const H=R.toLowerCase();R!=H&&(fu(this,R),ro(this,H,x))},d)),d.j=v}function Vr(d,v){const x=new or;if(u.Image){const R=new Image;R.onload=_(_r,x,"TestLoadImage: loaded",!0,v,R),R.onerror=_(_r,x,"TestLoadImage: error",!1,v,R),R.onabort=_(_r,x,"TestLoadImage: abort",!1,v,R),R.ontimeout=_(_r,x,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function _l(d,v){const x=new or,R=new AbortController,H=setTimeout(()=>{R.abort(),_r(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(H),W.ok?_r(x,"TestPingServer: ok",!0,v):_r(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),_r(x,"TestPingServer: error",!1,v)})}function _r(d,v,x,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(x)}catch{}}function la(){this.g=new Si}function ni(d){this.i=d.Sb||null,this.h=d.ab||!1}w(ni,Ri),ni.prototype.g=function(){return new ms(this.i,this.h)};function ms(d,v){jt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ms,jt),r=ms.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Lr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ca(this):Lr(this),this.readyState==3&&ao(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,ca(this))},r.Na=function(d){this.g&&(this.response=d,ca(this))},r.ga=function(){this.g&&ca(this)};function ca(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Lr(d)}r.setRequestHeader=function(d,v){this.A.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xr(d){let v="";return Ie(d,function(x,R){v+=R,v+=":",v+=x,v+=`\r
`}),v}function ps(d,v,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=xr(x),typeof d=="string"?x!=null&&se(x):pt(d,v,x))}function Tt(d){jt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Tt,jt);var ri=/^https?$/i,xl=["POST","PUT"];r=Tt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,v,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():B.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(W){gs(this,W);return}if(d=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)x.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())x.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(xl,v,void 0)>=0)||R||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of x)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){gs(this,W)}};function gs(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,wl(d),Ii(d)}function wl(d){d.A||(d.A=!0,pe(d,"complete"),pe(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,pe(this,"complete"),pe(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(d){if(d.h&&typeof c<"u"){if(d.v&&Ur(d)==4)setTimeout(d.Ca.bind(d),0);else if(pe(d,"readystatechange"),Ur(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var R;if(R=W===0){let fe=String(d.D).match(Ze)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),R=!ri.test(fe?fe.toLowerCase():"")}x=R}if(x)pe(d,"complete"),pe(d,"success");else{d.o=6;try{var H=Ur(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",wl(d)}}finally{Ii(d)}}}}function Ii(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,v||pe(d,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ur(d){return d.g?d.g.readyState:0}r.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),zn(v)}};function En(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(d){const v={};d=(d.g&&Ur(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(I(d[R]))continue;var x=he(d[R]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=v[H]||[];v[H]=W,W.push(x)}Le(v,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function ua(d){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,d),this.Za=ii("retryDelaySeedMs",1e4,d),this.Ta=ii("forwardChannelMaxRetries",2,d),this.va=ii("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Qn(d&&d.concurrentRequestLimit),this.Ba=new la,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ua.prototype,r.ka=8,r.I=1,r.connect=function(d,v,x,R){Ft(0),this.W=d,this.H=v||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=xu(this,null,this.W),ai(this)};function El(d){if(so(d),d.I==3){var v=d.V++,x=Et(d.J);if(pt(x,"SID",d.M),pt(x,"RID",v),pt(x,"TYPE","terminate"),vs(d,x),v=new be(d,d.j,v),v.M=2,v.A=hs(Et(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=wu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wt(v)}_u(d)}function da(d){d.g&&(Al(d),d.g.cancel(),d.g=null)}function so(d){da(d),d.v&&(u.clearTimeout(d.v),d.v=null),lo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ai(d){if(!kn(d.h)&&!d.m){d.m=!0;var v=d.Ea;Se||N(),Te||(Se(),Te=!0),E.add(v,d),d.D=0}}function oo(d,v){return Xn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=sr(g(d.Ea,d,v),bu(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new be(this,this.j,d);let W=this.o;if(this.U&&(W?(W=M(W),ue(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=pu(this,H,v),x=Et(this.J),pt(x,"RID",d),pt(x,"CVER",22),this.G&&pt(x,"X-HTTP-Session-Id",this.G),vs(this,x),W&&(this.R?v="headers="+se(xr(W))+"&"+v:this.u&&ps(x,this.u,W)),lr(this.h,H),this.Ra&&pt(x,"TYPE","init"),this.S?(pt(x,"$req",v),pt(x,"SID","null"),H.U=!0,Ee(H,x,null)):Ee(H,x,v),this.I=2}}else this.I==3&&(d?Tl(this,d):this.i.length==0||kn(this.h)||Tl(this))};function Tl(d,v){var x;v?x=v.l:x=d.V++;const R=Et(d.J);pt(R,"SID",d.M),pt(R,"RID",x),pt(R,"AID",d.K),vs(d,R),d.u&&d.o&&ps(R,d.u,d.o),x=new be(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),v&&(d.i=v.G.concat(d.i)),v=pu(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),lr(d.h,x),Ee(x,R,v)}function vs(d,v){d.H&&Ie(d.H,function(x,R){pt(v,R,x)}),d.l&&Ie({},function(x,R){pt(v,R,x)})}function pu(d,v,x){x=Math.min(d.i.length,x);const R=d.l?g(d.l.Ka,d.l,d):null;e:{var H=d.i;let Ke=-1;for(;;){const Wt=["count="+x];Ke==-1?x>0?(Ke=H[0].g,Wt.push("ofs="+Ke)):Ke=0:Wt.push("ofs="+Ke);let gt=!0;for(let Ht=0;Ht<x;Ht++){var W=H[Ht].g;const wr=H[Ht].map;if(W-=Ke,W<0)Ke=Math.max(0,H[Ht].g-100),gt=!1;else try{W="req"+W+"_"||"";try{var fe=wr instanceof Map?wr:Object.entries(wr);for(const[oi,Br]of fe){let zr=Br;m(Br)&&(zr=Bt(Br)),Wt.push(W+oi+"="+encodeURIComponent(zr))}}catch(oi){throw Wt.push(W+"type="+encodeURIComponent("_badmap")),oi}}catch{R&&R(wr)}}if(gt){fe=Wt.join("&");break e}}fe=void 0}return d=d.i.splice(0,x),v.G=d,fe}function gu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;Se||N(),Te||(Se(),Te=!0),E.add(v,d),d.A=0}}function bs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=sr(g(d.Da,d),bu(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=sr(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),da(this),yu(this))};function Al(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function yu(d){d.g=new be(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Et(d.na);pt(v,"RID","rpc"),pt(v,"SID",d.M),pt(v,"AID",d.K),pt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&pt(v,"TO",d.ia),pt(v,"TYPE","xmlhttp"),vs(d,v),d.u&&d.o&&ps(v,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=hs(Et(v)),x.u=null,x.R=!0,Oe(x,d)}r.Va=function(){this.C!=null&&(this.C=null,da(this),bs(this),Ft(19))};function lo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function vu(d,v){var x=null;if(d.g==v){lo(d),Al(d),d.g=null;var R=2}else if(Dn(d.h,v))x=v.G,$r(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;R=ra(),pe(R,new br(R,x)),ai(d)}else gu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(R==1&&oo(d,v)||R==2&&bs(d)))switch(x&&x.length>0&&(v=d.h,v.i=v.i.concat(x)),H){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function bu(d,v){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*v}function si(d,v){if(d.j.info("Error code "+v),v==2){var x=g(d.bb,d),R=d.Ua;const H=!R;R=new nn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ye(R,"https"),hs(R),H?Vr(R.toString(),x):_l(R.toString(),x)}else Ft(2);d.I=0,d.l&&d.l.pa(v),_u(d),so(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function _u(d){if(d.I=0,d.ja=[],d.l){const v=ei(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ja,v),k(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function xu(d,v,x){var R=x instanceof nn?Et(x):new nn(x);if(R.g!="")v&&(R.g=v+"."+R.g),cr(R,R.u);else{var H=u.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const W=new nn(null);R&&Ye(W,R),v&&(W.g=v),H&&cr(W,H),x&&(W.h=x),R=W}return x=d.G,v=d.wa,x&&v&&pt(R,x,v),pt(R,"VER",d.ka),vs(d,R),R}function wu(d,v,x){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Tt(new ni({ab:x})):new Tt(d.ma),v.Fa(d.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ha(){}ha.prototype.g=function(d,v){return new Gn(d,v)};function Gn(d,v){jt.call(this),this.g=new ua(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!I(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Di(this)}w(Gn,jt),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){El(this.g)},Gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Bt(d),d=x);v.i.push(new Dt(v.Ya++,d)),v.I==3&&ai(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Gn.Z.N.call(this)};function Tu(d){Nt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Tu,Nt);function Au(){Fn.call(this),this.status=1}w(Au,Fn);function Di(d){this.g=d}w(Di,Eu),Di.prototype.ra=function(){pe(this.g,"a")},Di.prototype.qa=function(d){pe(this.g,new Tu(d))},Di.prototype.pa=function(d){pe(this.g,new Au)},Di.prototype.oa=function(){pe(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,xE=function(){return new ha},_E=function(){return ra()},bE=zt,Rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,Xd=Ci,O.COMPLETE="complete",vE=O,na.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",jt.prototype.listen=jt.prototype.J,vc=na,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,yE=Tt}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");let dl="12.9.0";function zk(r){dl=r}const Gs=new dg("@firebase/firestore");function zo(){return Gs.logLevel}function _e(r,...e){if(Gs.logLevel<=at.DEBUG){const n=e.map(Eg);Gs.debug(`Firestore (${dl}): ${r}`,...n)}}function ea(r,...e){if(Gs.logLevel<=at.ERROR){const n=e.map(Eg);Gs.error(`Firestore (${dl}): ${r}`,...n)}}function Ks(r,...e){if(Gs.logLevel<=at.WARN){const n=e.map(Eg);Gs.warn(`Firestore (${dl}): ${r}`,...n)}}function Eg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ze(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,wE(r,a,n)}function wE(r,e,n){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ea(a),new Error(a)}function bt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||wE(e,o,a)}function Ge(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class EE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class Hk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qk{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xa,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xa)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(bt(typeof a.accessToken=="string",31837,{l:a}),new EE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class Gk{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Kk{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Gk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const a=c=>{c.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Xk(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function st(r,e){return r<e?-1:r>e?1:0}function Np(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return op(o)===op(c)?st(o,c):op(o)?1:-1}return st(r.length,e.length)}const Yk=55296,Wk=57343;function op(r){const e=r.charCodeAt(0);return e>=Yk&&e<=Wk}function nl(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const Q_="__name__";class hi{constructor(e,n,a){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ze(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=hi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return st(e.length,n.length)}static compareSegments(e,n){const a=hi.isNumericId(e),o=hi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class Ot extends hi{construct(e,n,a){return new Ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const Zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends hi{construct(e,n,a){return new Cn(e,n,a)}static isValidIdentifier(e){return Zk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Cn([Q_])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(a+=m,o++):(c(),o++)}if(c(),u)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ot.fromString(e))}static fromName(e){return new Me(Ot.fromString(e).popFirst(5))}static empty(){return new Me(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ot(e.slice()))}}function TE(r,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Jk(r,e,n,a){if(e===!0&&a===!0)throw new ve(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function X_(r){if(!Me.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y_(r){if(Me.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ze(12329,{type:typeof r})}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(r);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function un(r,e){const n={typeString:r};return e&&(n.value=e),n}function nu(r,e){if(!AE(r))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new ve(re.INVALID_ARGUMENT,n);return!0}const W_=-62135596800,Z_=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Z_);return new Ut(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W_)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,Ut._jsonSchema))return new Ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:un("string",Ut._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ut(0,0))}static max(){return new He(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vc=-1;function $k(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=He.fromTimestamp(a===1e9?new Ut(n+1,0):new Ut(n,a));return new Za(o,Me.empty(),e)}function eD(r){return new Za(r.readTime,r.key,Vc)}class Za{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Za(He.min(),Me.empty(),Vc)}static max(){return new Za(He.max(),Me.empty(),Vc)}}function tD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(r.documentKey,e.documentKey),n!==0?n:st(r.largestBatchId,e.largestBatchId))}const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==nD)throw r;_e("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,a)=>{n(e)}))}static reject(e){return new ae(((n,a)=>{a(e)}))}static waitFor(e){return new ae(((n,a)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(y=>a(y)))})),u=!0,c===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next((o=>o?ae.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new ae(((a,o)=>{const c=e.length,u=new Array(c);let m=0;for(let y=0;y<c;y++){const g=y;n(e[g]).next((_=>{u[g]=_,++m,m===c&&a(u)}),(_=>o(_)))}}))}static doWhile(e,n){return new ae(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function iD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const Ag=-1;function Dh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function aD(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function sD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J_(e)),e=oD(r.get(n),e);return J_(e)}function oD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case SE:n+="";break;default:n+=c}}return n}function J_(r){return r+SE+""}function $_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function RE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Qt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Nn.RED,this.left=o??Nn.EMPTY,this.right=c??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Nn(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ex(this.data.getIterator())}getIteratorFrom(e){return new ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new pn(Cn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NE("Invalid base64 string: "+c):c}})(e);return new In(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(r){if(bt(!!r,39018),typeof r=="string"){let e=0;const n=lD.exec(r);if(bt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:$t(r.seconds),nanos:$t(r.nanos)}}function $t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $a(r){return typeof r=="string"?In.fromBase64String(r):In.fromUint8Array(r)}const CE="server_timestamp",IE="__type__",kE="__previous_value__",DE="__local_write_time__";function Sg(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===CE}function Oh(r){const e=r.mapValue.fields[kE];return Sg(e)?Oh(e):e}function Lc(r){const e=Ja(r.mapValue.fields[DE].timestampValue);return new Ut(e.seconds,e.nanos)}class cD{constructor(e,n,a,o,c,u,m,y,g,_,w){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=w}}const hh="(default)";class Uc{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}function uD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(r.options.projectId,e)}const OE="__type__",dD="__max__",Md={mapValue:{}},jE="__vector__",fh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:fD(r)?9007199254740991:hD(r)?10:11:ze(28295,{value:r})}function wi(r,e){if(r===e)return!0;const n=es(r);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lc(r).isEqual(Lc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ja(o.timestampValue),m=Ja(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return $a(o.bytesValue).isEqual($a(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return $t(o.geoPointValue.latitude)===$t(c.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return $t(o.integerValue)===$t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=$t(o.doubleValue),m=$t(c.doubleValue);return u===m?dh(u)===dh(m):isNaN(u)&&isNaN(m)}return!1})(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if($_(u)!==$_(m))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(m[y]===void 0||!wi(u[y],m[y])))return!1;return!0})(r,e);default:return ze(52216,{left:r})}}function Bc(r,e){return(r.values||[]).find((n=>wi(n,e)))!==void 0}function rl(r,e){if(r===e)return 0;const n=es(r),a=es(e);if(n!==a)return st(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(r.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=$t(c.integerValue||c.doubleValue),y=$t(u.integerValue||u.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return tx(r.timestampValue,e.timestampValue);case 4:return tx(Lc(r),Lc(e));case 5:return Np(r.stringValue,e.stringValue);case 6:return(function(c,u){const m=$a(c),y=$a(u);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),y=u.split("/");for(let g=0;g<m.length&&g<y.length;g++){const _=st(m[g],y[g]);if(_!==0)return _}return st(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=st($t(c.latitude),$t(u.latitude));return m!==0?m:st($t(c.longitude),$t(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return nx(r.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},y=u.fields||{},g=m[fh]?.arrayValue,_=y[fh]?.arrayValue,w=st(g?.values?.length||0,_?.values?.length||0);return w!==0?w:nx(g,_)})(r.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Md.mapValue&&u===Md.mapValue)return 0;if(c===Md.mapValue)return 1;if(u===Md.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),g=u.fields||{},_=Object.keys(g);y.sort(),_.sort();for(let w=0;w<y.length&&w<_.length;++w){const A=Np(y[w],_[w]);if(A!==0)return A;const S=rl(m[y[w]],g[_[w]]);if(S!==0)return S}return st(y.length,_.length)})(r.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function tx(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return st(r,e);const n=Ja(r),a=Ja(e),o=st(n.seconds,a.seconds);return o!==0?o:st(n.nanos,a.nanos)}function nx(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=rl(n[o],a[o]);if(c)return c}return st(n.length,a.length)}function il(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ja(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return $a(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Cp(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of a)c?c=!1:o+=",",o+=`${u}:${Cp(n.fields[u])}`;return o+"}"})(r.mapValue):ze(61005,{value:r})}function Yd(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Yd(e):16;case 5:return 2*r.stringValue.length;case 6:return $a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Yd(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ls(a.fields,((c,u)=>{o+=c.length+Yd(u)})),o})(r.mapValue);default:throw ze(13486,{value:r})}}function rx(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ip(r){return!!r&&"integerValue"in r}function Rg(r){return!!r&&"arrayValue"in r}function ix(r){return!!r&&"nullValue"in r}function ax(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wd(r){return!!r&&"mapValue"in r}function hD(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===jE}function Ac(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Ac(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(r.arrayValue.values[n]);return e}return{...r}}function fD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dD}class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Cn.emptyPath(),a={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}u?a[m.lastSegment()]=Ac(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Wd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ls(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new rr(Ac(this.value))}}function ME(r){const e=[];return ls(r.fields,((n,a)=>{const o=new Cn([n]);if(Wd(a)){const c=ME(a.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new vr(e)}class Vn{constructor(e,n,a,o,c,u,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Vn(e,0,He.min(),He.min(),He.min(),rr.empty(),0)}static newFoundDocument(e,n,a,o){return new Vn(e,1,n,He.min(),a,o,0)}static newNoDocument(e,n){return new Vn(e,2,n,He.min(),He.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,He.min(),He.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,n){this.position=e,this.inclusive=n}}function sx(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?a=Me.comparator(Me.fromName(u.referenceValue),n.key):a=rl(u,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function ox(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!wi(r.position[n],e.position[n]))return!1;return!0}class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class PE{}class cn extends PE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new gD(e,n,a):n==="array-contains"?new bD(e,a):n==="in"?new _D(e,a):n==="not-in"?new xD(e,a):n==="array-contains-any"?new wD(e,a):new cn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new yD(e,a):new vD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return VE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function LE(r){return pD(r)&&VE(r)}function pD(r){for(const e of r.filters)if(e instanceof Yr)return!1;return!0}function kp(r){if(r instanceof cn)return r.field.canonicalString()+r.op.toString()+il(r.value);if(LE(r))return r.filters.map((e=>kp(e))).join(",");{const e=r.filters.map((n=>kp(n))).join(",");return`${r.op}(${e})`}}function UE(r,e){return r instanceof cn?(function(a,o){return o instanceof cn&&a.op===o.op&&a.field.isEqual(o.field)&&wi(a.value,o.value)})(r,e):r instanceof Yr?(function(a,o){return o instanceof Yr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,u,m)=>c&&UE(u,o.filters[m])),!0):!1})(r,e):void ze(19439)}function BE(r){return r instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`})(r):r instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"})(r):"Filter"}class gD extends cn{constructor(e,n,a){super(e,n,a),this.key=Me.fromName(a.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class yD extends cn{constructor(e,n){super(e,"in",n),this.keys=zE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vD extends cn{constructor(e,n){super(e,"not-in",n),this.keys=zE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zE(r,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class bD extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&Bc(n.arrayValue,this.value)}}class _D extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class xD extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class wD extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Bc(this.value.arrayValue,a)))}}class ED{constructor(e,n=null,a=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function lx(r,e=null,n=[],a=[],o=null,c=null,u=null){return new ED(r,e,n,a,o,c,u)}function Ng(r){const e=Ge(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>kp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=n}return e.Te}function Cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!UE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ox(r.startAt,e.startAt)&&ox(r.endAt,e.endAt)}function Dp(r){return Me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ml{constructor(e,n=null,a=[],o=[],c=null,u="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TD(r,e,n,a,o,c,u,m){return new ml(r,e,n,a,o,c,u,m)}function jh(r){return new ml(r)}function cx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AD(r){return Me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function FE(r){return r.collectionGroup!==null}function Sc(r){const e=Ge(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new pn(Cn.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zc(c,a))})),n.has(Cn.keyField().canonicalString())||e.Ie.push(new zc(Cn.keyField(),a))}return e.Ie}function vi(r){const e=Ge(r);return e.Ee||(e.Ee=SD(e,Sc(r))),e.Ee}function SD(r,e){if(r.limitType==="F")return lx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new zc(o.field,c)}));const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return lx(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Op(r,e){const n=r.filters.concat([e]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function RD(r,e){const n=r.explicitOrderBy.concat([e]);return new ml(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function jp(r,e,n){return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Mh(r,e){return Cg(vi(r),vi(e))&&r.limitType===e.limitType}function HE(r){return`${Ng(vi(r))}|lt:${r.limitType}`}function Fo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>BE(o))).join(", ")}]`),Dh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>il(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(vi(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Sc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(u,m,y){const g=sx(u,m,y);return u.inclusive?g<=0:g<0})(a.startAt,Sc(a),o)||a.endAt&&!(function(u,m,y){const g=sx(u,m,y);return u.inclusive?g>=0:g>0})(a.endAt,Sc(a),o))})(r,e)}function ND(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(e,n)=>{let a=!1;for(const o of Sc(r)){const c=CD(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function CD(r,e,n){const a=r.field.isKeyField()?Me.comparator(e.key,n.key):(function(c,u,m){const y=u.data.field(c),g=m.data.field(c);return y!==null&&g!==null?rl(y,g):ze(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ze(19790,{direction:r.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const ID=new Qt(Me.comparator);function ta(){return ID}const GE=new Qt(Me.comparator);function bc(...r){let e=GE;for(const n of r)e=e.insert(n.key,n);return e}function KE(r){let e=GE;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Bs(){return Rc()}function QE(){return Rc()}function Rc(){return new Js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kD=new Qt(Me.comparator),DD=new pn(Me.comparator);function ot(...r){let e=DD;for(const n of r)e=e.add(n);return e}const OD=new pn(st);function jD(){return OD}function Ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function XE(r){return{integerValue:""+r}}function MD(r,e){return aD(e)?XE(e):Ig(r,e)}class Vh{constructor(){this._=void 0}}function PD(r,e,n){return r instanceof Fc?(function(o,c){const u={fields:{[IE]:{stringValue:CE},[DE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sg(c)&&(c=Oh(c)),c&&(u.fields[kE]=c),{mapValue:u}})(n,e):r instanceof Hc?WE(r,e):r instanceof qc?ZE(r,e):(function(o,c){const u=YE(o,c),m=ux(u)+ux(o.Ae);return Ip(u)&&Ip(o.Ae)?XE(m):Ig(o.serializer,m)})(r,e)}function VD(r,e,n){return r instanceof Hc?WE(r,e):r instanceof qc?ZE(r,e):n}function YE(r,e){return r instanceof ph?(function(a){return Ip(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Fc extends Vh{}class Hc extends Vh{constructor(e){super(),this.elements=e}}function WE(r,e){const n=JE(e);for(const a of r.elements)n.some((o=>wi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class qc extends Vh{constructor(e){super(),this.elements=e}}function ZE(r,e){let n=JE(e);for(const a of r.elements)n=n.filter((o=>!wi(o,a)));return{arrayValue:{values:n}}}class ph extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ux(r){return $t(r.integerValue||r.doubleValue)}function JE(r){return Rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class LD{constructor(e,n){this.field=e,this.transform=n}}function UD(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Hc&&o instanceof Hc||a instanceof qc&&o instanceof qc?nl(a.elements,o.elements,wi):a instanceof ph&&o instanceof ph?wi(a.Ae,o.Ae):a instanceof Fc&&o instanceof Fc})(r.transform,e.transform)}class BD{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function $E(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new kg(r.key,Kr.none()):new ru(r.key,r.data,Kr.none());{const n=r.data,a=rr.empty();let o=new pn(Cn.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?a.delete(c):a.set(c,u),o=o.add(c)}return new cs(r.key,a,new vr(o.toArray()),Kr.none())}}function zD(r,e,n){r instanceof ru?(function(o,c,u){const m=o.value.clone(),y=hx(o.fieldTransforms,c,u.transformResults);m.setAll(y),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,n):r instanceof cs?(function(o,c,u){if(!Zd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=hx(o.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(eT(o)),y.setAll(m),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(r,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nc(r,e,n,a){return r instanceof ru?(function(c,u,m,y){if(!Zd(c.precondition,u))return m;const g=c.value.clone(),_=fx(c.fieldTransforms,y,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof cs?(function(c,u,m,y){if(!Zd(c.precondition,u))return m;const g=fx(c.fieldTransforms,y,u),_=u.data;return _.setAll(eT(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(c,u,m){return Zd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(r,e,n)}function FD(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=YE(a.transform,o||null);c!=null&&(n===null&&(n=rr.empty()),n.set(a.field,c))}return n||null}function dx(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&nl(a,o,((c,u)=>UD(c,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ru extends Lh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Lh{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function hx(r,e,n){const a=new Map;bt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],u=c.transform,m=e.data.field(c.field);a.set(c.field,VD(u,m,n[o]))}return a}function fx(r,e,n){const a=new Map;for(const o of r){const c=o.transform,u=n.data.field(o.field);a.set(o.field,PD(c,u,e))}return a}class kg extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&zD(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Nc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Nc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=QE();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const y=$E(u,m);y!==null&&a.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(He.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,a)=>dx(n,a)))&&nl(this.baseMutations,e.baseMutations,((n,a)=>dx(n,a)))}}class Dg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){bt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return kD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,a[u].version);return new Dg(e,n,a,o)}}class GD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KD{constructor(e,n){this.count=e,this.unchangedNames=n}}var ln,ct;function QD(r){switch(r){case re.OK:return ze(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return ze(15467,{code:r})}}function tT(r){if(r===void 0)return ea("GRPC error has no .code"),re.UNKNOWN;switch(r){case ln.OK:return re.OK;case ln.CANCELLED:return re.CANCELLED;case ln.UNKNOWN:return re.UNKNOWN;case ln.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case ln.INTERNAL:return re.INTERNAL;case ln.UNAVAILABLE:return re.UNAVAILABLE;case ln.UNAUTHENTICATED:return re.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case ln.NOT_FOUND:return re.NOT_FOUND;case ln.ALREADY_EXISTS:return re.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return re.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case ln.ABORTED:return re.ABORTED;case ln.OUT_OF_RANGE:return re.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return re.UNIMPLEMENTED;case ln.DATA_LOSS:return re.DATA_LOSS;default:return ze(39323,{code:r})}}(ct=ln||(ln={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function XD(){return new TextEncoder}const YD=new Qa([4294967295,4294967295],0);function mx(r){const e=XD().encode(r),n=new gE;return n.update(e),new Uint8Array(n.digest())}function px(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qa([n,a],0),new Qa([o,c],0)]}class Og{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(a<0)throw new _c(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Qa.fromNumber(a)));return o.compare(YD)===1&&(o=new Qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mx(e),[a,o]=px(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);if(!this.we(u))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Og(c,o,n);return a.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=mx(e),[a,o]=px(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Uh(He.min(),o,new Qt(st),ta(),ot())}}class iu{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new iu(a,n,ot(),ot(),ot())}}class Jd{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class nT{constructor(e,n){this.targetId=e,this.Ce=n}}class rT{constructor(e,n,a=In.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class gx{constructor(){this.ve=0,this.Fe=yx(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),a=ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ze(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=yx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class WD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.He=Pd(),this.Je=Pd(),this.Ze=new Qt(st)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Dp(c))if(a===0){const u=new Me(c.path);this.et(n,u,Vn.newNoDocument(u,He.min()))}else bt(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const m=this.ut(e),y=m?this.ct(m,e,u):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=$a(a).toUint8Array()}catch(y){if(y instanceof NE)return Ks("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Og(u,o,c)}catch(y){return Ks(y instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Dp(m.target)){const y=new Me(m.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Vn.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let a=ot();this.Je.forEach(((c,u)=>{let m=!0;u.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Uh(e,n,this.Ze,this.je,a);return this.je=ta(),this.He=Pd(),this.Je=Pd(),this.Ze=new Qt(st),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new gx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new pn(st),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new pn(st),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new Qt(Me.comparator)}function yx(){return new Qt(Me.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class e4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mp(r,e){return r.useProto3Json||Dh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function t4(r,e){return gh(r,e.toTimestamp())}function bi(r){return bt(!!r,49232),He.fromTimestamp((function(n){const a=Ja(n);return new Ut(a.seconds,a.nanos)})(r))}function jg(r,e){return Pp(r,e).canonicalString()}function Pp(r,e){const n=(function(o){return new Ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function aT(r){const e=Ot.fromString(r);return bt(uT(e),10190,{key:e.toString()}),e}function Vp(r,e){return jg(r.databaseId,e.path)}function lp(r,e){const n=aT(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Me(oT(n))}function sT(r,e){return jg(r.databaseId,e)}function n4(r){const e=aT(r);return e.length===4?Ot.emptyPath():oT(e)}function Lp(r){return new Ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vx(r,e,n){return{name:Vp(r,e),fields:n.value.mapValue.fields}}function r4(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(bt(_===void 0||typeof _=="string",58123),In.fromBase64String(_||"")):(bt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),In.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const _=g.code===void 0?re.UNKNOWN:tT(g.code);return new ve(_,g.message||"")})(u);n=new rT(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=lp(r,a.document.name),c=bi(a.document.updateTime),u=a.document.createTime?bi(a.document.createTime):He.min(),m=new rr({mapValue:{fields:a.document.fields}}),y=Vn.newFoundDocument(o,c,u,m),g=a.targetIds||[],_=a.removedTargetIds||[];n=new Jd(g,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=lp(r,a.document),c=a.readTime?bi(a.readTime):He.min(),u=Vn.newNoDocument(o,c),m=a.removedTargetIds||[];n=new Jd([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=lp(r,a.document),c=a.removedTargetIds||[];n=new Jd([],c,o,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,u=new KD(o,c),m=a.targetId;n=new nT(m,u)}}return n}function i4(r,e){let n;if(e instanceof ru)n={update:vx(r,e.key,e.value)};else if(e instanceof kg)n={delete:Vp(r,e.key)};else if(e instanceof cs)n={update:vx(r,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof HD))return ze(16599,{dt:e.type});n={verify:Vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,u){const m=u.transform;if(m instanceof Fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw ze(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:t4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ze(27497)})(r,e.precondition)),n}function a4(r,e){return r&&r.length>0?(bt(e!==void 0,14353),r.map((n=>(function(o,c){let u=o.updateTime?bi(o.updateTime):bi(c);return u.isEqual(He.min())&&(u=bi(c)),new BD(u,o.transformResults||[])})(n,e)))):[]}function s4(r,e){return{documents:[sT(r,e.path)]}}function o4(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=sT(r,o);const c=(function(g){if(g.length!==0)return cT(Yr.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:Ho(A.field),direction:u4(A.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Mp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function l4(r){let e=n4(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){bt(a===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(w){const A=lT(w);return A instanceof Yr&&LE(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((A=>(function(k){return new zc(qo(k.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Dh(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(w){const A=!!w.before,S=w.values||[];return new mh(S,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,S=w.values||[];return new mh(S,A)})(n.endAt)),TD(e,o,u,c,m,"F",y,g)}function c4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=qo(n.unaryFilter.field);return cn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(n.unaryFilter.field);return cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qo(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(r):r.fieldFilter!==void 0?(function(n){return cn.create(qo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map((a=>lT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(r):ze(30097,{filter:r})}function u4(r){return ZD[r]}function d4(r){return JD[r]}function h4(r){return $D[r]}function Ho(r){return{fieldPath:r.canonicalString()}}function qo(r){return Cn.fromServerFormat(r.fieldPath)}function cT(r){return r instanceof cn?(function(n){if(n.op==="=="){if(ax(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(ix(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ax(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(ix(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:d4(n.op),value:n.value}}})(r):r instanceof Yr?(function(n){const a=n.getFilters().map((o=>cT(o)));return a.length===1?a[0]:{compositeFilter:{op:h4(n.op),filters:a}}})(r):ze(54877,{filter:r})}function f4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function dT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ha{constructor(e,n,a,o,c=He.min(),u=He.min(),m=In.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class m4{constructor(e){this.yt=e}}function p4(r){const e=l4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jp(e,e.limit,"L"):e}class g4{constructor(){this.Sn=new y4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Za.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class y4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new pn(Ot.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new pn(Ot.comparator)).toArray()}}const bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(hT,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class al{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new al(0)}static ar(){return new al(-1)}}const _x="LruGarbageCollector",v4=1048576;function xx([r,e],[n,a]){const o=st(r,n);return o===0?st(e,a):o}class b4{constructor(e){this.Pr=e,this.buffer=new pn(xx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();xx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(_x,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?_e(_x,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Ar(3e5)}))}}class x4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(kh.ce);const a=new b4(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(bx)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,c,u,m,y,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,m=Date.now(),this.removeTargets(e,a,n)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(g=Date.now(),zo()<=at.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function w4(r,e){return new x4(r,e)}class E4{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class T4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class A4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Nc(a.mutation,o,vr.empty(),Ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ot()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ot()){const o=Bs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let u=bc();return c.forEach(((m,y)=>{u=u.insert(m,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=Bs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ot())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,a,o){let c=ta();const u=Rc(),m=(function(){return Rc()})();return n.forEach(((y,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof cs)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Nc(_.mutation,g,_.mutation.getFieldMask(),Ut.now())):u.set(g.key,vr.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,_)=>u.set(g,_))),n.forEach(((g,_)=>m.set(g,new T4(_,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Rc();let o=new Qt(((u,m)=>u-m)),c=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let _=a.get(y)||vr.empty();_=m.applyToLocalView(g,_),a.set(y,_);const w=(o.get(m.batchId)||ot()).add(y);o=o.insert(m.batchId,w)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,_=y.value,w=QE();_.forEach((A=>{if(!c.has(A)){const S=$E(n.get(A),a.get(A));S!==null&&w.set(A,S),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ae.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return AD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):ae.resolve(Bs());let m=Vc,y=c;return u.next((g=>ae.forEach(g,((_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{y=y.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,ot()))).next((_=>({batchId:m,changes:KE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((a=>{let o=bc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let u=bc();return this.indexManager.getCollectionParents(e,c).next((m=>ae.forEach(m,(y=>{const g=(function(w,A){return new ml(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((w,A)=>{u=u.insert(w,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((u=>{c.forEach(((y,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Vn.newInvalidDocument(_)))}));let m=bc();return u.forEach(((y,g)=>{const _=c.get(y);_!==void 0&&Nc(_.mutation,g,vr.empty(),Ut.now()),Ph(n,g)&&(m=m.insert(y,g))})),m}))}}class S4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:p4(o.bundledQuery),readTime:bi(o.readTime)}})(n)),ae.resolve()}}class R4{constructor(){this.overlays=new Qt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Bs();return ae.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.bt(e,n,c)})),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=Bs(),c=n.length+1,u=new Me(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new Qt(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let _=c.get(g.largestBatchId);_===null&&(_=Bs(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Bs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ae.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new GD(n,a));let c=this.Lr.get(n);c===void 0&&(c=ot(),this.Lr.set(n,c)),this.Lr.set(n,c.add(a.key))}}class N4{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Mg{constructor(){this.kr=new pn(_n.Kr),this.qr=new pn(_n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new _n(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new _n(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new Me(new Ot([])),a=new _n(n,e),o=new _n(n,e+1),c=[];return this.qr.forEachInRange([a,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Ot([])),a=new _n(n,e),o=new _n(n,e+1);let c=ot();return this.qr.forEachInRange([a,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new _n(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class _n{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||st(e.Hr,n.Hr)}static Ur(e,n){return st(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class C4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new pn(_n.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qD(c,n,a,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new _n(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),c=o<0?0:o;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ag:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new _n(n,0),o=new _n(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(u=>{const m=this.Zr(u.Hr);c.push(m)})),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new pn(st);return n.forEach((o=>{const c=new _n(o,0),u=new _n(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(m=>{a=a.add(m.Hr)}))})),ae.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;Me.isDocumentKey(c)||(c=c.child(""));const u=new _n(new Me(c),0);let m=new pn(st);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),u),ae.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){bt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ae.forEach(n.mutations,(o=>{const c=new _n(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new _n(n,0),o=this.Jr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class I4{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let a=ta();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Vn.newInvalidDocument(o))})),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=ta();const u=n.path,m=new Me(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:_}}=y.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||tD(eD(_),a)<=0||(o.has(_.key)||Ph(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,n,a,o){ze(9500)}ni(e,n){return ae.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new k4(this)}getSize(e){return ae.resolve(this.size)}}class k4 extends E4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class D4{constructor(e){this.persistence=e,this.ri=new Js((n=>Ng(n)),Cg),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new Mg,this.targetCount=0,this.oi=al._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new al(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(c).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ae.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class fT{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new N4,this.referenceDelegate=e(this),this.li=new D4(this),this.indexManager=new g4,this.remoteDocumentCache=(function(o){return new I4(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new m4(n),this.Pi=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new C4(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){_e("MemoryPersistence","Starting transaction:",e);const o=new O4(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ae.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class O4 extends rD{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Mg,this.Ai=null}static Vi(e){return new Pg(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(a=>{const o=Me.fromPath(a);return this.mi(e,o).next((c=>{c||n.removeEntry(o,He.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.fi=new Js((a=>sD(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=w4(this,n)}static Vi(e,n){return new yh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?ae.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(a++,c.removeEntry(u,He.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}wr(e,n,a){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=ot(),o=ot();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Vg(e,n.fromCache,a,o)}}class j4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class M4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BN()?8:iD(Ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,a).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new j4;return this.ys(e,n,u).next((m=>{if(c.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>c.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(zo()<=at.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(zo()<=at.DEBUG&&_e("QueryEngine","Query:",Fo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(zo()<=at.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):ae.resolve())}gs(e,n){if(cx(n))return ae.resolve(null);let a=vi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jp(n,null,"F"),a=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const u=ot(...c);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,a).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,u,y.readTime)?this.gs(e,jp(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,a,o){return cx(n)||o.isEqual(He.min())?ae.resolve(null):this.fs.getDocuments(e,a).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,a,o)?ae.resolve(null):(zo()<=at.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(n)),this.Ds(e,u,n,$k(o,Vc)).next((m=>m)))}))}bs(e,n){let a=new pn(qE(e));return n.forEach(((o,c)=>{Ph(e,c)&&(a=a.add(c))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,a){return zo()<=at.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.fs.getDocumentsMatchingQuery(e,n,Za.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Lg="LocalStore",P4=3e8;class V4{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Qt(st),this.Fs=new Js((c=>Ng(c)),Cg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function L4(r,e,n,a){return new V4(r,e,n,a)}async function mT(r,e){const n=Ge(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const u=[],m=[];let y=ot();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}for(const g of c){m.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(a,y).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function U4(r,e){const n=Ge(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,_){const w=g.batch,A=w.keys();let S=ae.resolve();return A.forEach((k=>{S=S.next((()=>_.getEntry(y,k))).next((F=>{const K=g.docVersions.get(k);bt(K!==null,48541),F.version.compareTo(K)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))}))})),S.next((()=>m.mutationQueue.removeMutationBatch(y,w)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let y=ot();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function pT(r){const e=Ge(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function B4(r,e){const n=Ge(r),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((_,w)=>{const A=o.get(w);if(!A)return;m.push(n.li.removeMatchingKeys(c,_.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,_.addedDocuments,w))));let S=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(In.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,a)),o=o.insert(w,S),(function(F,K,ne){return F.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=P4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,S,_)&&m.push(n.li.updateTargetData(c,S))}));let y=ta(),g=ot();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(z4(c,u,e.documentUpdates).next((_=>{y=_.Bs,g=_.Ls}))),!a.isEqual(He.min())){const _=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));m.push(_)}return ae.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(n.vs=o,c)))}function z4(r,e,n){let a=ot(),o=ot();return n.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let u=ta();return n.forEach(((m,y)=>{const g=c.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(He.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):_e(Lg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:u,Ls:o}}))}function F4(r,e){const n=Ge(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ag),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function H4(r,e){const n=Ge(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((c=>c?(o=c,ae.resolve(o)):n.li.allocateTargetId(a).next((u=>(o=new Ha(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function Up(r,e,n){const a=Ge(r),o=a.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(u=>a.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!fl(u))throw u;_e(Lg,`Failed to update sequence numbers for target ${e}: ${u}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function wx(r,e,n){const a=Ge(r);let o=He.min(),c=ot();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,g,_){const w=Ge(y),A=w.Fs.get(_);return A!==void 0?ae.resolve(w.vs.get(A)):w.li.getTargetData(g,_)})(a,u,vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(u,m.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(u,e,n?o:He.min(),n?c:ot()))).next((m=>(q4(a,ND(e),m),{documents:m,ks:c})))))}function q4(r,e,n){let a=r.Ms.get(e)||He.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(e,a)}class Ex{constructor(){this.activeTargetIds=jD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G4{constructor(){this.vo=new Ex,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ex,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class K4{Mo(e){}shutdown(){}}const Tx="ConnectivityMonitor";class Ax{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vd=null;function Bp(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}const cp="RestConnection",Q4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,c){const u=Bp(),m=this.Qo(e,n.toUriEncodedString());_e(cp,`Sending RPC '${e}' ${u}:`,m,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:g}=new URL(m),_=ss(g);return this.zo(e,m,y,a,_).then((w=>(_e(cp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Ks(cp,`RPC '${e}' ${u} failed with error: `,w,"url: ",m,"request:",a),w}))}jo(e,n,a,o,c,u){return this.Wo(e,n,a,o,c)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const a=Q4[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Y4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const jn="WebChannelConnection",fc=(r,e,n)=>{r.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Zo extends X4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Zo.c_){const e=_E();fc(e,bE.STAT_EVENT,(n=>{n.stat===Rp.PROXY?_e(jn,"STAT_EVENT: detected buffering proxy"):n.stat===Rp.NOPROXY&&_e(jn,"STAT_EVENT: detected no buffering proxy")})),Zo.c_=!0}}zo(e,n,a,o,c){const u=Bp();return new Promise(((m,y)=>{const g=new yE;g.setWithCredentials(!0),g.listenOnce(vE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xd.NO_ERROR:const w=g.getResponseJson();_e(jn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),m(w);break;case Xd.TIMEOUT:_e(jn,`RPC '${e}' ${u} timed out`),y(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const A=g.getStatus();if(_e(jn,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const F=(function(ne){const $=ne.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN})(k.status);y(new ve(F,k.message))}else y(new ve(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ve(re.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(jn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);_e(jn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,a,15)}))}T_(e,n,a){const o=Bp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=c.join("");_e(jn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const _=u.createWebChannel(g,m);this.I_(_);let w=!1,A=!1;const S=new Y4({Ho:k=>{A?_e(jn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(_e(jn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),w=!0),_e(jn,`RPC '${e}' stream ${o} sending:`,k),_.send(k))},Jo:()=>_.close()});return fc(_,vc.EventType.OPEN,(()=>{A||(_e(jn,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),fc(_,vc.EventType.CLOSE,(()=>{A||(A=!0,_e(jn,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(_))})),fc(_,vc.EventType.ERROR,(k=>{A||(A=!0,Ks(jn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),S.o_(new ve(re.UNAVAILABLE,"The operation could not be completed")))})),fc(_,vc.EventType.MESSAGE,(k=>{if(!A){const F=k.data[0];bt(!!F,16349);const K=F,ne=K?.error||K[0]?.error;if(ne){_e(jn,`RPC '${e}' stream ${o} received error:`,ne);const $=ne.status;let oe=(function(Te){const E=ln[Te];if(E!==void 0)return tT(E)})($),Ae=ne.message;$==="NOT_FOUND"&&Ae.includes("database")&&Ae.includes("does not exist")&&Ae.includes(this.databaseId.database)&&Ks(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),oe===void 0&&(oe=re.INTERNAL,Ae="Unknown error status: "+$+" with message "+ne.message),A=!0,S.o_(new ve(oe,Ae)),_.close()}else _e(jn,`RPC '${e}' stream ${o} received:`,F),S.__(F)}})),Zo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xE()}}function W4(r){return new Zo(r)}function up(){return typeof document<"u"?document:null}function Bh(r){return new e4(r,!0)}Zo.c_=!1;class gT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Sx="PersistentStream";class yT{constructor(e,n,a,o,c,u,m,y){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Sx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(Sx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z4 extends yT{constructor(e,n,a,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r4(this.serializer,e),a=(function(c){if(!("targetChange"in c))return He.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?bi(u.readTime):He.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=Lp(this.serializer),n.addTarget=(function(c,u){let m;const y=u.target;if(m=Dp(y)?{documents:s4(c,y)}:{query:o4(c,y).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=iT(c,u.resumeToken);const g=Mp(c,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(He.min())>0){m.readTime=gh(c,u.snapshotVersion.toTimestamp());const g=Mp(c,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=c4(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=Lp(this.serializer),n.removeTarget=e,this.K_(n)}}class J4 extends yT{constructor(e,n,a,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=a4(e.writeResults,e.commitTime),a=bi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Lp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>i4(this.serializer,a)))};this.K_(n)}}class $4{}class eO extends $4{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Pp(n,a),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(re.UNKNOWN,c.toString())}))}jo(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Pp(n,a),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tO(r,e,n,a){return new eO(r,e,n,a)}class nO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class rO{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{a.enqueueAndForget((async()=>{$s(this)&&(_e(Qs,"Restarting streams for network reachability change."),await(async function(y){const g=Ge(y);g.Ea.add(4),await au(g),g.Va.set("Unknown"),g.Ea.delete(4),await zh(g)})(this))}))})),this.Va=new nO(a,o)}}async function zh(r){if($s(r))for(const e of r.Ra)await e(!0)}async function au(r){for(const e of r.Ra)await e(!1)}function vT(r,e){const n=Ge(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fg(n)?zg(n):pl(n).O_()&&Bg(n,e))}function Ug(r,e){const n=Ge(r),a=pl(n);n.Ia.delete(e),a.O_()&&bT(n,e),n.Ia.size===0&&(a.O_()?a.L_():$s(n)&&n.Va.set("Unknown"))}function Bg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(r).Z_(e)}function bT(r,e){r.da.$e(e),pl(r).X_(e)}function zg(r){r.da=new WD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Va.ua()}function Fg(r){return $s(r)&&!pl(r).x_()&&r.Ia.size>0}function $s(r){return Ge(r).Ea.size===0}function _T(r){r.da=void 0}async function iO(r){r.Va.set("Online")}async function aO(r){r.Ia.forEach(((e,n)=>{Bg(r,e)}))}async function sO(r,e){_T(r),Fg(r)?(r.Va.ha(e),zg(r)):r.Va.set("Unknown")}async function oO(r,e,n){if(r.Va.set("Online"),e instanceof rT&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(a){_e(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(r,a)}else if(e instanceof Jd?r.da.Xe(e):e instanceof nT?r.da.st(e):r.da.tt(e),!n.isEqual(He.min()))try{const a=await pT(r.localStore);n.compareTo(a)>=0&&await(function(c,u){const m=c.da.Tt(u);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(y.resumeToken,u))}})),m.targetMismatches.forEach(((y,g)=>{const _=c.Ia.get(y);if(!_)return;c.Ia.set(y,_.withResumeToken(In.EMPTY_BYTE_STRING,_.snapshotVersion)),bT(c,y);const w=new Ha(_.target,y,g,_.sequenceNumber);Bg(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){_e(Qs,"Failed to raise snapshot:",a),await vh(r,a)}}async function vh(r,e,n){if(!fl(e))throw e;r.Ea.add(1),await au(r),r.Va.set("Offline"),n||(n=()=>pT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_e(Qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await zh(r)}))}function xT(r,e){return e().catch((n=>vh(r,n,e)))}async function Fh(r){const e=Ge(r),n=ts(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ag;for(;lO(e);)try{const o=await F4(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,cO(e,o)}catch(o){await vh(e,o)}wT(e)&&ET(e)}function lO(r){return $s(r)&&r.Ta.length<10}function cO(r,e){r.Ta.push(e);const n=ts(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function wT(r){return $s(r)&&!ts(r).x_()&&r.Ta.length>0}function ET(r){ts(r).start()}async function uO(r){ts(r).ra()}async function dO(r){const e=ts(r);for(const n of r.Ta)e.ea(n.mutations)}async function hO(r,e,n){const a=r.Ta.shift(),o=Dg.from(a,e,n);await xT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Fh(r)}async function fO(r,e){e&&ts(r).Y_&&await(async function(a,o){if((function(u){return QD(u)&&u!==re.ABORTED})(o.code)){const c=a.Ta.shift();ts(a).B_(),await xT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Fh(a)}})(r,e),wT(r)&&ET(r)}async function Rx(r,e){const n=Ge(r);n.asyncQueue.verifyOperationInProgress(),_e(Qs,"RemoteStore received new credentials");const a=$s(n);n.Ea.add(3),await au(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zh(n)}async function mO(r,e){const n=Ge(r);e?(n.Ea.delete(2),await zh(n)):e||(n.Ea.add(2),await au(n),n.Va.set("Unknown"))}function pl(r){return r.ma||(r.ma=(function(n,a,o){const c=Ge(n);return c.sa(),new Z4(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:iO.bind(null,r),Yo:aO.bind(null,r),t_:sO.bind(null,r),J_:oO.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Fg(r)?zg(r):r.Va.set("Unknown")):(await r.ma.stop(),_T(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(n,a,o){const c=Ge(n);return c.sa(),new J4(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uO.bind(null,r),t_:fO.bind(null,r),ta:dO.bind(null,r),na:hO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Fh(r)):(await r.fa.stop(),r.Ta.length>0&&(_e(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Hg{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const u=Date.now()+a,m=new Hg(e,n,u,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(r,e){if(ea("AsyncQueue",`${e}: ${r}`),fl(r))return new ve(re.UNAVAILABLE,`${e}: ${r}`);throw r}class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Me.comparator(n.key,a.key):(n,a)=>Me.comparator(n.key,a.key),this.keyedMap=bc(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Jo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class Nx{constructor(){this.ga=new Qt(Me.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class sl{constructor(e,n,a,o,c,u,m,y,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new sl(e,n,Jo.emptySet(n),u,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class pO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gO{constructor(){this.queries=Cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ge(n),c=o.queries;o.queries=Cx(),c.forEach(((u,m)=>{for(const y of m.ba)y.onError(a)}))})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function Cx(){return new Js((r=>HE(r)),Mh)}async function TT(r,e){const n=Ge(r);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new pO,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=qg(u,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Gg(n)}async function AT(r,e){const n=Ge(r),a=e.query;let o=3;const c=n.queries.get(a);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yO(r,e){const n=Ge(r);let a=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.ba)m.Fa(o)&&(a=!0);u.wa=o}}a&&Gg(n)}function vO(r,e,n){const a=Ge(r),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(n);a.queries.delete(e)}function Gg(r){r.Ca.forEach((e=>{e.next()}))}var zp,Ix;(Ix=zp||(zp={})).Ma="default",Ix.Cache="cache";class ST{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}class RT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=qE(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new Nx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const A=o.get(_),S=Ph(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),F=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let K=!1;A&&S?A.data.isEqual(S.data)?k!==F&&(a.track({type:3,doc:S}),K=!0):this.su(A,S)||(a.track({type:2,doc:S}),K=!0,(y&&this.eu(S,y)>0||g&&this.eu(S,g)<0)&&(m=!0)):!A&&S?(a.track({type:0,doc:S}),K=!0):A&&!S&&(a.track({type:1,doc:A}),K=!0,(y||g)&&(m=!0)),K&&(S?(u=u.add(S),c=F?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),a.track({type:1,doc:_})}return{tu:u,iu:a,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,w)=>(function(S,k){const F=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:K})}};return F(S)-F(k)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,u.length!==0||g?{snapshot:new sl(this.query,e.tu,c,u,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new NT(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new RT(a))})),n}cu(e){this.Za=e.ks,this.Ya=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Kg="SyncEngine";class _O{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class xO{constructor(e){this.key=e,this.hu=!1}}class wO{constructor(e,n,a,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Js((m=>HE(m)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Me.comparator),this.Au=new Map,this.Vu=new Mg,this.du={},this.mu=new Map,this.fu=al.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EO(r,e,n=!0){const a=jT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await CT(a,e,n,!0),o}async function TO(r,e){const n=jT(r);await CT(n,e,!0,!1)}async function CT(r,e,n,a){const o=await H4(r.localStore,vi(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await AO(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&n&&vT(r.remoteStore,o),m}async function AO(r,e,n,a,o){r.pu=(w,A,S)=>(async function(F,K,ne,$){let oe=K.view.ru(ne);oe.Ss&&(oe=await wx(F.localStore,K.query,!1).then((({documents:E})=>K.view.ru(E,oe))));const Ae=$&&$.targetChanges.get(K.targetId),Se=$&&$.targetMismatches.get(K.targetId)!=null,Te=K.view.applyChanges(oe,F.isPrimaryClient,Ae,Se);return Dx(F,K.targetId,Te.au),Te.snapshot})(r,w,A,S);const c=await wx(r.localStore,e,!0),u=new bO(e,c.ks),m=u.ru(c.documents),y=iu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=u.applyChanges(m,r.isPrimaryClient,y);Dx(r,n,g.au);const _=new _O(e,n,u);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function SO(r,e,n){const a=Ge(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((u=>!Mh(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Ug(a.remoteStore,o.targetId),Fp(a,o.targetId)})).catch(hl)):(Fp(a,o.targetId),await Up(a.localStore,o.targetId,!0))}async function RO(r,e){const n=Ge(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ug(n.remoteStore,a.targetId))}async function NO(r,e,n){const a=MO(r);try{const o=await(function(u,m){const y=Ge(u),g=Ut.now(),_=m.reduce(((S,k)=>S.add(k.key)),ot());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=ta(),F=ot();return y.xs.getEntries(S,_).next((K=>{k=K,k.forEach(((ne,$)=>{$.isValidDocument()||(F=F.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(S,k))).next((K=>{w=K;const ne=[];for(const $ of m){const oe=FD($,w.get($.key).overlayedDocument);oe!=null&&ne.push(new cs($.key,oe,ME(oe.value.mapValue),Kr.exists(!0)))}return y.mutationQueue.addMutationBatch(S,g,ne,m)})).next((K=>{A=K;const ne=K.applyToLocalDocumentSet(w,F);return y.documentOverlayCache.saveOverlays(S,K.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:KE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(u,m,y){let g=u.du[u.currentUser.toKey()];g||(g=new Qt(st)),g=g.insert(m,y),u.du[u.currentUser.toKey()]=g})(a,o.batchId,n),await su(a,o.changes),await Fh(a.remoteStore)}catch(o){const c=qg(o,"Failed to persist write");n.reject(c)}}async function IT(r,e){const n=Ge(r);try{const a=await B4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?bt(u.hu,14607):o.removedDocuments.size>0&&(bt(u.hu,42227),u.hu=!1))})),await su(n,a,e)}catch(a){await hl(a)}}function kx(r,e,n){const a=Ge(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const y=Ge(u);y.onlineState=m;let g=!1;y.queries.forEach(((_,w)=>{for(const A of w.ba)A.va(m)&&(g=!0)})),g&&Gg(y)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CO(r,e,n){const a=Ge(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let u=new Qt(Me.comparator);u=u.insert(c,Vn.newNoDocument(c,He.min()));const m=ot().add(c),y=new Uh(He.min(),new Map,new Qt(st),u,m);await IT(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(e),Qg(a)}else await Up(a.localStore,e,!1).then((()=>Fp(a,e,n))).catch(hl)}async function IO(r,e){const n=Ge(r),a=e.batch.batchId;try{const o=await U4(n.localStore,e);DT(n,a,null),kT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await su(n,o)}catch(o){await hl(o)}}async function kO(r,e,n){const a=Ge(r);try{const o=await(function(u,m){const y=Ge(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return y.mutationQueue.lookupMutationBatch(g,m).next((w=>(bt(w!==null,37113),_=w.keys(),y.mutationQueue.removeMutationBatch(g,w)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>y.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);DT(a,e,n),kT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await su(a,o)}catch(o){await hl(o)}}function kT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function DT(r,e,n){const a=Ge(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Fp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((a=>{r.Vu.containsKey(a)||OT(r,a)}))}function OT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ug(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Qg(r))}function Dx(r,e,n){for(const a of n)a instanceof RT?(r.Vu.addReference(a.key,e),DO(r,a)):a instanceof NT?(_e(Kg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,e),r.Vu.containsKey(a.key)||OT(r,a.key)):ze(19791,{wu:a})}function DO(r,e){const n=e.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(_e(Kg,"New document in limbo: "+n),r.Eu.add(a),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Me(Ot.fromString(e)),a=r.fu.next();r.Au.set(a,new xO(n)),r.Ru=r.Ru.insert(n,a),vT(r.remoteStore,new Ha(vi(jh(n.path)),a,"TargetPurposeLimboResolution",kh.ce))}}async function su(r,e,n){const a=Ge(r),o=[],c=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,y)=>{u.push(a.pu(y,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Vg.Es(y.targetId,g);c.push(_)}})))})),await Promise.all(u),a.Pu.J_(o),await(async function(y,g){const _=Ge(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ae.forEach(g,(A=>ae.forEach(A.Ts,(S=>_.persistence.referenceDelegate.addReference(w,A.targetId,S))).next((()=>ae.forEach(A.Is,(S=>_.persistence.referenceDelegate.removeReference(w,A.targetId,S)))))))))}catch(w){if(!fl(w))throw w;_e(Lg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const S=_.vs.get(A),k=S.snapshotVersion,F=S.withLastLimboFreeSnapshotVersion(k);_.vs=_.vs.insert(A,F)}}})(a.localStore,c))}async function OO(r,e){const n=Ge(r);if(!n.currentUser.isEqual(e)){_e(Kg,"User change. New user:",e.toKey());const a=await mT(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new ve(re.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(n,a.Ns)}}function jO(r,e){const n=Ge(r),a=n.Au.get(e);if(a&&a.hu)return ot().add(a.key);{let o=ot();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function jT(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CO.bind(null,e),e.Pu.J_=yO.bind(null,e.eventManager),e.Pu.yu=vO.bind(null,e.eventManager),e}function MO(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return L4(this.persistence,new M4,e.initialUser,this.serializer)}Cu(e){return new fT(Pg.Vi,this.serializer)}Du(e){return new G4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class PO extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new fT((a=>yh.Vi(a,n)),this.serializer)}}class Hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>kx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await mO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gO})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),a=W4(e.databaseInfo);return tO(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,u,m){return new rO(a,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>kx(this.syncEngine,n,0)),(function(){return Ax.v()?new Ax:new K4})())}createSyncEngine(e,n){return(function(o,c,u,m,y,g,_){const w=new wO(o,c,u,m,y,g);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ge(n);_e(Qs,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hp.provider={build:()=>new Hp};class MT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ns="FirestoreClient";class VO{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Pn.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async u=>{_e(ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(_e(ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=qg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function dp(r,e){r.asyncQueue.verifyOperationInProgress(),_e(ns,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ox(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LO(r);_e(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Rx(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Rx(e.remoteStore,o))),r._onlineComponents=e}async function LO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(ns,"Using user provided OfflineComponentProvider");try{await dp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await dp(r,new bh)}}else _e(ns,"Using default OfflineComponentProvider"),await dp(r,new PO(void 0));return r._offlineComponents}async function PT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(ns,"Using user provided OnlineComponentProvider"),await Ox(r,r._uninitializedComponentsProvider._online)):(_e(ns,"Using default OnlineComponentProvider"),await Ox(r,new Hp))),r._onlineComponents}function UO(r){return PT(r).then((e=>e.syncEngine))}async function qp(r){const e=await PT(r),n=e.eventManager;return n.onListen=EO.bind(null,e.syncEngine),n.onUnlisten=SO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),n}function BO(r,e,n,a){const o=new MT(a),c=new ST(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>TT(await qp(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>AT(await qp(r),c)))}}function zO(r,e,n={}){const a=new Xa;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,y,g){const _=new MT({next:A=>{_.Nu(),u.enqueueAndForget((()=>AT(c,w)));const S=A.docs.has(m);!S&&A.fromCache?g.reject(new ve(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&A.fromCache&&y&&y.source==="server"?g.reject(new ve(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new ST(jh(m.path),_,{includeMetadataChanges:!0,Ka:!0});return TT(c,w)})(await qp(r),r.asyncQueue,e,n,a))),a.promise}function FO(r,e){const n=new Xa;return r.asyncQueue.enqueueAndForget((async()=>NO(await UO(r),e,n))),n.promise}function VT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const HO="ComponentProvider",jx=new Map;function qO(r,e,n,a,o){return new cD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,VT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const LT="firestore.googleapis.com",Mx=!0;class Px{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=Mx}else this.host=e.host,this.ssl=e.ssl??Mx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v4)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Px({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Px(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Fk;switch(a.type){case"firstParty":return new Kk(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=jx.get(n);a&&(_e(HO,"Removing Datastore"),jx.delete(n),a.terminate())})(this),Promise.resolve()}}function GO(r,e,n,a={}){r=yi(r,Hh);const o=ss(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(cg(`https://${m}`),ug("Firestore",!0)),c.host!==LT&&c.host!==m&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:a};if(!Fs(y,u)&&(r._setSettings(y),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Pn.MOCK_USER;else{g=kN(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Pn(w)}r._authCredentials=new Hk(new EE(g,_))}}class eo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class en{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(nu(n,en._jsonSchema))return new en(e,a||null,new Me(Ot.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:un("string",en._jsonSchemaVersion),referencePath:un("string")};class Ya extends eo{constructor(e,n,a){super(e,n,jh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Me(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function UT(r,e,...n){if(r=tn(r),TE("collection","path",e),r instanceof Hh){const a=Ot.fromString(e,...n);return Y_(a),new Ya(r,null,a)}{if(!(r instanceof en||r instanceof Ya))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ot.fromString(e,...n));return Y_(a),new Ya(r.firestore,null,a)}}function ou(r,e,...n){if(r=tn(r),arguments.length===1&&(e=Tg.newId()),TE("doc","path",e),r instanceof Hh){const a=Ot.fromString(e,...n);return X_(a),new en(r,null,new Me(a))}{if(!(r instanceof en||r instanceof Ya))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ot.fromString(e,...n));return X_(a),new en(r.firestore,r instanceof Ya?r.converter:null,new Me(a))}}const Vx="AsyncQueue";class Lx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=up();a&&_e(Vx,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;_e(Vx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",Ux(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ze(47125,{Pc:Ux(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ux(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Xs extends Hh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new Lx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lx(e),this._firestoreClient=void 0,await e}}}function KO(r,e){const n=typeof r=="object"?r:fg(),a=typeof r=="string"?r:hh,o=Th(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Rw("firestore");c&&GO(o,...c)}return o}function Xg(r){if(r._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QO(r),r._firestoreClient}function QO(r){const e=r._freezeSettings(),n=qO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new VO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(In.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:un("string",Or._jsonSchemaVersion),bytes:un("string")};class Yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qh{constructor(e){this._methodName=e}}class _i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(nu(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:un("string",_i._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};class Qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qr(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:un("string",Qr._jsonSchemaVersion),vectorValues:un("object")};const XO=/^__.*__$/;class YO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class BT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:r})}}class Wg{constructor(e,n,a,o,c,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zT(this.dataSource)&&XO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class WO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Bh(e)}createContext(e,n,a,o=!1){return new Wg({dataSource:e,methodName:n,targetDoc:a,path:Cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(r){const e=r._freezeSettings(),n=Bh(r._databaseId);return new WO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ZO(r,e,n,a,o,c={}){const u=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);$g("Data must be an object, but it was:",u,a);const m=FT(a,u);let y,g;if(c.merge)y=new vr(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const A=ol(e,w,n);if(!u.contains(A))throw new ve(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);GT(_,A)||_.push(A)}y=new vr(_),g=u.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,g=u.fieldTransforms;return new YO(new rr(m),y,g)}class Gh extends qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class Jg extends qh{_toFieldTransform(e){return new LD(e.path,new Fc)}isEqual(e){return e instanceof Jg}}function JO(r,e,n,a){const o=r.createContext(1,e,n);$g("Data must be an object, but it was:",o,a);const c=[],u=rr.empty();ls(a,((y,g)=>{const _=qT(e,y,n);g=tn(g);const w=o.childContextForFieldPath(_);if(g instanceof Gh)c.push(_);else{const A=lu(g,w);A!=null&&(c.push(_),u.set(_,A))}}));const m=new vr(c);return new BT(u,m,o.fieldTransforms)}function $O(r,e,n,a,o,c){const u=r.createContext(1,e,n),m=[ol(e,a,n)],y=[o];if(c.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(ol(e,c[A])),y.push(c[A+1]);const g=[],_=rr.empty();for(let A=m.length-1;A>=0;--A)if(!GT(g,m[A])){const S=m[A];let k=y[A];k=tn(k);const F=u.childContextForFieldPath(S);if(k instanceof Gh)g.push(S);else{const K=lu(k,F);K!=null&&(g.push(S),_.set(S,K))}}const w=new vr(g);return new BT(_,w,u.fieldTransforms)}function ej(r,e,n,a=!1){return lu(n,r.createContext(a?4:3,e))}function lu(r,e){if(HT(r=tn(r)))return $g("Unsupported field value:",e,r),FT(r,e);if(r instanceof qh)return(function(a,o){if(!zT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let u=0;for(const m of a){let y=lu(m,o.childContextForArray(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ut.fromDate(a);return{timestampValue:gh(o.serializer,c)}}if(a instanceof Ut){const c=new Ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(o.serializer,c)}}if(a instanceof _i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Or)return{bytesValue:iT(o.serializer,a._byteString)};if(a instanceof en){const c=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Qr)return(function(u,m){const y=u instanceof Qr?u.toArray():u;return{mapValue:{fields:{[OE]:{stringValue:jE},[fh]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return Ig(m.serializer,_)}))}}}}}})(a,o);if(dT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ih(a)}`)})(r,e)}function FT(r,e){const n={};return RE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,((a,o)=>{const c=lu(o,e.childContextForField(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function HT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ut||r instanceof _i||r instanceof Or||r instanceof en||r instanceof qh||r instanceof Qr||dT(r))}function $g(r,e,n){if(!HT(n)||!AE(n)){const a=Ih(n);throw a==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+a)}}function ol(r,e,n){if((e=tn(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return qT(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const tj=new RegExp("[~\\*/\\[\\]]");function qT(r,e,n){if(e.search(tj)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yg(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,a,o){const c=a&&!a.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${a}`),u&&(y+=` in document ${o}`),y+=")"),new ve(re.INVALID_ARGUMENT,m+r+y)}function GT(r,e){return r.some((n=>n.isEqual(e)))}class nj{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ls(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((a=>$t(a.doubleValue)));return new Qr(n)}convertGeoPoint(e){return new _i($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Oh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const n=Ja(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Ot.fromString(e);bt(uT(a),9688,{name:e});const o=new Uc(a.get(1),a.get(3)),c=new Me(a.popFirst(5));return o.isEqual(n)||ea(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class KT extends nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Gp(){return new Jg("serverTimestamp")}const Bx="@firebase/firestore",zx="4.11.0";function Fx(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class QT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ol("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rj extends QT{data(){return super.data()}}function ij(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class XT extends ey{}function aj(r,e,...n){let a=[];e instanceof ey&&a.push(e),a=a.concat(n),(function(c){const u=c.filter((y=>y instanceof ny)).length,m=c.filter((y=>y instanceof ty)).length;if(u>1||u>0&&m>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class ty extends XT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ty(e,n,a)}_apply(e){const n=this._parse(e);return YT(e._query,n),new eo(e.firestore,e.converter,Op(e._query,n))}_parse(e){const n=Zg(e.firestore);return(function(c,u,m,y,g,_,w){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){qx(w,_);const k=[];for(const F of w)k.push(Hx(y,c,F));A={arrayValue:{values:k}}}else A=Hx(y,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||qx(w,_),A=ej(m,u,w,_==="in"||_==="not-in");return cn.create(g,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ny extends ey{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ny(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const y of m)YT(u,y),u=Op(u,y)})(e._query,n),new eo(e.firestore,e.converter,Op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ry extends XT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ry(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(c,u)})(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,RD(e._query,n))}}function sj(r,e="asc"){const n=e,a=ol("orderBy",r);return ry._create(a,n)}function Hx(r,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FE(e)&&n.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Ot.fromString(n));if(!Me.isDocumentKey(a))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return rx(r,new Me(a))}if(n instanceof en)return rx(r,n._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function qx(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YT(r,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function oj(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends QT{constructor(e,n,a,o,c,u){super(e,n,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ol("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:un("string",zs._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class $d extends zs{data(e={}){return super.data(e)}}class $o{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new $d(this._firestore,this._userDataWriter,a.key,a,new xc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const y=new $d(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new $d(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:lj(m.type),doc:y,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:r})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:un("string",$o._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};function WT(r){r=yi(r,en);const e=yi(r.firestore,Xs),n=Xg(e);return zO(n,r._key).then((a=>ZT(e,r,a)))}function cj(r,e,n,...a){r=yi(r,en);const o=yi(r.firestore,Xs),c=Zg(o);let u;return u=typeof(e=tn(e))=="string"||e instanceof Yg?$O(c,"updateDoc",r._key,e,n,a):JO(c,"updateDoc",r._key,e),iy(o,[u.toMutation(r._key,Kr.exists(!0))])}function uj(r){return iy(yi(r.firestore,Xs),[new kg(r._key,Kr.none())])}function dj(r,e){const n=yi(r.firestore,Xs),a=ou(r),o=oj(r.converter,e),c=Zg(r.firestore);return iy(n,[ZO(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Kr.exists(!1))]).then((()=>a))}function hj(r,...e){r=tn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Fx(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Fx(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,u,m;if(r instanceof en)u=yi(r.firestore,Xs),m=jh(r._key.path),c={next:g=>{e[a]&&e[a](ZT(u,r,g))},error:e[a+1],complete:e[a+2]};else{const g=yi(r,eo);u=yi(g.firestore,Xs),m=g._query;const _=new KT(u);c={next:w=>{e[a]&&e[a](new $o(u,_,g,w))},error:e[a+1],complete:e[a+2]},ij(r._query)}const y=Xg(u);return BO(y,m,o,c)}function iy(r,e){const n=Xg(r);return FO(n,e)}function ZT(r,e,n){const a=n.docs.get(e._key),o=new KT(r);return new zs(r,o,e._key,a,new xc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){zk(ll),Hs(new Wa("firestore",((a,{instanceIdentifier:o,options:c})=>{const u=a.getProvider("app").getImmediate(),m=new Xs(new qk(a.getProvider("auth-internal")),new Qk(u,a.getProvider("app-check-internal")),uD(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),mi(Bx,zx,e),mi(Bx,zx,"esm2020")})();const fj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCqAoxETs_gyv_HWVa6O1jx0nCFZfRBdQA",VITE_FIREBASE_APP_ID:"1:994746165516:web:7a2422e6ad6b0d3c41c129",VITE_FIREBASE_AUTH_DOMAIN:"multi-tanent-projects.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"994746165516",VITE_FIREBASE_PROJECT_ID:"multi-tanent-projects",VITE_FIREBASE_STORAGE_BUCKET:"multi-tanent-projects.firebasestorage.app",VITE_STORE_ID:"frederick"},mj=["Recurve Bows","Longbows","Strings","Accessories"],JT=[{id:"regal-recurve",name:"The Regal Recurve",category:"Recurve Bows",price:450,summary:"Hand-carved riser with maple limbs for smooth draw.",description:"A refined recurve crafted for dependable daily shooting. The Regal Recurve blends maple laminations with a balanced limb profile for a smooth draw and crisp release.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg"],badge:"Best Seller",typeLabel:"Traditional Recurve",drawWeight:"40 - 55 lbs",length:"60 Inches",material:"Maple Core & Fiberglass",drawWeightOptions:["40 lbs (Target)","45 lbs (Field)","55 lbs (Hunting)"]},{id:"highland-longbow",name:"Highland Longbow",category:"Longbows",price:520,summary:"Classic design with reinforced tips for modern strings.",description:"A classic Highland profile built for stability and a smooth release. Reinforced tips support modern strings while preserving the feel of a traditional longbow.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAH8oAVbR9BGlL1sqP3cm2RnXuvJTu6Pa0UbJhZJ4vNn5Zv26Q3v7ShU3hYdcbbzg6nqSNG43VhA8_ySrd-uJ1dqSQWbPqqrkmpr5RM2-OeAxcWIwY7QBujPwrZWU7W6rdCOrpCJstwlOD58Buxs1tJJfi3dvLC9H1Iq9j0lbDkXvkU163lp-9HW3bPn7PKtDfi6lQq1f1bw3Ni1wLzpnszdyg01jDO0TElhq16F0QGrOX-0x06EL8vmw3du0JwSjpgdvgkfu6luis",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCYHMPO1UjOoPJROVfy57B7Yw4U6o8tFKHHq7b8HYqzQBNeFqRdmBH5D6ZkfxliC74lNLrCJN3neSQykmo6AuMojjo0nAU_I3eSftA9BcaY3almwToeWbxx0UQSK86NkZRvKwD71tT7cSOlGuSvsM25gcqvfCnTQL_87cTPOI53V44jSoyJeFqNuns73xgVO-YoOF85rEbTesGWPy-MN75qbqKKQPWtuM0WOszRfJW5EszUTIVOVpjLhKRvH3-WiHdNpHRK9ym5EuM","https://lh3.googleusercontent.com/aida-public/AB6AXuCojb62glcqiRqNz7UBZzXPq31TeOzUkCyvoCypk3VWkfVNdgbght2demhljwWbWmVHN26-zU3cIshTzWOQIfuQAVBEjW7_PIm5uzLCSVrMKxzsY7XEsJnJw9M3XgRGQahLOHzDxrKPBKo1t1IMLITcKydLMaS_vQl-Q-3CIImouQzRReiszz3HLLhMbcKW6t3-NcmXwMX4SHLywCDGMKnRKiqNJX4ScGkb2CuukCrz4vdJ9JxDN1jDqOxjYNoLPwP2Z7TGVvvO5bU","https://lh3.googleusercontent.com/aida-public/AB6AXuDjx6Zl1j2oGGTzyvSb3gIKhHpZPRIK1yqvOnsp_PVJ2aTQF-6FE8uSeFjKDDqheN-RpvinUZ31Wnp6bidZHYSsP5as-CSZ_2xFt3ApdzrPy6weRTZkl3rwaXmD6L5o3H6abFdCgdx7x0oJBHtwHYYNOQ422zVNojOlW5MI_yMWKxkBkK8QvI0Jf_qJvTqhCMGx3nNsPxzA5sHg7amLEXFpRPQAYZNI1lzOGP_0ZiW-frOHoDJmfZduuMCQimx-TpNniHKo8lkoPnQ","https://lh3.googleusercontent.com/aida-public/AB6AXuDi1x-W8C5Y_OC89JqLjLDA-FHvgvwjc8PmKE9YbNq_ZbTkAhTcBhRIcTo12QAjtpchouZxeZkBnFJlXTtx8M9j7SyO-ySEkS490l0M6f3UnVcBcZ7o6GImVd080CGX3-nuxrCAFk85Hj4pQkj-WpD6Nfqof82zU02dwzbTGlsqBN9YzwbnkROsYbFkvdME4zR4xZTk6N8CQtvTilk0oYwZHY3hUgSR9WAifrBIQ7tQD42LSByTIZHWtnUy0T1lFrEp7VaA879IMnI"],typeLabel:"English Longbow",drawWeight:"45 - 60 lbs",length:"72 Inches",material:"Pacific Yew & White Ash",drawWeightOptions:["45 lbs (Target)","50 lbs (Hunting)","60 lbs (War Bow)"]},{id:"hunters-quiver",name:"Hunter's Quiver",category:"Accessories",price:120,summary:"Genuine leather back quiver with brass fittings.",description:"A handcrafted leather back quiver with brass fittings. Built to keep arrows secure while staying comfortable across long days in the field.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"24 Inches",material:"Full Grain Leather",drawWeightOptions:["Right Shoulder","Left Shoulder"]},{id:"beeswax-string",name:"Beeswax String",category:"Strings",price:25,summary:"Pre-waxed Flemish twist string for longevity.",description:"A pre-waxed Flemish twist string built for consistent performance. Ideal for traditional bows that need a quiet, reliable string.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Traditional String",drawWeight:"Compatible 40-60 lbs",length:"Custom Length",material:"B-50 Dacron",drawWeightOptions:["60 in Bow","62 in Bow","64 in Bow"]},{id:"cedar-arrows",name:"Cedar Arrows",category:"Accessories",price:85,summary:"Matched dozen Port Orford Cedar shafts.",description:"Matched Port Orford Cedar shafts with classic feather fletching. Tuned for traditional bows and smooth flight.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuC0VRBHtO_pYVOqdfuSKijmtRkm1YoZsyfzYHFtHh28z6oTtsSqXvcYscvXkI4B5OByXKPkuN1L3tI5MM7bOgbdLRhvohih4D8OgM2FH0GxTZpJzgt3TwcdkxjgOcb0-8uwKmDo9ZMBNLXc77eL1M3jD0kNeRYof8Fu79m4Wa6raSGcf86MH9w4Ab8dm2nwn_ymOtf6dkx1XEX4mgJI3sn7gTmuiPmlum15IkGNibv_usn7p2cVOrzEVcCunmJ3ew0BZjnIV-m1Aac","https://lh3.googleusercontent.com/aida-public/AB6AXuAH8oAVbR9BGlL1sqP3cm2RnXuvJTu6Pa0UbJhZJ4vNn5Zv26Q3v7ShU3hYdcbbzg6nqSNG43VhA8_ySrd-uJ1dqSQWbPqqrkmpr5RM2-OeAxcWIwY7QBujPwrZWU7W6rdCOrpCJstwlOD58Buxs1tJJfi3dvLC9H1Iq9j0lbDkXvkU163lp-9HW3bPn7PKtDfi6lQq1f1bw3Ni1wLzpnszdyg01jDO0TElhq16F0QGrOX-0x06EL8vmw3du0JwSjpgdvgkfu6luis"],typeLabel:"Traditional Arrows",drawWeight:"35 - 55 lbs",length:"29 Inches",material:"Port Orford Cedar",drawWeightOptions:["35-40 lbs","45-50 lbs","55 lbs"]},{id:"ranger-arm-guard",name:"Ranger Arm Guard",category:"Accessories",price:45,summary:"Protective leather bracer with lace-up back.",description:"A lace-up leather bracer that protects the forearm while keeping a traditional look. Softened leather keeps the fit comfortable.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"11 Inches",material:"Oil-Tanned Leather",drawWeightOptions:["Standard Fit","Long Fit"]},{id:"field-targets",name:"Field Targets",category:"Accessories",price:15,summary:"Regulation size paper targets for practice.",description:"Regulation size field targets for consistent practice sessions. Crisp rings and durable stock for repeated arrow pulls.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCSjbqH2nmFi2uibzK7UcHONPwhRdFCEF1JamMVSsAUAG0dEmcwYvvoApwz5nXzXPEuC-ZJthcLVLLrEzQ-EvhRXfC0GxBPB2P9L9W6g1zirc71EdX2KKu9GB3GZ5S2fa8yBFPYJICHFN5lXc1OSyBj4d4DRDNWwHbrkSoLvHGAoLrZOAUY6Pc4rEJLYV6e96GXQDRmQHLV-zY_1CTNiiJkkpU00VOyRSDeV8kmaArRVNhyzR0LwYChODm8W40tKBiwRu61b28VTxg",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCSjbqH2nmFi2uibzK7UcHONPwhRdFCEF1JamMVSsAUAG0dEmcwYvvoApwz5nXzXPEuC-ZJthcLVLLrEzQ-EvhRXfC0GxBPB2P9L9W6g1zirc71EdX2KKu9GB3GZ5S2fa8yBFPYJICHFN5lXc1OSyBj4d4DRDNWwHbrkSoLvHGAoLrZOAUY6Pc4rEJLYV6e96GXQDRmQHLV-zY_1CTNiiJkkpU00VOyRSDeV8kmaArRVNhyzR0LwYChODm8W40tKBiwRu61b28VTxg","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Target Accessory",drawWeight:"Universal",length:"20 Inches",material:"Heavyweight Paper",drawWeightOptions:["Single Pack","5 Pack","10 Pack"]},{id:"shooting-glove",name:"Shooting Glove",category:"Accessories",price:30,summary:"Soft buckskin three-finger glove.",description:"A supple three-finger glove made from buckskin to protect your draw hand without sacrificing feel.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"One Size",material:"Buckskin Leather",drawWeightOptions:["Right Hand","Left Hand"]},{id:"timber-wolf",name:"The Timber Wolf",category:"Recurve Bows",price:650,summary:'60" Recurve  Maple Core',description:"A rugged recurve built for reliability in the field. Maple core laminations and a crisp limb profile deliver power without sacrificing smoothness.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],featured:!0,typeLabel:"Traditional Recurve",drawWeight:"45 - 60 lbs",length:"60 Inches",material:"Maple Core & Fiberglass",drawWeightOptions:["45 lbs (Target)","50 lbs (Field)","60 lbs (Hunting)"]},{id:"night-stalker",name:"The Night Stalker",category:"Longbows",price:725,summary:'64" Longbow  Walnut/Carbon',description:"A sleek longbow with walnut laminations and carbon reinforcement. Built for archers who demand stability and refined performance.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD23eXzSpC2r9jU2884knX_-ESk6JMUhK0i0OKJvxT_9NrbUt64gke4bpE8m1Ouo1TRgOMlxZuI4CUzgN1YuyQTA8Go-do3OdZc_mXdyTkdVncI7NWpflXFnNrqTPqGm-bM5EFHSV7AUANz54EuxMugOhOPqzCxLrwi_NNXJK4x7lcr1ix4ULcdFUIq1qukQFUKqWmc4hCloUbkkNWwQIUx1G6foh7Do8hcaeHUEx5kfdfqG2-S1iBzMyEkRi4L5Ksy3xWk5gnYqQQ",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuD23eXzSpC2r9jU2884knX_-ESk6JMUhK0i0OKJvxT_9NrbUt64gke4bpE8m1Ouo1TRgOMlxZuI4CUzgN1YuyQTA8Go-do3OdZc_mXdyTkdVncI7NWpflXFnNrqTPqGm-bM5EFHSV7AUANz54EuxMugOhOPqzCxLrwi_NNXJK4x7lcr1ix4ULcdFUIq1qukQFUKqWmc4hCloUbkkNWwQIUx1G6foh7Do8hcaeHUEx5kfdfqG2-S1iBzMyEkRi4L5Ksy3xWk5gnYqQQ","https://lh3.googleusercontent.com/aida-public/AB6AXuCYHMPO1UjOoPJROVfy57B7Yw4U6o8tFKHHq7b8HYqzQBNeFqRdmBH5D6ZkfxliC74lNLrCJN3neSQykmo6AuMojjo0nAU_I3eSftA9BcaY3almwToeWbxx0UQSK86NkZRvKwD71tT7cSOlGuSvsM25gcqvfCnTQL_87cTPOI53V44jSoyJeFqNuns73xgVO-YoOF85rEbTesGWPy-MN75qbqKKQPWtuM0WOszRfJW5EszUTIVOVpjLhKRvH3-WiHdNpHRK9ym5EuM","https://lh3.googleusercontent.com/aida-public/AB6AXuDjx6Zl1j2oGGTzyvSb3gIKhHpZPRIK1yqvOnsp_PVJ2aTQF-6FE8uSeFjKDDqheN-RpvinUZ31Wnp6bidZHYSsP5as-CSZ_2xFt3ApdzrPy6weRTZkl3rwaXmD6L5o3H6abFdCgdx7x0oJBHtwHYYNOQ422zVNojOlW5MI_yMWKxkBkK8QvI0Jf_qJvTqhCMGx3nNsPxzA5sHg7amLEXFpRPQAYZNI1lzOGP_0ZiW-frOHoDJmfZduuMCQimx-TpNniHKo8lkoPnQ","https://lh3.googleusercontent.com/aida-public/AB6AXuDi1x-W8C5Y_OC89JqLjLDA-FHvgvwjc8PmKE9YbNq_ZbTkAhTcBhRIcTo12QAjtpchouZxeZkBnFJlXTtx8M9j7SyO-ySEkS490l0M6f3UnVcBcZ7o6GImVd080CGX3-nuxrCAFk85Hj4pQkj-WpD6Nfqof82zU02dwzbTGlsqBN9YzwbnkROsYbFkvdME4zR4xZTk6N8CQtvTilk0oYwZHY3hUgSR9WAifrBIQ7tQD42LSByTIZHWtnUy0T1lFrEp7VaA879IMnI"],featured:!0,typeLabel:"Modern Longbow",drawWeight:"45 - 60 lbs",length:"64 Inches",material:"Walnut & Carbon",drawWeightOptions:["45 lbs (Target)","50 lbs (Hunting)","60 lbs (War Bow)"]},{id:"heritage",name:"The Heritage",category:"Recurve Bows",price:895,summary:'58" Recurve  Exotic Woods',description:"A premium recurve made from exotic laminations and hand-finished details. Crafted for collectors and devoted traditionalists.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg","https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],featured:!0,typeLabel:"Collector Recurve",drawWeight:"45 - 60 lbs",length:"58 Inches",material:"Exotic Laminations",drawWeightOptions:["45 lbs (Target)","50 lbs (Field)","60 lbs (Hunting)"]},{id:"black-eagle-recurve",name:"The Black Eagle Recurve",category:"Recurve Bows",price:450,summary:"45lb Draw  Walnut Finish",description:"A signature recurve with walnut finish and a steady draw. Ideal for archers looking for an everyday bow with heritage craftsmanship.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuBk0DAGUe6m7FonMagWeTqeDRhr57VmHCZ2DkX6hdodyo40Z9I_Bq332QAkc9Y1GEYnwFWBa5g4e9N_IOoLMxeAXvkJ6w6dS-W3xIJEUauSq6cuH434a4phCOc2PJfu8r2bCjM-0Tu_vsZGhfn5ypC9IUOjlGx1H7PEs7QNQKcpsz6T3BIJejdhHkmpP2j5kok8TI9xud0lHHnWnlEtPz7wwWM29bbMZMOm3wOAkczOqo7sfJNDJndWv_c3j74OFh9UvEPBaMESnWw","https://lh3.googleusercontent.com/aida-public/AB6AXuA_GdopQVgbjgo4A3xTeZmsLRxWufVCKRgyBhRbyAuYfZSAmi4KnUm3LqWeu0TOptKTrREKQvIiwQn2CiOg9VRNu8H2wySGurT12L2d5E1KVHFubtB9gpj-ij9bdDhxhO2DIub9CjIzW_XRMeFIxT2DGsGT566pIgQ9ayJnToDfrLYbP2pPYQ3PbZC3vVIKc9eCcHm1JEj4GWN4Jgw3EP5C0JXPwR6AUfihz-0mNH-6WeIuogOoWx-6tiwVnvJ7TCsgfPBRPPFCp8s","https://lh3.googleusercontent.com/aida-public/AB6AXuA4zoj9j90iy1jd16-cA5oWCAAwY4R3dKGEYOgsVZTIkNNWoMq1cbUSLqFCtA1arug8XN87E-RzaoWY3HkQiZmeAYGVtlIVkFLpTeCbNBod4f0CM3g5ogTwqA5Y7FwvvsjGpDZA4345C49J1c4XKkGRRiHb4iNHcX0rAQWb1GDzkP-wawktU4kYO-0gvvUI-O_ltmfs-aDFyvnsZ4fE1Q6dl7zjeG_cCRaXzvlVW5qfduA_pm78BiTi-HqXDLZVeGX4a7juFf0hSCU","https://lh3.googleusercontent.com/aida-public/AB6AXuCIyI3j_6rnF3ZmC0Qdt-GznQqtLHZaL_J-1Y5RGDdpWrS6wz0TOQ7FSCyHBiXxLSrSxdxUgqdp0OQXwJWW52KW64HIIeHm_-E-WbX5g5Ew0sfEtMps2137nhqGYtGx-0vsm0vZUx7K-Kzep1TbTcpW2tmGPic0ibHfA5P5I1RM_ycUMAbSaFefaROZlA5q_OzAyVcmgl3yD0cJoeq6ZvoEq0JhFAX2rKBHqHXR7Sb4dtV2Mm5CjiEynigCM12rFxzFsTefXFtAhdg"],typeLabel:"Traditional Recurve",drawWeight:"45 lbs",length:"60 Inches",material:"Walnut & Maple",drawWeightOptions:["45 lbs (Standard)","50 lbs (Field)"]},{id:"leather-arm-guard",name:"Leather Arm Guard",category:"Accessories",price:35,summary:"Aged Brown  Standard Fit",description:"A classic leather arm guard with a broken-in feel. Provides reliable protection for the traditional archer.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuDoAOvpul-f9uY987YiwedBAP-aiMOp8keEyZ6Q08-YVhR4Vz1mrXyDCihb18fIo2xEvGCoNNTX9Yo-hUKOlcP0Dv7uCywj-Do-2JgEZJUjlRnc54oFZacDOasXZce-VeYBqLeoA-mktxqjOHFeJdYWM9-r_Z9Q63XJ_ceBZDIvLIicynOaQK2gc44P56q5X1OaQeW5Gbm0hLp7XBivK3BT9cQEVIJqoPNnAaeDg87F5yXg7s6DBZ3YFcolTmeArMEa3pEpZHPNyig","https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"11 Inches",material:"Aged Leather",drawWeightOptions:["Standard Fit","Long Fit"]},{id:"bowstring-wax",name:"Bowstring Wax",category:"Accessories",price:8,summary:"Traditional bowstring wax",description:"Natural bowstring wax for keeping fibers protected and quiet. Essential for long-term string maintenance.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Maintenance",drawWeight:"Universal",length:"2 oz",material:"Natural Wax",drawWeightOptions:["Single Tin","2 Pack","5 Pack"]},{id:"spare-string",name:"Spare String",category:"Strings",price:18,summary:"Backup bowstring",description:"A spare bowstring tuned for traditional bows. Ideal for keeping a backup in your kit.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuAC9vIsAiI1e3Zt45EZrFSMdSH90wFm8_ZDt2jUlHoZ-AnmDd9IdDiWCs_ilDDtPy0KKlguMxDNn4ddiZ9XGORSc6p2f-atpT_HfykOw6TyNpKG4gK_m5O0scbbAWNY4m3PbhQ-e-SZibReaC7BuOlPqwc1-wN_736DIpkxWaZ_9CBtYc9618vseZom9BHAg-FDgOTCWsFHIWHD9oDOHXmWkbdrMPiRjqWm7N1u38xD86uX5Hwh7Cy0C55gQeM-Vyyv4rDDQohodJc","https://lh3.googleusercontent.com/aida-public/AB6AXuCRQ2hZ9OOR7XsWU0KvPoe5CfDKoMOuERCKE-up_wc3TTfv8F7depdeX1h89H_FdAUihzbmYrkd-RPGqqXnijz1_EZxCnuFSxTk7n7opz0lThEcXvwvPcmZFFzINCjVGRUoRbLmEYHBok6KQS-JvV22sw9Cxgj6nO_oDE1AyMJ8mXs5vzI4tIVCpSaDt5Z9w_quGUZfT7wXSeCJ-FNxsjwb5z9jKJyYdZ0KvVx3EOSA0V84lPI6zNIn8JaoebMul_4ekn6Z9y2UvSU","https://lh3.googleusercontent.com/aida-public/AB6AXuB3_Amy-nFFW9epi9EbxpCAehOqznyeMA3tebQvhQSwswSaFmtBxoySQwVBzCncLuBSpQVxsRCIoKmndgN6ALoCx11BfoCg0WIoLh6MUPPChJmvpx2a_FqUuuszl-gT2KxHTGHLx1O_syYdQCNe7MccHklKnKGyh5JzwX9nKOJevtrUSJfcZm2dLQlioRfjoiYIPU30LpgWSIf__sH-v7CSHq6HkJg1-bJTWvrQPa9srZv_2zFErILqSN1YvdUKB7U8Z7m5iOiCc7E","https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"],typeLabel:"Traditional String",drawWeight:"Compatible 40-60 lbs",length:"Custom Length",material:"FastFlight",drawWeightOptions:["60 in Bow","62 in Bow","64 in Bow"]},{id:"finger-tab",name:"Finger Tab",category:"Accessories",price:12,summary:"Leather finger tab",description:"A smooth leather finger tab for clean releases. Offers traditional protection with minimal bulk.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE",images:["https://lh3.googleusercontent.com/aida-public/AB6AXuDzwS5NIHPCRy-PUBujFkQ0RUeprLJbibTWvNH7WHXW9HNbpo8-qaf7kjKXCt8u6WyD_rGWBDfsrBW9qKYLII1GskfDet2akpOc6iisWZ95N-byqNbTZVGhi0MXwaD-ZsqAKT491YkYVu0N2KNQkwUBHQQ0wzxvSfjgwNqSipUvot1J7_eiwHycfq2fM-5i3HcTSVVi3K44bD9Zta0xFNJ43g-YjBiGN0iGpa0AD6fiBdBXdryIjifaFn2nI22BWDisSiq0fwXmHLE","https://lh3.googleusercontent.com/aida-public/AB6AXuAvnli8LWJ1YNarMvtJI4xoyM-DIqBlzuX2NGl5xpytfNqvvmmYQYMzpJZM0MnDjc0CAbaL8yBeQReic60wAfRiHKRjZLUAWuDsN7zQbWCHKujK_mKjn3-eKq7sn1BSkTRSHQgdJbMlZF8HH3NaaAFZdVV-X6fYoiugMg8xXRaonH13Prc5vEUhDA6rNS79YtxDJ-jwjIAUQR91NbwKawBhh5dOBjIFXYR4pGZELciAxUU8RnAVey9UQ9_TomOAdVBjZAvHMKECRvc","https://lh3.googleusercontent.com/aida-public/AB6AXuD8qMCYwVaPQJr1Wt7jWfB3OwnDzLJE9I44UL3cfqjjpaYQwp8MG9YA0YktUO4AoShyyuHsTlY08zocM3Fip7eck7SEE5VdMpkEjbeCSO1DfyKF8tL71mYTjD2Q2hUFSOzJe0WuVvs3-2TwPiIJwdIZEMTqParPUrEepVnxgtbCAGgkYTvQVcWzBn__mTt7SWKan0iLbimZES08aktRdUbtKT9dO-ePiFYsK02AhPTFsR4eLJ6jwT9CZPFNxw6CR9nvXPBHqVBmZEk","https://lh3.googleusercontent.com/aida-public/AB6AXuAJr7RnuQADXhy593nnly0VRUg9AFXjq4hSVGLzHAg9wjFGZdrw2dUFtUZtdXQgNhsHLp3FTCMICFvPSuvGsj1QX-pre1AgcyjI_HPzFtaZQseDeMkh8QpKuQ2uOr3bpBRqNIobfbC7PDz2mWiAgSdRackocDD3XHrK-nAodSnrptVgHdL5u_zr0z_qmeJjNd7b0gCo8qvrkF9he7p2pvyHb1pzAEN2mbkaVa5hp88Ij2vFLHvc2jY27KobESDM3HdJmrxE8kFJ8J8"],typeLabel:"Leather Accessory",drawWeight:"Standard Fit",length:"One Size",material:"Split Leather",drawWeightOptions:["Right Hand","Left Hand"]}];JT.filter(r=>r.featured);JT.reduce((r,e)=>(r[e.id]=e,r),{});let Zi=null,Ld=null,Ud=null,Bd=null;const cu=typeof window<"u",Ls=r=>cu?fj[r]??"":"",rs=()=>{const r=Ls("VITE_STORE_ID").trim();return r.length>0?r:null},Kh=()=>{const r=Ls("VITE_FIREBASE_API_KEY"),e=Ls("VITE_FIREBASE_AUTH_DOMAIN"),n=Ls("VITE_FIREBASE_PROJECT_ID"),a=Ls("VITE_FIREBASE_STORAGE_BUCKET"),o=Ls("VITE_FIREBASE_MESSAGING_SENDER_ID"),c=Ls("VITE_FIREBASE_APP_ID");return!r||!e||!n||!a||!o||!c?null:{apiKey:r,authDomain:e,projectId:n,storageBucket:a,messagingSenderId:o,appId:c}},pj=()=>!!Kh(),Ys=()=>{if(!cu)return null;if(Ld)return Ld;const r=Kh();return r?(Zi||(Zi=Ah(r)),Ld=KO(Zi),Ld):null},uu=()=>{if(!cu)return null;if(Ud)return Ud;const r=Kh();return r?(Zi||(Zi=Ah(r)),Ud=yk(Zi),Ud):null},gj=()=>{if(!cu)return null;if(Bd)return Bd;const r=Kh();return r?(Zi||(Zi=Ah(r)),Bd=Lk(Zi),Bd):null},yj=async(r,e)=>{const n=uu();n&&await r2(n,r,e)},hp=async()=>{const r=uu();r&&await s2(r)},vj=async()=>{const r=rs();if(!r)return null;const e=Ys();if(!e)return null;const n=ou(e,"stores",r),a=await WT(n);if(!a.exists())return null;const o=a.data(),c=typeof o.adminEmail=="string"?o.adminEmail.trim().toLowerCase():"";return c.length>0?c:null},bj=async(r,e)=>{const n=rs();if(!n)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const a=gj();if(!a)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!cu)throw new Error("Checkout is only available in the browser.");const o=r.map(y=>{const g=y.imageUrl?.trim(),_=g&&g.length<=2048&&(()=>{try{const w=new URL(g);if(w.protocol==="http:"||w.protocol==="https:")return g}catch{return}})();return{name:y.name.trim(),price:y.price,quantity:y.quantity,imageUrl:_}}).filter(y=>y.name&&Number.isFinite(y.price)&&y.quantity>0);if(o.length===0)throw new Error("Cart is empty.");const c=e?.successUrl??`${window.location.origin}/cart?checkout=success`,u=e?.cancelUrl??`${window.location.origin}/cart?checkout=cancel`,m=Bk(a,"createCheckoutSessionForFrederick");try{const g=(await m({storeId:n,successUrl:c,cancelUrl:u,items:o})).data,_=typeof g?.url=="string"?g.url:"";if(!_)throw new Error("Failed to start Stripe Checkout.");return _}catch(y){const g=y,_=typeof g?.message=="string"?g.message:"",w=g?.details??{},A=w&&typeof w=="object"&&"stripeMessage"in w&&typeof w.stripeMessage=="string"?w.stripeMessage:"",S=w&&typeof w=="object"&&"statusCode"in w&&typeof w.statusCode=="number"?w.statusCode:null,k=w&&typeof w=="object"&&"message"in w&&typeof w.message=="string"?w.message:"",F=[_,k,A].filter($=>$&&$.length>0),K=F.length>0?F.join(" "):"Stripe error while creating checkout session.",ne=S?` (Stripe status ${S})`:"";throw new Error(`${K}${ne}`)}},_j=r=>r.split(",").map(e=>e.trim()).filter(e=>e.length>0),xj=r=>{const e=(r.images??[]).map(o=>o.trim()).filter(o=>o.length>0),n=r.image.trim(),a=e.length>0?e:n?[n]:[];return{name:r.name.trim(),category:r.category,price:r.price,summary:r.summary.trim(),description:r.description.trim(),image:n,images:a,badge:r.badge?.trim()||void 0,featured:!!r.featured,typeLabel:r.typeLabel.trim(),drawWeight:r.drawWeight.trim(),length:r.length.trim(),material:r.material.trim(),drawWeightOptions:_j(r.drawWeightOptions),stockLevel:typeof r.stockLevel=="number"?r.stockLevel:void 0}},wj=async r=>{const e=rs();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=Ys();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!uu()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before saving products.");const o=UT(n,"stores",e,"products"),c={...r,createdAt:Gp(),updatedAt:Gp()};return(await dj(o,c)).id},Ej=async(r,e)=>{const n=rs();if(!n)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const a=Ys();if(!a)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!uu()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before updating products.");const c=ou(a,"stores",n,"products",r);await cj(c,{...e,updatedAt:Gp()})},Tj=async r=>{const e=rs();if(!e)throw new Error("Missing VITE_STORE_ID. Set it in the Frederick .env file.");const n=Ys();if(!n)throw new Error("Missing Firebase config env vars. Check VITE_FIREBASE_* in .env.");if(!uu()?.currentUser)throw new Error("Not signed in to Firebase. Sign in from the admin page before deleting products.");const o=ou(n,"stores",e,"products",r);await uj(o)},Aj=r=>r.docs.map(e=>{const n=e.data();return{id:e.id,name:n.name??"",category:n.category??"Accessories",price:typeof n.price=="number"?n.price:0,summary:n.summary??"",description:n.description??"",image:n.image??"",images:Array.isArray(n.images)?n.images:[],badge:typeof n.badge=="string"?n.badge:void 0,featured:!!n.featured,typeLabel:n.typeLabel??"",drawWeight:n.drawWeight??"",length:n.length??"",material:n.material??"",drawWeightOptions:Array.isArray(n.drawWeightOptions)?n.drawWeightOptions:[],stockLevel:typeof n.stockLevel=="number"?n.stockLevel:void 0}}).filter(e=>e.name.trim().length>0&&e.image.trim().length>0),Qh=()=>{const[r,e]=V.useState(null),[n,a]=V.useState(null);return V.useEffect(()=>{const o=rs(),c=Ys();if(!o||!c)return;const u=UT(c,"stores",o,"products"),m=aj(u,sj("createdAt","desc")),y=hj(m,g=>{a(null),e(Aj(g))},g=>{e(null),a(g instanceof Error?g.message:"Failed to load products.")});return()=>y()},[]),{products:r??[],error:n,loading:r===null&&n===null&&!!rs()&&!!Ys()}},Sj=r=>{const e=rs(),n=Ys(),[a,o]=V.useState(null),[c,u]=V.useState(null),[m,y]=V.useState(null);V.useEffect(()=>{if(!r||!e||!n)return;const A=ou(n,"stores",e,"products",r);WT(A).then(S=>{if(!S.exists()){u(r),o(null),y(null);return}const k=S.data(),F={id:S.id,name:k.name??"",category:k.category??"Accessories",price:typeof k.price=="number"?k.price:0,summary:k.summary??"",description:k.description??"",image:k.image??"",images:Array.isArray(k.images)?k.images:[],badge:typeof k.badge=="string"?k.badge:void 0,featured:!!k.featured,typeLabel:k.typeLabel??"",drawWeight:k.drawWeight??"",length:k.length??"",material:k.material??"",drawWeightOptions:Array.isArray(k.drawWeightOptions)?k.drawWeightOptions:[],stockLevel:typeof k.stockLevel=="number"?k.stockLevel:void 0};u(r),o(F),y(null)}).catch(S=>{u(r),o(null),y({productId:r,message:S instanceof Error?S.message:"Failed to load product."})})},[n,r,e]);const g=!!(r&&e&&n&&c!==r),_=m&&m.productId===r?m.message:null;return{product:c===r?a:null,error:_,loading:g}};function Rj(){const r=Yc(),{products:e}=Qh(),n=V.useMemo(()=>e.filter(o=>o.featured),[e]),a=(o,c,u)=>{o.stopPropagation(),lg({productId:c,quantity:1,option:u}),r("/cart")};return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("section",{className:"relative w-full",children:p.jsx("div",{className:"w-full min-h-[600px] flex flex-col items-center justify-center px-4 py-20 text-center bg-cover bg-center bg-no-repeat relative overflow-hidden","data-alt":"Misty forest landscape with a traditional wooden bow in foreground",style:{backgroundImage:'linear-gradient(rgba(27, 15, 35, 0.4), rgba(27, 15, 35, 0.7)), url("https://lh3.googleusercontent.com/aida-public/AB6AXuCaAK4HM643aTLQmCMZEdteScqiQcWCig6AlBvTRO5kXH2NkEj0EL8tSkDN9ZkGHCip63ay6WE8iq4_-3imNj8vghC32_UPc0WcWd9V0mcZnibsOh1QDeNCRkpY0aZJzoROIYY0gcKkljIh-TWnrCP-_sNd5VrkaVj39u2N0z_cge9yyECHBXWkS_wqrm2VudHOHrBOWnc7jg62lKVUhf297LmWheBSCjmrGjSVbVJKA5vJTyJxcL1QCeGFN-MlUBlWlUnCVk6lLn4")'},children:p.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col gap-6 items-center animate-fade-in-up",children:[p.jsx("span",{className:"text-[#e5ded0] uppercase tracking-[0.2em] text-sm font-bold",children:"Est. 1982  Oregon, USA"}),p.jsxs("h1",{className:"text-white text-5xl md:text-7xl font-black leading-tight tracking-tight drop-shadow-lg",children:["Proudly Handcrafted ",p.jsx("br",{}),p.jsx("span",{className:"italic font-medium",children:"in the USA"})]}),p.jsx("p",{className:"text-[#f7f5f8] text-lg md:text-xl font-normal max-w-xl leading-relaxed opacity-90",children:"Preserving the art of traditional archery with ethically sourced woods and centuries-old techniques."}),p.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:[p.jsxs("button",{className:"flex items-center gap-2 justify-center rounded-lg h-12 px-8 bg-primary hover:bg-[#3a0063] text-white text-base font-bold tracking-wide transition-all transform hover:scale-105 shadow-lg shadow-primary/30",onClick:()=>r("/products"),children:[p.jsx("span",{children:"Explore Our Bows"}),p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}),p.jsx("button",{className:"flex items-center justify-center rounded-lg h-12 px-8 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white border border-white/30 text-base font-bold tracking-wide transition-all",onClick:()=>r("/about"),children:"Our Story"})]})]})})}),p.jsx("section",{className:"py-16 md:py-24 px-4 bg-background-light dark:bg-background-dark",children:p.jsxs("div",{className:"max-w-[960px] mx-auto flex flex-col gap-10",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("h2",{className:"text-[#160c1d] dark:text-white text-3xl md:text-4xl font-bold leading-tight",children:"The Black Eagle Standard"}),p.jsx("div",{className:"h-1 w-20 bg-primary mx-auto rounded-full"}),p.jsx("p",{className:"text-[#160c1d]/80 dark:text-[#f7f5f8]/80 text-lg md:text-xl font-normal leading-relaxed max-w-2xl mx-auto",children:"We don't just build bows; we craft heirlooms. Every curve is intentional, every piece of wood is hand-selected, and every string is tested for perfection."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pt-8",children:[p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"forest"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Ethically Sourced"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"We partner with local foresters to find sustainable, high-character timber."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"handyman"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Hand Carved"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"No CNC machines. Just rasps, draw knives, and patience."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center gap-3 p-6 rounded-xl bg-white dark:bg-[#25162e] border border-[#e5ded0] dark:border-[#3a2046] shadow-sm",children:[p.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"verified"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Lifetime Warranty"}),p.jsx("p",{className:"text-sm text-[#160c1d]/70 dark:text-[#f7f5f8]/70",children:"We stand behind our craftsmanship for the life of the bow."})]})]})]})}),p.jsx("section",{className:"py-16 px-4 bg-[#f0eadd] dark:bg-[#150a1b]",children:p.jsxs("div",{className:"max-w-[1100px] mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-end mb-10",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-primary font-bold uppercase tracking-wider text-xs",children:"Shop Collection"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#160c1d] dark:text-white",children:"Featured Models"})]}),p.jsxs(ut,{className:"hidden md:flex items-center gap-1 text-primary font-bold hover:underline",to:"/products",children:["View All ",p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_right_alt"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:n.slice(0,3).map((o,c)=>p.jsxs("div",{className:"group flex flex-col bg-background-light dark:bg-[#25162e] rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>r(`/product-details/${o.id}`),children:[p.jsxs("div",{className:"h-64 overflow-hidden relative bg-gray-200",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center group-hover:scale-110 transition-transform duration-700","data-alt":o.name,style:{backgroundImage:`url("${o.image}")`}}),c===2?p.jsx("div",{className:"absolute top-3 left-3 bg-primary text-white text-xs font-bold px-2 py-1 rounded",children:"Best Seller"}):null]}),p.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:o.name}),p.jsx("p",{className:"text-sm text-[#160c1d]/60 dark:text-[#f7f5f8]/60 mt-1",children:o.summary}),p.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p.jsxs("span",{className:"text-lg font-bold text-primary",children:["$",o.price.toFixed(2)]}),p.jsx("button",{className:"text-[#160c1d] dark:text-white hover:text-primary dark:hover:text-primary",onClick:u=>a(u,o.id,o.drawWeightOptions[0]??"Standard"),children:p.jsx("span",{className:"material-symbols-outlined",children:"add_shopping_cart"})})]})]})]},o.id))}),p.jsx("div",{className:"flex md:hidden justify-center mt-8",children:p.jsxs(ut,{className:"flex items-center gap-1 text-primary font-bold hover:underline",to:"/products",children:["View All Models ",p.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_right_alt"})]})})]})}),p.jsx("section",{className:"py-20 px-4 bg-background-light dark:bg-background-dark",children:p.jsx("div",{className:"max-w-[960px] mx-auto",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-10 items-center bg-white dark:bg-[#25162e] p-8 md:p-12 rounded-2xl shadow-lg border border-[#e5ded0] dark:border-[#3a2046]",children:[p.jsx("div",{className:"w-full md:w-1/3 flex justify-center",children:p.jsx("div",{className:"w-48 h-48 md:w-56 md:h-56 rounded-full bg-cover bg-center border-4 border-primary/20 shadow-inner","data-alt":"Portrait of an older craftsman in an apron working on a wooden bow",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAFRTLd5n06aplfouL_9DImyiXM4c0HErsVa6BZGtZI3kcNYf-9kFDwG8Gt4qWSZJciFToYAf9s1K3gHTRfaL6acOg4HibtR4sdzdIlvkFL0myIC6NboPaAoj7cnDamHbw6YY6H1jT92uYRms5MqHYCzOeFpyln9-fk0ADzgrBG9cZZ8ezfb85RtCcxO3dcyJ_OB32cUe8BvbNCIVvQMwP1ktqc6bR8fdCfkhGrsriBxLcvBqjf0C96_YL056I0G0CPDW0XvLM6B2U")'}})}),p.jsxs("div",{className:"w-full md:w-2/3 flex flex-col gap-4 text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[p.jsx("span",{className:"material-symbols-outlined text-primary",children:"history_edu"}),p.jsx("span",{className:"text-sm font-bold uppercase tracking-wider text-[#160c1d]/50 dark:text-white/50",children:"Master Bowyer"})]}),p.jsx("h2",{className:"text-3xl font-bold text-[#160c1d] dark:text-white",children:"Meet Freddie G."}),p.jsx("p",{className:"text-lg text-primary italic font-medium",children:'"The wood speaks to you. You just have to be quiet enough to listen."'}),p.jsx("p",{className:"text-[#160c1d]/80 dark:text-[#f7f5f8]/80 leading-relaxed",children:'With over 40 years of experience in bending wood to his will, Freddie brings a heritage of craftsmanship to every piece he touches. Starting in a small garage in Oregon, his dedication to the "old ways" has made Black Eagle bows sought after by traditional archers worldwide.'}),p.jsx("div",{className:"pt-4",children:p.jsx(ut,{className:"inline-flex items-center text-[#160c1d] dark:text-white font-bold hover:text-primary transition-colors border-b-2 border-primary/30 hover:border-primary pb-0.5",to:"/about",children:"Read Freddie's Full Story"})})]})]})})}),p.jsxs("section",{className:"py-16 px-4 bg-primary text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/wood-pattern.png')]"}),p.jsxs("div",{className:"max-w-2xl mx-auto text-center relative z-10 flex flex-col gap-6",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Join the Tribe"}),p.jsx("p",{className:"text-white/80 text-lg",children:"Sign up for our newsletter to receive updates on new builds, archery tips, and exclusive heritage stories."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto w-full",children:[p.jsx("input",{className:"flex-1 h-12 rounded-lg px-4 bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Enter your email",type:"email"}),p.jsx("button",{className:"h-12 px-6 rounded-lg bg-white text-primary font-bold hover:bg-[#f7f5f8] transition-colors",children:"Subscribe"})]})]})]})]})}const Nj=["All Products","Recurve Bows","Longbows","Strings","Accessories"];function Cj(){const r=Yc(),{products:e}=Qh(),[n,a]=V.useState("All Products"),[o,c]=V.useState(1),u=4,m=V.useMemo(()=>n==="All Products"?e:e.filter(k=>k.category===n),[n,e]),y=Math.max(1,Math.ceil(m.length/u)),g=Math.min(o,y),_=m.slice((g-1)*u,g*u),w=k=>{a(k),c(1)},A=(k,F)=>{k.stopPropagation(),r(`/product-details/${F}`)},S=k=>{r(`/product-details/${k}`)};return p.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#160c1d] dark:text-[#f3f0f5]",children:p.jsx("div",{className:"relative flex h-auto w-full flex-col overflow-x-hidden",children:p.jsx("main",{className:"w-full flex justify-center",children:p.jsxs("div",{className:"layout-content-container flex flex-col w-full max-w-[1280px] px-4 md:px-10 py-8 md:py-12",children:[p.jsx("div",{className:"flex flex-wrap justify-between gap-6 mb-8 items-end",children:p.jsxs("div",{className:"flex flex-col gap-3 max-w-2xl",children:[p.jsx("p",{className:"text-[#160c1d] dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"Handcrafted for the Traditional Archer"}),p.jsx("p",{className:"text-[#7a45a1] dark:text-[#bcaaa4] text-lg font-normal leading-normal max-w-lg",children:"Discover our collection of premium traditional bows, custom strings, and leather accessories."})]})}),p.jsx("div",{className:"mb-10 overflow-x-auto",children:p.jsx("div",{className:"flex border-b border-[#decdea] dark:border-[#3a2a45] min-w-max",children:Nj.map(k=>{const F=n===k;return p.jsx("button",{className:`group flex flex-col items-center justify-center border-b-[3px] px-6 pb-3 pt-4 cursor-pointer transition-colors ${F?"border-b-primary":"border-b-transparent hover:border-b-primary/30"}`,onClick:()=>w(k),type:"button",children:p.jsx("p",{className:`text-base leading-normal tracking-[0.015em] transition-colors ${F?"text-[#160c1d] dark:text-white font-bold":"text-[#7a45a1] dark:text-[#a594b5] group-hover:text-primary dark:group-hover:text-[#d1c4e9] font-medium"}`,children:k})},k)})})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:_.map(k=>p.jsxs("div",{className:"group flex flex-col bg-wood-light dark:bg-wood-dark border border-[#e8dfed] dark:border-[#3a2a45] rounded-xl overflow-hidden shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>S(k.id),children:[p.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-[#e0e0e0]",children:[p.jsx("img",{alt:k.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500","data-alt":k.name,src:k.image}),k.badge?p.jsx("div",{className:"absolute top-3 right-3",children:p.jsx("span",{className:"bg-primary/90 text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm",children:k.badge})}):null]}),p.jsxs("div",{className:"p-5 flex flex-col flex-1 gap-2",children:[p.jsx("div",{className:"flex justify-between items-start",children:p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white leading-tight",children:k.name})}),p.jsx("p",{className:"text-sm text-[#7a45a1] dark:text-[#bcaaa4] line-clamp-2 mb-2",children:k.summary}),p.jsxs("div",{className:"mt-auto flex flex-col gap-3",children:[p.jsxs("p",{className:"text-xl font-bold text-[#160c1d] dark:text-[#e0d6e8]",children:["$",k.price.toFixed(2)]}),p.jsxs("button",{className:"w-full py-2.5 px-4 bg-primary/10 hover:bg-primary text-primary hover:text-white dark:text-[#d1c4e9] dark:hover:text-white rounded-lg font-bold text-sm transition-colors duration-200 border border-primary/20 hover:border-primary flex items-center justify-center gap-2",onClick:F=>A(F,k.id),children:[p.jsx("span",{children:"View Details"}),p.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_forward"})]})]})]})]},k.id))}),p.jsxs("div",{className:"flex items-center justify-center p-8 mt-6",children:[p.jsx("button",{className:"flex size-10 items-center justify-center rounded-full hover:bg-[#e0e0e0] dark:hover:bg-[#3a2a45] transition-colors",onClick:()=>c(k=>Math.max(1,k-1)),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[#160c1d] dark:text-white text-lg",children:"chevron_left"})}),Array.from({length:y},(k,F)=>F+1).map(k=>{const F=k===g;return p.jsx("button",{className:`text-sm leading-normal flex size-10 items-center justify-center rounded-full mx-1 shadow-md transition-colors ${F?"font-bold text-white bg-primary":"font-normal text-[#160c1d] dark:text-white hover:bg-[#eee6f4] dark:hover:bg-[#3a2a45]"}`,onClick:()=>c(k),type:"button",children:k},k)}),p.jsx("button",{className:"flex size-10 items-center justify-center rounded-full hover:bg-[#e0e0e0] dark:hover:bg-[#3a2a45] transition-colors",onClick:()=>c(k=>Math.min(y,k+1)),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[#160c1d] dark:text-white text-lg",children:"chevron_right"})})]})]})})})})}function Ij(){const r={"--color-background-light":"#fdfbf7"};return p.jsxs("div",{className:"font-display bg-background-light dark:bg-background-dark text-text-brown dark:text-[#e0d0c0] min-h-screen flex flex-col antialiased",style:r,children:[p.jsx("main",{className:"flex-grow flex flex-col items-center w-full",children:p.jsxs("div",{className:"w-full max-w-[1200px] px-4 md:px-8 lg:px-12 py-8 flex flex-col gap-12",children:[p.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center py-6",children:[p.jsxs("div",{className:"w-full lg:w-1/2 aspect-[4/3] rounded-md overflow-hidden shadow-md relative group",children:[p.jsx("div",{className:"absolute inset-0 bg-primary/10 group-hover:bg-transparent transition-colors duration-500"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center sepia-[0.2]","data-alt":"Freddie G the master bowyer working intently at his woodworking bench with hand tools",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDopBOLp_e_HgjnJeRorfksjtmjyPoZbJTE3w0leUcaF-U-1I8h5LYbLPvTDKMFjfQ6-wjtceWCyJJFO5d7DZHZZyi2HigUP-kz82YgDj_Y5PpDuAjylhg6sg_Aojvb8h93GsB5QwH3SUN4pOapAsapCIZzg4qpoSxbRi1uxL7vZtZi5Iq1aEbQOBPNmENK-incpJg4L-1QfyGOpHjNHaRjrIFrrKiwxrJvdSoBFvKopQg003qANHnLxCfFiq2uAIT3YHuxPput_1c")'}})]}),p.jsxs("div",{className:"flex flex-col gap-6 lg:w-1/2 lg:pl-12 justify-center",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("span",{className:"text-primary font-bold tracking-wider uppercase text-sm",children:"Est. 1984"}),p.jsxs("h1",{className:"text-text-brown dark:text-white text-5xl md:text-6xl font-black leading-[1.1] tracking-[-0.02em]",children:["The Master ",p.jsx("br",{}),p.jsx("span",{className:"text-primary italic",children:"Bowyer"})]}),p.jsx("div",{className:"h-1 w-24 bg-primary/30 rounded-full my-2"}),p.jsxs("h2",{className:"text-text-brown-light dark:text-gray-300 text-xl font-medium leading-relaxed italic",children:["Preserving Old World Tradition in a Modern Age. ",p.jsx("br",{}),"Meet Freddie G., the artisan breathing life into ancient wood."]})]}),p.jsx("div",{className:"flex gap-4 pt-4",children:p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-6 bg-primary text-white text-base font-bold shadow-md hover:bg-[#3d006a] transition-all",to:"/products",children:"View Freddie's Collection"})})]})]}),p.jsx("div",{className:"arrow-separator",children:p.jsx("span",{className:"material-symbols-outlined arrow-icon",children:"flight"})}),p.jsxs("div",{className:"max-w-[800px] mx-auto text-center px-4 py-8",children:[p.jsx("span",{className:"material-symbols-outlined text-primary/40 text-4xl mb-2",children:"format_quote"}),p.jsx("p",{className:"text-text-brown dark:text-white text-2xl md:text-3xl font-medium leading-normal italic",children:`"The wood speaks to you if you listen. A bow isn't simply made; it's revealed from within the tree, layer by patient layer."`}),p.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-lg text-primary",children:" Freddie G."}),p.jsx("span",{className:"text-sm text-text-brown-light dark:text-gray-400",children:"Master Artisan"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-12 py-10",children:[p.jsxs("div",{className:"md:col-span-7 flex flex-col gap-6 text-lg leading-relaxed text-text-brown-light dark:text-gray-300",children:[p.jsx("p",{className:"drop-cap",children:"Born into a family of carpenters, Freddies journey began not with bows, but with the simple appreciation of grain and knot. It wasn't until a trip to the historic archery ranges of England that he felt the pull of the Yew wood. He realized that the ancient art of the bowyer was fading, replaced by fiberglass and carbon molds."}),p.jsx("p",{children:"Determined to keep the flame alive, Freddie returned to his workshop in the Pacific Northwest, surrounding himself with staves of Osage Orange and Pacific Yew. He eschewed modern machinery, opting instead for the honest feedback of hand toolsdrawknives, rasps, and cabinet scrapers."}),p.jsx("p",{children:'"There is no rushing a self-bow," Freddie often says. "You must wait for the wood to season, wait for it to bend, and wait for it to tell you when it is ready." This patience is what imbues every Heritage Bow with its unique character and potent snap.'})]}),p.jsx("div",{className:"md:col-span-5 flex flex-col justify-center gap-6",children:p.jsxs("div",{className:"bg-white dark:bg-white/5 border border-[#eaddcf] dark:border-white/10 p-8 rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-2xl font-bold text-text-brown dark:text-white mb-6 border-b border-[#eaddcf] dark:border-white/10 pb-4",children:"The Workshop Standards"}),p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"forest"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Hand-Selected Staves"}),p.jsx("p",{className:"text-sm mt-1",children:"Sourced from sustainably harvested Osage Orange and high-altitude Yew timber."})]})]}),p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"handyman"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Traditional Tools Only"}),p.jsx("p",{className:"text-sm mt-1",children:"Shaped with drawknives and rasps. No CNC machines touch our wood."})]})]}),p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:"text-primary mt-1",children:p.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-text-brown dark:text-white text-lg",children:"Natural Finishes"}),p.jsx("p",{className:"text-sm mt-1",children:"Sealed with proprietary blends of oils and beeswax, never synthetic lacquers."})]})]})]})]})})]}),p.jsx("div",{className:"arrow-separator",children:p.jsx("span",{className:"material-symbols-outlined arrow-icon",children:"flight"})}),p.jsxs("div",{className:"flex flex-col gap-8 py-8 w-full",children:[p.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[p.jsx("h3",{className:"text-3xl font-bold text-text-brown dark:text-white",children:"A Legacy Carved in Wood"}),p.jsx("p",{className:"text-text-brown-light dark:text-gray-400 max-w-2xl",children:"From the rough log to the polished weapon, witness the transformation."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Roughing out a wooden bow stave with a drawknife in the workshop",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBs9bgw8XEjBY4qKCea8vsakbzAv-erAcxS99Jvo7kBDiyHRB35Wpwv9HIavg1k1iCqsLIt4T1nxXo0r-cKsxmaFFdMbjzO_IzGLlV7Ii_26YOyq_8KIA1Mn-U8RNWmLmETJnNAQaEbtH26NZfqyop-UIvXT8UKtQdH_t64InoU2kIrF2qIzPT0KeitFg0Zg6IssQBQxX08SWg26qLuzHfuus4vvG_8CT45htfRmZpBGiEmtVMk6UV2tVmx_vA_1CLP1kYQeWp_Hcc")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 01"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Rough Out"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Removing bulk wood to find the bow within."})]})]}),p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Checking the bend of a wooden bow on a tillering tree against a wall",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBKUHOWH5j2zmDhH11Bygkg8WBB172ZppMixCTcdEf30jsV91cNzqUPN6_CCnvONakLSEOjJtCqfiaQeIyX1UYb0DgYdeYw3v8GKA-hbOl8wli2v2jUsY3yG56iauGXasCqFpicYuu2of7oeEmT6LxVTT8r-A2T6X8sGytoda05WcVUVz_kX0hUEI5jZ2-46wg-c8CAGnI9IQEi3RNBdbz6wsjbZw7PgkPAG3gSaRTycmU0JoZ7VNGHF1EduVjhqBwhXTbvuE5FlKE")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 02"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Tillering"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Teaching the wood to bend without breaking."})]})]}),p.jsxs("div",{className:"group relative aspect-[4/5] md:aspect-[3/4] overflow-hidden rounded-md shadow-md cursor-pointer",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"}),p.jsx("div",{className:"w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105","data-alt":"Close up of hand applying oil finish to the smooth wood of a longbow",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC0QM6agPXZfWHIlh1sS644gKaHQc2_jQ_r6xwih3vPTP1QMa-TJYNUBQV5zgDmU0hqlmiV1M7MFq8Ci2mQzRv4g9oaRADALBWyPGz_6g9yMQ2Owz7YgluMBpaRWhQLOVF2Zk0VGnP4hdLoDgK6lrWn657SsKObX7CcBZiGOFL6U2c0VuLC1BPnE5Ax6_RFz5zeUVnEbdOjA2ea0igFgVAf8ZvVgMJebAk2QizYtj_n6hf4Qr9JkNGLs-WsDxMajSZQ4caIveMprz4")'}}),p.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[p.jsx("span",{className:"text-primary font-bold text-xs uppercase tracking-widest mb-1 block",children:"Step 03"}),p.jsx("h4",{className:"text-white text-xl font-bold",children:"The Finishing"}),p.jsx("p",{className:"text-white/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:"Sealing the grain for a lifetime of use."})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-6 text-center",children:[p.jsx("div",{className:"font-display text-4xl text-text-brown dark:text-white italic opacity-80",style:{fontFamily:"'Newsreader', serif"},children:"Freddie G."}),p.jsx("h3",{className:"text-2xl font-bold text-text-brown dark:text-white",children:"Own a Piece of History"}),p.jsx("p",{className:"text-text-brown-light dark:text-gray-400 max-w-md",children:"Every bow is a unique commission. Explore current stock or contact us for a custom build."}),p.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-8 bg-primary text-white text-base font-bold shadow-md hover:bg-[#3d006a] transition-all",to:"/products",children:"Shop Available Bows"}),p.jsx(ut,{className:"flex items-center justify-center rounded-md h-12 px-8 border-2 border-[#3E2723] dark:border-white/20 text-[#3E2723] dark:text-white text-base font-bold hover:bg-[#3E2723] hover:text-white dark:hover:bg-white dark:hover:text-black transition-all",to:"/contact",children:"Contact Workshop"})]})]})]})}),p.jsx("footer",{className:"w-full border-t border-[#3E2723]/10 dark:border-white/10 bg-[#f8f5f0] dark:bg-background-dark py-12",children:p.jsxs("div",{className:"layout-container flex flex-col items-center justify-center gap-6",children:[p.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[p.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"forest"}),p.jsx("span",{className:"text-lg font-bold text-text-brown dark:text-white",children:"Heritage Bows"})]}),p.jsxs("div",{className:"flex gap-8 text-sm font-medium text-text-brown-light dark:text-gray-400",children:[p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Shipping & Returns"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Bow Care"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Terms of Service"}),p.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Privacy Policy"})]}),p.jsx("p",{className:"text-xs text-text-brown-light/60 dark:text-gray-600",children:" 2023 Heritage Bows. All rights reserved."})]})})]})}function kj(){const[r,e]=V.useState({name:"",email:"",model:"",service:"General Inquiry",message:""}),[n,a]=V.useState(""),o=c=>{if(c.preventDefault(),!r.name||!r.email||!r.message){a("Please complete your name, email, and message before sending.");return}a("Message sent. We will reply within 24 hours."),e({name:"",email:"",model:"",service:"General Inquiry",message:""})};return p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-[#160c1d] dark:text-white overflow-x-hidden antialiased flex flex-col min-h-screen",children:p.jsx("main",{className:"flex-grow flex justify-center w-full px-4 sm:px-6 py-8 md:py-12",children:p.jsxs("div",{className:"w-full max-w-[1080px] flex flex-col gap-10",children:[p.jsxs("div",{className:"flex flex-col gap-4 text-center max-w-3xl mx-auto",children:[p.jsxs("h1",{className:"text-[#160c1d] dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.02em]",children:["Craftsmanship Requires ",p.jsx("span",{className:"text-primary italic",children:"Conversation"})]}),p.jsx("p",{className:"text-[#7a45a1] dark:text-[#a88cc9] text-lg md:text-xl font-medium leading-relaxed max-w-2xl mx-auto",children:"Whether you need a custom Flemish twist bowstring or a repair on your heirloom bow, reach out to the Black Eagle workshop."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mt-4",children:[p.jsx("div",{className:"lg:col-span-7 bg-white dark:bg-[#251530] p-6 md:p-8 rounded-xl rustic-border",children:p.jsxs("form",{className:"flex flex-col gap-6",onSubmit:o,children:[n?p.jsx("div",{className:"rounded-lg border border-primary/20 bg-primary/10 px-4 py-3 text-sm text-primary font-semibold",children:n}):null,p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Your Name"}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,name:c.target.value})),placeholder:"Enter your full name",type:"text",value:r.name})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Email Address"}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,email:c.target.value})),placeholder:"name@example.com",type:"email",value:r.email})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsxs("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:["Bow Model ",p.jsx("span",{className:"font-normal text-sm opacity-60",children:"(Optional)"})]}),p.jsx("input",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 focus:ring-0 focus:outline-none transition-shadow font-sans",onChange:c=>e(u=>({...u,model:c.target.value})),placeholder:"e.g., 1965 Bear Kodiak",type:"text",value:r.model})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"Service Required"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white h-12 px-4 pr-10 focus:ring-0 focus:outline-none transition-shadow appearance-none font-sans cursor-pointer",onChange:c=>e(u=>({...u,service:c.target.value})),value:r.service,children:[p.jsx("option",{children:"General Inquiry"}),p.jsx("option",{children:"Custom Bow Commission"}),p.jsx("option",{children:"Structural Repair"}),p.jsx("option",{children:"Custom String Request"}),p.jsx("option",{children:"Tuning Assistance"})]}),p.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-primary pointer-events-none",children:"expand_more"})]})]})]}),p.jsxs("label",{className:"flex flex-col gap-2",children:[p.jsx("span",{className:"text-[#160c1d] dark:text-gray-200 text-base font-semibold",children:"How can we help?"}),p.jsx("textarea",{className:"rustic-input w-full rounded-lg border border-[#decdea] dark:border-[#4a355e] bg-[#faf8fc] dark:bg-[#1b0f23] text-[#160c1d] dark:text-white min-h-[160px] p-4 focus:ring-0 focus:outline-none transition-shadow resize-y font-sans",onChange:c=>e(u=>({...u,message:c.target.value})),placeholder:"Describe the issue or your custom request details...",value:r.message})]}),p.jsx("div",{className:"pt-2",children:p.jsxs("button",{className:"group relative w-full md:w-auto md:min-w-[200px] flex items-center justify-center gap-2 bg-primary hover:bg-[#3d006b] text-white font-bold py-3.5 px-8 rounded-lg transition-all active:scale-[0.98] shadow-md hover:shadow-lg",type:"submit",children:[p.jsx("span",{children:"Send Message"}),p.jsx("span",{className:"material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform",children:"send"})]})})]})}),p.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-8",children:[p.jsxs("div",{className:"relative w-full h-64 rounded-xl overflow-hidden shadow-sm border border-[#eee6f4] dark:border-[#3a2a45]",children:[p.jsx("img",{alt:"Close up of wooden traditional bow riser and limbs with intricate craftsmanship",className:"absolute inset-0 w-full h-full object-cover","data-alt":"Close up of wooden traditional bow riser and limbs with intricate craftsmanship",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuD16yWQZa5-IVD4BvnvGtrMnuipSfpE0SLCFGpVZQLR03qBCC32p5IC7orPhjpIXOAIdBIN1drdX7rqdlBWehql8sb9OG8dMpDahyNPfsfk9Oo4jnBPjdBwIrPsqDJC1Dl3HBlTdhSPLJVP0zs_RLa35N6njgmXM1DuItRKpL4TLoMVh2K3u7rMl7ThwFjdIdR3HaZCvq_U8Kve5fDkwbqKTmIdfh-sO2A_vC5-Zd4buub2ymqo0oQGU1ejRo5lcR0RtBKUD3BHP4I"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent flex items-end p-6",children:p.jsx("p",{className:"text-white font-bold text-lg",children:"Traditional Archery Since 1982"})})]}),p.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-6 md:p-8 rounded-xl border border-primary/10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"handyman"}),p.jsx("h3",{className:"text-xl font-bold text-[#160c1d] dark:text-white",children:"Our Workshop Services"})]}),p.jsxs("ul",{className:"space-y-4",children:[p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Custom Bow Commission"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Tailored draw weights and exotic woods."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Structural Repairs"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Limb delamination and riser fixes."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Flemish Twist Strings"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Hand-spun FastFlight or B-50 Dacron."})]})]}),p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary text-sm mt-1",children:"check_circle"}),p.jsxs("div",{children:[p.jsx("strong",{className:"block text-[#160c1d] dark:text-gray-200",children:"Tuning & Maintenance"}),p.jsx("span",{className:"text-sm text-[#7a45a1] dark:text-gray-400",children:"Nocking points, silencers, and brace height."})]})]})]})]}),p.jsxs("div",{className:"p-6 rounded-xl border border-dashed border-[#d1c4dd] dark:border-[#4a355e] flex flex-col gap-3 items-start",children:[p.jsx("h4",{className:"text-lg font-bold text-[#160c1d] dark:text-white",children:"Prefer email?"}),p.jsx("p",{className:"text-[#160c1d] dark:text-gray-300",children:"Skip the form and write to us directly. We usually respond within 24 hours."}),p.jsxs("a",{className:"inline-flex items-center gap-2 text-primary font-bold hover:underline mt-1",href:"mailto:workshop@blackeaglearchery.com",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"mail"}),"workshop@blackeaglearchery.com"]})]})]})]})]})})})}function Dj({variant:r="page",onClose:e,initialProduct:n}){const a=r==="modal",o=!!n,[c,u]=V.useState(""),[m,y]=V.useState(""),[g,_]=V.useState(""),[w,A]=V.useState(""),[S,k]=V.useState(""),[F,K]=V.useState(""),[ne,$]=V.useState(""),[oe,Ae]=V.useState(""),[Se,Te]=V.useState(""),[E,N]=V.useState(""),[C,P]=V.useState(""),[D,U]=V.useState(!1),[I,Pe]=V.useState(""),[Ne,Q]=V.useState([]),[ce,de]=V.useState([]),[Ie,Le]=V.useState(!1),[M,J]=V.useState(!1),[ue,le]=V.useState(null),xe=V.useRef(null),De={"--color-primary":"#7311d4","--color-primary-dark":"#5e0eb0","--color-background-light":"#FDFCF5","--color-background-dark":"#191022","--color-border-dark":"#2c2a27","--color-paper-shadow":"rgba(44, 42, 39, 0.1)","--font-display":"Newsreader, serif"},Fe=a?"w-full":"bg-background-light dark:bg-background-dark font-display antialiased min-h-screen flex flex-col",vt=a?"w-full":"flex-grow flex items-center justify-center p-6 md:p-10",mt=a?"w-full bg-white dark:bg-[#1f1a24] rounded-2xl shadow-2xl overflow-hidden flex flex-col":"w-full max-w-6xl bg-white dark:bg-[#1f1a24] rounded-xl shadow-2xl border-[3px] border-[#2c2a27] dark:border-[#4a453e] overflow-hidden flex flex-col",ke=!!e;V.useEffect(()=>{n&&(u(n.name),y(n.category),_(n.price.toString()),A(n.summary),k(n.description),K(n.typeLabel),$(n.drawWeight),Ae(n.length),Te(n.material),N(n.drawWeightOptions.join(", ")),P(n.badge??""),U(!!n.featured),Pe(typeof n.stockLevel=="number"?n.stockLevel.toString():""),Q([]),de([n.image,...n.images].filter(pe=>pe.length>0)))},[n]);const Gt=V.useMemo(()=>Ne.slice(0,4).map(pe=>URL.createObjectURL(pe)),[Ne]),Ue=Gt.length>0?Gt:ce.slice(0,4);V.useEffect(()=>()=>{Gt.forEach(pe=>URL.revokeObjectURL(pe))},[Gt]);const gn=()=>{e&&e()},yn=pe=>{if(!pe)return;const Mt=Array.from(pe).filter(wn=>wn.type.startsWith("image/"));if(Mt.length===0){le("Please select at least one image file.");return}le(null),Q(Mt.slice(0,4)),de([])},Pr=pe=>{pe.preventDefault(),Le(!1),yn(pe.dataTransfer.files)},xn=()=>{xe.current?.click()},Ti=pe=>new Promise((Mt,wn)=>{const hn=URL.createObjectURL(pe),dt=new Image;dt.onload=()=>{URL.revokeObjectURL(hn),Mt(dt)},dt.onerror=()=>{URL.revokeObjectURL(hn),wn(new Error("Failed to read image file."))},dt.src=hn}),Ai=async pe=>{const Mt=await Ti(pe),wn=1200,hn=Math.min(1,wn/Mt.width,wn/Mt.height),dt=Math.max(1,Math.round(Mt.width*hn)),fn=Math.max(1,Math.round(Mt.height*hn)),Un=document.createElement("canvas");Un.width=dt,Un.height=fn;const Bn=Un.getContext("2d");if(!Bn)throw new Error("Failed to process image file.");Bn.drawImage(Mt,0,0,dt,fn);const Bt=1048487,zn=[.9,.8,.7,.6,.5];for(const Si of zn){const Ri=Un.toDataURL("image/jpeg",Si);if(Ri.length<=Bt)return Ri}throw new Error("Image is too large. Please choose a smaller image or fewer images.")},jt=async pe=>{if(pe.preventDefault(),M)return;if(le(null),!c.trim()){le("Product Title is required.");return}if(!m){le("Please select a Category.");return}const Mt=Number(g);if(!Number.isFinite(Mt)||Mt<=0){le("Unit Price must be a number greater than 0.");return}if(!w.trim()){le("Summary is required.");return}if(!S.trim()){le("Craftsmanship Details are required.");return}if(Ne.length===0&&ce.length===0){le("At least one product image is required.");return}if(!F.trim()||!ne.trim()||!oe.trim()||!Se.trim()){le("Type Label, Draw Weight, Length, and Material are required.");return}if(!E.trim()){le("Draw Weight Options are required (comma-separated).");return}let wn;if(I.trim().length>0&&(wn=Number(I),!Number.isFinite(wn)||wn<0)){le("Stock Level must be a number 0 or greater.");return}J(!0);try{const hn=Ne.length>0?await Promise.all(Ne.map(Bt=>Ai(Bt))):[],dt=hn.length>0?hn:ce,[fn,...Un]=dt.filter(Bt=>Bt.length>0);if(!fn)throw new Error("Failed to process image files.");const Bn=xj({name:c,category:m,price:Mt,summary:w,description:S,badge:C,featured:D,typeLabel:F,drawWeight:ne,length:oe,material:Se,drawWeightOptions:E,image:fn,images:Un,stockLevel:wn});o&&n?await Ej(n.id,Bn):await wj(Bn),e&&e()}catch(hn){le(hn instanceof Error?hn.message:"Failed to save product.")}finally{J(!1)}};return p.jsx("div",{className:Fe,style:De,children:p.jsx("main",{className:vt,children:p.jsxs("div",{className:mt,children:[p.jsx("div",{className:"px-8 py-6 border-b border-[#ede7f3] dark:border-white/10 bg-[#faf8fc] dark:bg-[#251f2b]",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#140d1b] dark:text-white text-3xl font-bold tracking-tight",children:o?"Edit Product":"Add New Product"}),p.jsx("p",{className:"text-[#734c9a] dark:text-[#a08cc0] text-base mt-1 italic",children:o?"Update the details for this handcrafted item.":"Enter the details for the handcrafted bow below."})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"hidden sm:flex size-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add_circle"})}),a&&e?p.jsx("button",{className:"flex items-center justify-center size-10 rounded-full border border-[#ede7f3] dark:border-white/10 text-[#734c9a] dark:text-[#a08cc0] hover:text-primary hover:border-primary/40 hover:bg-primary/10 transition-colors",onClick:e,type:"button",children:p.jsx("span",{className:"material-symbols-outlined",children:"close"})}):null]})]})}),p.jsxs("form",{className:"p-8 flex flex-col h-full",onSubmit:jt,children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[p.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Product Title"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",placeholder:"e.g. The Highland Recurve",onChange:pe=>u(pe.target.value),value:c,type:"text"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Category"})}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary/70 pointer-events-none group-focus-within:text-primary transition-colors",children:p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"category"})}),p.jsxs("select",{className:"w-full h-14 pl-12 pr-10 appearance-none rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#f9f7f4] dark:bg-[#251f2b] text-[#140d1b] dark:text-white focus:bg-white dark:focus:bg-[#2e2535] focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary shadow-tactile focus:shadow-none transition-all font-normal text-lg cursor-pointer",onChange:pe=>y(pe.target.value),value:m,children:[p.jsx("option",{disabled:!0,value:"",children:"Select Category"}),mj.map(pe=>p.jsx("option",{value:pe,children:pe},pe))]}),p.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#734c9a] pointer-events-none",children:p.jsx("span",{className:"material-symbols-outlined",children:"expand_more"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Unit Price"})}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 flex items-center justify-center bg-[#ede7f3] dark:bg-[#352b3e] rounded-l-lg border-y border-l border-[#d1c4e0] dark:border-[#4a3b55] group-focus-within:border-primary group-focus-within:bg-primary/10 transition-colors",children:p.jsx("span",{className:"text-[#734c9a] font-bold text-lg",children:"$"})}),p.jsx("input",{className:"w-full h-14 pl-16 pr-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#f9f7f4] dark:bg-[#251f2b] text-[#140d1b] dark:text-white focus:bg-white dark:focus:bg-[#2e2535] placeholder:text-[#734c9a]/40 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary shadow-tactile focus:shadow-none transition-all font-normal text-lg",min:"0",placeholder:"0.00",onChange:pe=>_(pe.target.value),step:"0.01",type:"number",value:g})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Summary"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>A(pe.target.value),placeholder:"Short description shown on product cards",type:"text",value:w})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("label",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Craftsmanship Details"}),p.jsxs("div",{className:"group/tooltip relative flex items-center justify-center",children:[p.jsx("span",{className:"material-symbols-outlined text-[#734c9a] text-[18px] cursor-help opacity-70 hover:opacity-100 transition-opacity",children:"help"}),p.jsxs("div",{className:"absolute left-1/2 bottom-full mb-2 -translate-x-1/2 w-64 p-3 bg-[#191022] text-white text-sm rounded shadow-lg opacity-0 invisible group-hover/tooltip:opacity-100 group-hover/tooltip:visible transition-all z-10 pointer-events-none",children:[p.jsx("p",{className:"italic leading-relaxed",children:"Include wood type (e.g., Yew, Osage), draw weight range, and historical inspiration for this piece."}),p.jsx("div",{className:"absolute left-1/2 top-full -translate-x-1/2 -mt-1 border-4 border-transparent border-t-[#191022]"})]})]})]}),p.jsx("textarea",{className:"w-full min-h-[200px] p-5 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg resize-y leading-relaxed",onChange:pe=>k(pe.target.value),placeholder:"Describe the materials, draw weight, and historical inspiration...",value:S}),p.jsx("p",{className:"text-sm text-[#734c9a]/80 mt-2 text-right italic",children:"Suggested length: 150-300 words for optimal storytelling."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Type Label"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>K(pe.target.value),placeholder:'e.g. "Traditional Recurve"',type:"text",value:F})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Stock Level"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",min:"0",onChange:pe=>Pe(pe.target.value),placeholder:"0",type:"number",value:I})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Draw Weight"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>$(pe.target.value),placeholder:"e.g. 40 - 55 lbs",type:"text",value:ne})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Length"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>Ae(pe.target.value),placeholder:"e.g. 60 Inches",type:"text",value:oe})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Material"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>Te(pe.target.value),placeholder:"e.g. Maple Core & Fiberglass",type:"text",value:Se})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Draw Weight Options"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>N(pe.target.value),placeholder:"e.g. 40 lbs (Target), 45 lbs (Field), 55 lbs (Hunting)",type:"text",value:E})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Badge"})}),p.jsx("input",{className:"w-full h-14 px-4 rounded-lg border border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#251f2b] text-[#140d1b] dark:text-white placeholder:text-[#734c9a]/40 shadow-tactile focus:shadow-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all font-normal text-lg",onChange:pe=>P(pe.target.value),placeholder:"Optional",type:"text",value:C})]}),p.jsxs("div",{className:"flex flex-col justify-end gap-2",children:[p.jsxs("label",{className:"flex items-center gap-3 text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:[p.jsx("input",{checked:D,className:"h-5 w-5 accent-primary",onChange:pe=>U(pe.target.checked),type:"checkbox"}),"Featured Model"]}),p.jsx("span",{className:"text-sm text-[#734c9a] dark:text-[#a08cc0]",children:"Show in the landing page Featured Models."})]})]})]}),p.jsxs("div",{className:"lg:col-span-1 flex flex-col h-full",children:[p.jsx("label",{className:"block mb-2",children:p.jsx("span",{className:"text-[#140d1b] dark:text-white text-lg font-bold leading-normal",children:"Product Photography"})}),p.jsxs("div",{className:"flex-grow flex flex-col gap-4 rounded-xl border border-[#d1c4e0] dark:border-[#4a3b55] bg-[#faf8fc] dark:bg-[#251f2b] p-4 shadow-sm",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("input",{accept:"image/*",className:"hidden",multiple:!0,onChange:pe=>yn(pe.target.files),ref:xe,type:"file"}),p.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 rounded-xl border-2 border-dashed px-4 py-6 text-center transition-colors cursor-pointer ${Ie?"border-primary bg-primary/10 text-primary":"border-[#d1c4e0] dark:border-[#4a3b55] bg-white dark:bg-[#1f1a24] text-[#734c9a] dark:text-[#a08cc0]"}`,onClick:xn,onDragLeave:()=>Le(!1),onDragOver:pe=>{pe.preventDefault(),Le(!0)},onDrop:Pr,role:"button",tabIndex:0,children:[p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"photo_library"}),p.jsx("div",{className:"text-sm font-semibold",children:"Drag & drop or click to select"}),p.jsx("div",{className:"text-xs opacity-80",children:"Up to 4 images (PNG, JPG, WEBP)"})]}),Ne.length>0?p.jsxs("div",{className:"flex items-center justify-between text-xs text-[#734c9a] dark:text-[#a08cc0]",children:[p.jsxs("span",{children:[Ne.length," image",Ne.length===1?"":"s"," selected"]}),p.jsx("button",{className:"text-[#734c9a] dark:text-[#a08cc0] hover:text-primary transition-colors",onClick:()=>{Q([]),de([])},type:"button",children:"Clear"})]}):ce.length>0?p.jsxs("div",{className:"flex items-center justify-between text-xs text-[#734c9a] dark:text-[#a08cc0]",children:[p.jsxs("span",{children:[ce.length," image",ce.length===1?"":"s"," saved"]}),p.jsx("button",{className:"text-[#734c9a] dark:text-[#a08cc0] hover:text-primary transition-colors",onClick:()=>de([]),type:"button",children:"Clear"})]}):null]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-[#734c9a] dark:text-[#a08cc0] pl-1",children:"Previews"}),Ue.length>0?p.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ue.map(pe=>p.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-[#ede7f3] dark:border-[#4a3b55] bg-white dark:bg-[#1f1a24]",children:p.jsx("img",{alt:"Product preview",className:"w-full h-full object-cover",src:pe})},pe))}):p.jsx("div",{className:"text-sm text-[#734c9a] dark:text-[#a08cc0]",children:"Add images to see previews."})]})]})]})]}),ue?p.jsx("div",{className:"mt-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:ue}):null,p.jsxs("div",{className:"mt-10 pt-6 border-t border-[#ede7f3] dark:border-white/10 flex flex-col-reverse sm:flex-row items-center justify-end gap-4",children:[p.jsx("button",{className:`w-full sm:w-auto px-6 py-3 rounded-lg border-2 border-[#dbcfe7] dark:border-[#4a3b55] text-[#140d1b] dark:text-white font-bold transition-all ${ke?"hover:bg-[#ede7f3] dark:hover:bg-[#352b3e] hover:border-[#bfb3cc]":"opacity-60 cursor-not-allowed"}`,disabled:!ke||M,onClick:gn,type:"button",children:"Discard Changes"}),p.jsxs("button",{className:`w-full sm:w-auto px-8 py-3 rounded-lg bg-primary text-white font-bold shadow-md focus:ring-4 focus:ring-primary/30 transition-all flex items-center justify-center gap-2 ${M?"opacity-80 cursor-not-allowed":"hover:bg-primary-dark hover:shadow-lg hover:-translate-y-0.5"}`,disabled:M,type:"submit",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),M?"Saving...":o?"Update Product":"Save Product"]})]})]})]})})})}const Kp="black-eagle-admin-auth",$T=typeof window<"u",Oj=()=>$T?window.sessionStorage.getItem(Kp)==="1":!1,Ps=r=>{if($T){if(r){window.sessionStorage.setItem(Kp,"1");return}window.sessionStorage.removeItem(Kp)}};function jj(){const[r,e]=V.useState(!1),n=Yc(),[a,o]=V.useState(()=>Oj()),[c,u]=V.useState(""),[m,y]=V.useState(""),[g,_]=V.useState(null),[w,A]=V.useState(!1),{products:S}=Qh(),[k,F]=V.useState(""),[K,ne]=V.useState("All Products"),[$,oe]=V.useState(1),[Ae,Se]=V.useState(null),[Te,E]=V.useState(null),[N,C]=V.useState(!1),[P,D]=V.useState(!1),[U,I]=V.useState(null),Pe=10,Ne={"--color-primary":"#840bda","--color-background-light":"#FAF9F6","--color-background-dark":"#1b1022","--color-rustic-dark":"#1e1b18","--color-chocolate":"#4E342E","--color-slate-custom":"#475569","--color-parchment":"#fdfbf7","--font-display":"Inter, sans-serif"};V.useEffect(()=>{a||Ps(!1)},[a]);const Q=()=>{Ps(!1),o(!1),e(!1),Se(null),u(""),y(""),_(null),hp(),n("/")},ce=()=>{Se(null),e(!0)},de=ke=>{Se(ke),e(!0)},Ie=()=>{e(!1),Se(null)},Le=ke=>{E(ke),I(null),C(!0)},M=()=>{P||(C(!1),E(null),I(null))},J=async()=>{if(!(!Te||P)){D(!0),I(null);try{await Tj(Te.id),C(!1),E(null)}catch(ke){I(ke instanceof Error?ke.message:"Failed to delete product.")}finally{D(!1)}}},ue=async ke=>{ke.preventDefault(),_(null);const Gt=c.trim().toLowerCase();if(!pj()){Ps(!1),o(!1),_("Firebase is not configured. Check VITE_FIREBASE_* env vars.");return}try{A(!0),await yj(Gt,m);const Ue=await vj();if(!Ue){await hp(),Ps(!1),o(!1),_("Admin email is missing for this store.");return}if(Gt!==Ue){await hp(),Ps(!1),o(!1),_("Invalid admin credentials.");return}}catch(Ue){Ps(!1),o(!1),_(Ue instanceof Error?Ue.message:"Firebase sign-in failed.");return}finally{A(!1)}Ps(!0),o(!0),u(""),y("")},le=V.useMemo(()=>{const ke=k.trim().toLowerCase(),Gt=K==="All Products"?S:S.filter(Ue=>Ue.category===K);return ke?Gt.filter(Ue=>`${Ue.name} ${Ue.id} ${Ue.category}`.toLowerCase().includes(ke)):Gt},[K,S,k]),xe=Math.max(1,Math.ceil(le.length/Pe)),De=Math.min(Math.max(1,$),xe),Fe=(De-1)*Pe,vt=Math.min(Fe+Pe,le.length),mt=le.slice(Fe,vt);return a?p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased overflow-hidden",style:Ne,children:p.jsxs("div",{className:"flex h-screen w-full",children:[p.jsxs("aside",{className:"w-64 flex-shrink-0 flex flex-col justify-between bg-rustic-dark border-r border-stone-800/50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"h-20 flex items-center px-6 border-b border-white/10",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded bg-primary flex items-center justify-center text-white",children:p.jsx("span",{className:"material-symbols-outlined",children:"api"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-white text-base font-bold leading-tight tracking-wide",children:"Heritage Bows"}),p.jsx("p",{className:"text-stone-400 text-xs font-normal",children:"Admin Panel"})]})]})}),p.jsx("nav",{className:"flex flex-col gap-1 p-4",children:p.jsxs("a",{className:"flex items-center gap-3 px-3 py-3 rounded-lg bg-primary/20 text-white border border-primary/30 shadow-sm relative overflow-hidden group",href:"#",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-primary rounded-r"}),p.jsx("span",{className:"material-symbols-outlined text-primary fill-current",children:"inventory_2"}),p.jsx("span",{className:"text-sm font-medium",children:"Inventory"})]})})]}),p.jsx("div",{className:"p-4 border-t border-white/10",children:p.jsxs("a",{className:"flex items-center gap-3 px-3 py-3 rounded-lg text-stone-300 hover:bg-white/5 hover:text-white transition-colors",href:"#",children:[p.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full w-8 h-8 border border-stone-600","data-alt":"Admin user profile picture",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC085wp4yXiKK0HqJEirxFHDturdw66BxPlWcRDyolaQ-dLs6WwBUcj45tZlS4q4U9Syd5luYybaIaL-7piPm3YWecgyVn0gc9HXuJkXCrRYmwQersNoqvCWtwxsg-GwqPh903N55FPL_ZiMEgFWHZ3DmqgqJ2o7ZlkjPCpls2uyZ4X4vHq4y8bI-ag752sRcPnGagNJtoVsekZk9HF4dd9oHFad-6Ly2J_33B-KS3BrU40Jg2tCeHT4F8Tl5OO0jhyB9Yg09lTZb0")'}}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:"Eleanor Woods"}),p.jsx("p",{className:"text-xs text-stone-500 truncate",children:"Store Manager"})]}),p.jsx("span",{className:"material-symbols-outlined text-stone-500 text-[20px]",children:"settings"})]})})]}),p.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[p.jsxs("header",{className:"flex-shrink-0 px-8 py-8 flex flex-wrap justify-between items-end gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-slate-900 dark:text-white text-3xl font-bold tracking-tight",children:"Product Management"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm max-w-xl",children:"Manage your handcrafted inventory, track stock levels, and organize product listings."})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:()=>n("/"),children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Back to Website"})]}),p.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:Q,type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Log out"})]}),p.jsxs("button",{className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg shadow-lg shadow-primary/20 transition-all active:scale-95",onClick:ce,children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),p.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Add New Product"})]})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-8 pb-8",children:p.jsxs("div",{className:"w-full max-w-[1400px] flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800 p-2 rounded-xl shadow-sm border border-stone-200 dark:border-slate-700",children:[p.jsxs("div",{className:"relative w-full md:w-96 group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("span",{className:"material-symbols-outlined text-stone-400 group-focus-within:text-primary",children:"search"})}),p.jsx("input",{className:"block w-full pl-10 pr-3 py-2.5 border-none bg-stone-50 dark:bg-slate-900 rounded-lg text-sm text-slate-900 dark:text-white placeholder-stone-400 focus:ring-2 focus:ring-primary/50 transition-shadow",onChange:ke=>{F(ke.target.value),oe(1)},placeholder:"Search by name, ID, or category...",type:"text",value:k})]}),p.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 px-2 no-scrollbar",children:["All Products","Recurve Bows","Longbows","Strings","Accessories"].map(ke=>{const Gt=ke===K;return p.jsx("button",{className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs shadow-sm transition-colors ${Gt?"bg-slate-800 text-white font-semibold":"bg-stone-100 dark:bg-slate-700 text-stone-600 dark:text-slate-300 hover:bg-stone-200 dark:hover:bg-slate-600 font-medium"}`,onClick:()=>{ne(ke),oe(1)},type:"button",children:ke},ke)})})]}),p.jsxs("div",{className:"bg-parchment dark:bg-slate-800 rounded-xl shadow-md border border-stone-200 dark:border-slate-700 overflow-hidden relative",children:[p.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-stone-300 via-stone-100 to-stone-300 dark:from-slate-600 dark:via-slate-700 dark:to-slate-600 opacity-50"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-stone-100/50 dark:bg-slate-900/50 border-b border-stone-200 dark:border-slate-600 text-xs uppercase tracking-wider text-stone-500 dark:text-slate-400 font-semibold",children:[p.jsx("th",{className:"px-6 py-4 w-20",children:"Image"}),p.jsx("th",{className:"px-6 py-4",children:"Product Name"}),p.jsx("th",{className:"px-6 py-4",children:"Category"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Price"}),p.jsx("th",{className:"px-6 py-4",children:"Stock Level"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-stone-200 dark:divide-slate-700",children:mt.length>0?mt.map(ke=>{const Gt=ke.category==="Strings"?"bg-slate-100 text-slate-800 border-slate-200":ke.category==="Accessories"?"bg-stone-100 text-stone-700 border-stone-200":"bg-amber-100 text-amber-800 border-amber-200",Ue=typeof ke.stockLevel=="number"?ke.stockLevel:null,gn=Ue===null?0:Math.min(100,Math.round(Ue/50*100)),yn=Ue===null?"bg-stone-300":Ue<=5?"bg-red-500":Ue<=15?"bg-orange-400":"bg-green-600",Pr=Ue===null?"text-stone-500 dark:text-slate-300":Ue<=5?"text-red-600":Ue<=15?"text-orange-600":"text-stone-600 dark:text-slate-300";return p.jsxs("tr",{className:"hover:bg-white dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"h-12 w-12 rounded-lg bg-stone-200 dark:bg-slate-600 bg-cover bg-center shadow-sm","data-alt":ke.name,style:{backgroundImage:`url('${ke.image}')`}})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ke.name}),p.jsxs("span",{className:"text-xs text-stone-500 dark:text-slate-400",children:["ID: ",ke.id]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Gt}`,children:ke.category})}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:["$",ke.price.toFixed(2)]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-16 h-1.5 bg-stone-200 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full ${yn}`,style:{width:`${gn}%`}})}),p.jsx("span",{className:`text-xs font-medium ${Pr}`,children:Ue===null?"":`${Ue} Units`})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-80 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{className:"flex items-center justify-center h-8 px-3 rounded bg-chocolate hover:bg-[#3E2723] text-white text-xs font-medium transition-colors shadow-sm",onClick:()=>de(ke),type:"button",children:"Edit"}),p.jsx("button",{className:"flex items-center justify-center h-8 px-3 rounded bg-slate-custom hover:bg-slate-600 text-white text-xs font-medium transition-colors shadow-sm",onClick:()=>Le(ke),type:"button",children:"Delete"})]})})]},ke.id)}):p.jsx("tr",{children:p.jsx("td",{className:"px-6 py-10 text-center text-sm text-stone-500 dark:text-slate-400",colSpan:6,children:"No products found."})})})]})}),p.jsxs("div",{className:"px-6 py-4 border-t border-stone-200 dark:border-slate-700 flex items-center justify-between bg-stone-50/50 dark:bg-slate-900/50",children:[p.jsxs("p",{className:"text-xs text-stone-500 dark:text-slate-400",children:["Showing"," ",p.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[le.length===0?0:Fe+1,"-",vt]})," ","of ",p.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:le.length})," ","products"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{className:"px-3 py-1 text-xs font-medium text-stone-600 bg-white border border-stone-300 rounded hover:bg-stone-50 disabled:opacity-50 shadow-sm",disabled:De<=1,onClick:()=>oe(ke=>Math.max(1,ke-1)),type:"button",children:"Previous"}),p.jsx("button",{className:"px-3 py-1 text-xs font-medium text-stone-600 bg-white border border-stone-300 rounded hover:bg-stone-50 disabled:opacity-50 shadow-sm",disabled:De>=xe,onClick:()=>oe(ke=>Math.min(xe,ke+1)),type:"button",children:"Next"})]})]})]})]})}),r?p.jsx("div",{className:"absolute inset-0 z-50 flex items-start justify-center bg-black/60 backdrop-blur-sm p-6 overflow-y-auto",onClick:Ie,children:p.jsx("div",{className:"w-full max-w-6xl",onClick:ke=>{ke.stopPropagation()},children:p.jsx(Dj,{initialProduct:Ae,onClose:Ie,variant:"modal"})})}):null,N&&Te?p.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-6",onClick:M,children:p.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 shadow-2xl p-6",onClick:ke=>{ke.stopPropagation()},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"size-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined",children:"delete"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Delete Product"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This action cannot be undone."})]})]}),p.jsxs("div",{className:"rounded-lg border border-stone-200 dark:border-slate-700 bg-stone-50 dark:bg-slate-800 p-3 text-sm text-slate-700 dark:text-slate-200",children:["Are you sure you want to delete ",p.jsx("span",{className:"font-semibold",children:Te.name}),"?"]}),U?p.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:U}):null,p.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[p.jsx("button",{className:"px-4 py-2 rounded-lg border border-stone-300 dark:border-slate-600 text-stone-700 dark:text-slate-200 hover:bg-stone-50 dark:hover:bg-slate-800 transition-colors",disabled:P,onClick:M,type:"button",children:"Cancel"}),p.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-70",disabled:P,onClick:J,type:"button",children:P?"Deleting...":"Delete"})]})]})}):null]})]})}):p.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased",style:Ne,children:p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-6",children:p.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 rounded-2xl shadow-xl p-8",children:[p.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Admin Login"}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Sign in to access the admin panel."})]}),p.jsxs("form",{className:"flex flex-col gap-4",onSubmit:ue,children:[p.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Email",p.jsx("input",{className:"w-full rounded-lg border border-stone-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/50 outline-none",autoComplete:"username",inputMode:"email",onChange:ke=>u(ke.target.value),placeholder:"Enter admin email",required:!0,type:"email",value:c})]}),p.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Password",p.jsx("input",{className:"w-full rounded-lg border border-stone-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/50 outline-none",autoComplete:"current-password",onChange:ke=>y(ke.target.value),placeholder:"Enter admin password",required:!0,type:"password",value:m})]}),g?p.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:g}):null,p.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg shadow-lg shadow-primary/20 transition-all active:scale-[0.99] disabled:opacity-60 disabled:cursor-not-allowed",disabled:w,type:"submit",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"}),p.jsx("span",{className:"text-sm font-bold tracking-wide",children:w?"Loading Store Access...":"Sign In"})]}),p.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-5 py-3 rounded-lg border border-stone-300 dark:border-slate-700 text-stone-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-stone-50 dark:hover:bg-slate-700 shadow-sm transition-colors",onClick:()=>n("/"),type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back"}),p.jsx("span",{className:"text-sm font-semibold tracking-wide",children:"Back to Website"})]})]})]})})})}function Mj(){const{productId:r}=uR(),{product:e,loading:n}=Sj(r);return n&&!e?p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",children:p.jsx("div",{className:"layout-container flex justify-center w-full py-24",children:p.jsx("div",{className:"layout-content-container w-full max-w-[1280px] px-4 md:px-10",children:p.jsx("div",{className:"text-[#734c9a] text-lg font-medium",children:"Loading product"})})})}):e?p.jsx(Pj,{product:e},e.id):p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",children:p.jsx("div",{className:"layout-container flex justify-center w-full py-24",children:p.jsxs("div",{className:"layout-content-container w-full max-w-[1280px] px-4 md:px-10",children:[p.jsx("div",{className:"text-[#734c9a] text-lg font-medium",children:"Product not found."}),p.jsx(ut,{className:"mt-4 inline-flex text-[#734c9a] text-sm font-medium hover:underline",to:"/products",children:"Back to products"})]})})})}function Pj({product:r}){const e=Yc(),n=r.images.length>0?r.images:[r.image],[a,o]=V.useState(0),[c,u]=V.useState(1),[m,y]=V.useState(()=>r.drawWeightOptions[0]??"Standard"),g={"--color-primary":"#7311d4","--color-background-light":"#f7f6f8","--color-background-dark":"#191022","--color-parchment":"#fdfbf7","--color-chocolate":"#4a3b32","--color-rope":"#d4c5b0","--font-display":"Newsreader, serif","--font-serif":"Newsreader, serif"};return p.jsx("div",{className:"bg-background-light dark:bg-background-dark text-[#140d1b] dark:text-white font-display",style:g,children:p.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden",children:[p.jsx("div",{className:"layout-container flex justify-center w-full bg-[#faf8fc]",children:p.jsx("div",{className:"layout-content-container flex flex-col w-full max-w-[1280px] px-4 md:px-10",children:p.jsxs("div",{className:"flex flex-wrap gap-2 py-4 items-center",children:[p.jsx(ut,{className:"text-[#734c9a] text-sm font-medium leading-normal hover:underline",to:"/",children:"Home"}),p.jsx("span",{className:"text-[#734c9a] text-sm font-medium leading-normal",children:"/"}),p.jsx(ut,{className:"text-[#734c9a] text-sm font-medium leading-normal hover:underline",to:"/products",children:"Handcrafted Bows"}),p.jsx("span",{className:"text-[#734c9a] text-sm font-medium leading-normal",children:"/"}),p.jsx("span",{className:"text-[#140d1b] text-sm font-medium leading-normal",children:r.name})]})})}),p.jsx("div",{className:"layout-container flex grow justify-center w-full py-6 md:py-10 bg-[#faf8fc]",children:p.jsxs("div",{className:"layout-content-container flex flex-col lg:flex-row gap-10 w-full max-w-[1280px] px-4 md:px-10",children:[p.jsxs("div",{className:"flex flex-col w-full lg:w-3/5 gap-4",children:[p.jsx("div",{className:"w-full aspect-[4/3] rounded-xl overflow-hidden shadow-sm border border-[#ede7f3]",children:p.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover transform hover:scale-105 transition-transform duration-700","data-alt":r.name,style:{backgroundImage:`url("${n[a]??r.image}")`}})}),p.jsx("div",{className:"grid grid-cols-4 gap-3",children:n.slice(0,4).map((_,w)=>{const A=w===a;return p.jsx("button",{className:`aspect-square rounded-lg overflow-hidden cursor-pointer transition-opacity ${A?"border-2 border-primary":"opacity-70 hover:opacity-100"}`,onClick:()=>o(w),type:"button",children:p.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover","data-alt":r.name,style:{backgroundImage:`url("${_}")`}})},`${_}-${w}`)})})]}),p.jsx("div",{className:"flex flex-col w-full lg:w-2/5",children:p.jsxs("div",{className:"bg-parchment p-8 rounded-lg border border-[#e3dac9] shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none mix-blend-multiply",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuDseb7quKIzgjsa8wlBUS6SS83kOIu-jjrBXK5e_B4XaqkZW194-bIuwXeCgPZPLWWkbfr7D-eYzgZYDP_9Hz0Xyh2T-fqXTMJ0MZoUgA08GpsC6QfaamhWoALcgONj8_9DYJYgWytlvCmAIrH_z3PcHdY87T4ZcvpDwuNgonO3LYY5ZxKX4hIKp50csklQejyGnJFW8rr-22I50hinT4aoDH0kkG7-5tZh5vKABdPYiElHyT2sXe9vOal2yQosfcRs1Pwwc3G-_40')"}}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-bold tracking-widest uppercase text-chocolate/60",children:r.typeLabel}),p.jsxs("div",{className:"flex gap-1 text-yellow-600",children:[p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star"}),p.jsx("span",{className:"material-symbols-outlined text-[18px] fill-current",children:"star_half"})]})]}),p.jsx("h1",{className:"text-[#140d1b] tracking-tight text-4xl font-bold leading-tight mb-4 font-serif text-chocolate",children:r.name}),p.jsxs("p",{className:"text-3xl font-medium text-chocolate mb-6",children:["$",r.price.toFixed(2)]}),p.jsx("div",{className:"rope-divider w-full mb-6"}),p.jsx("p",{className:"text-[#4a3b32] text-lg leading-relaxed mb-8 font-normal",children:r.description}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9]",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Draw Weight"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.drawWeight})]}),p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9]",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Length"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.length})]}),p.jsxs("div",{className:"bg-[#f5f1e8] p-4 rounded border border-[#e3dac9] col-span-2",children:[p.jsx("span",{className:"block text-xs font-bold text-chocolate/60 uppercase tracking-wider mb-1",children:"Material"}),p.jsx("span",{className:"text-lg font-semibold text-chocolate",children:r.material})]})]}),p.jsxs("div",{className:"flex flex-col gap-4 mt-auto",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"w-1/3",children:[p.jsx("label",{className:"block text-xs font-bold text-chocolate/60 uppercase mb-2",children:"Quantity"}),p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("button",{className:"absolute left-0 w-8 h-full text-chocolate hover:bg-black/5 rounded-l",onClick:()=>u(_=>Math.max(1,_-1)),type:"button",children:"-"}),p.jsx("input",{className:"w-full text-center border-[#e3dac9] bg-[#f5f1e8] text-chocolate focus:ring-primary focus:border-primary rounded py-2",readOnly:!0,type:"text",value:c}),p.jsx("button",{className:"absolute right-0 w-8 h-full text-chocolate hover:bg-black/5 rounded-r",onClick:()=>u(_=>_+1),type:"button",children:"+"})]})]}),p.jsxs("div",{className:"w-2/3",children:[p.jsx("label",{className:"block text-xs font-bold text-chocolate/60 uppercase mb-2",children:"Draw Weight Option"}),p.jsx("select",{className:"w-full border-[#e3dac9] bg-[#f5f1e8] text-chocolate focus:ring-primary focus:border-primary rounded py-2",onChange:_=>y(_.target.value),value:m,children:r.drawWeightOptions.map(_=>p.jsx("option",{children:_},_))})]})]}),p.jsxs("button",{className:"mt-4 flex w-full cursor-pointer items-center justify-center rounded-lg h-14 bg-primary hover:bg-[#600eb3] text-white gap-3 text-lg font-bold leading-normal tracking-wide shadow-md transition-all transform hover:-translate-y-0.5",onClick:()=>{lg({productId:r.id,quantity:c,option:m,note:r.summary}),e("/cart")},type:"button",children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),"Add to Quiver"]}),p.jsx("p",{className:"text-xs text-center text-chocolate/50 mt-2 italic",children:"Crafted to order. Expect 3-4 weeks for delivery."})]})]})]})})]})}),p.jsx("div",{className:"layout-container flex justify-center w-full py-16 bg-[#faf8fc]",children:p.jsx("div",{className:"layout-content-container max-w-[960px] px-4 md:px-10",children:p.jsxs("div",{className:"relative border-t border-b border-[#e3dac9] py-12",children:[p.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#faf8fc] px-4",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-rope",children:"history_edu"})}),p.jsx("h3",{className:"text-3xl font-bold text-center text-chocolate mb-10 font-serif",children:"Craftsman's Notes"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 text-[#4a3b32] text-lg leading-relaxed font-serif",children:[p.jsx("div",{className:"drop-cap",children:"The design of this longbow is steeped in the martial traditions of the 14th century. While modern materials have their place, there is a soul in Yew wood that fiberglass cannot replicate. We source our timber from high-altitude groves where the slow growth creates tight, dense grain ringsessential for the snap and power of a true self-bow."}),p.jsxs("div",{children:[p.jsx("p",{className:"mb-4",children:"Every bow is worked by hand, following the natural grain of the stave rather than forcing a shape upon it. This ensures that the weapon is not only beautiful but durable. The horn nocks are hand-carved from water buffalo horn, polished to a glass-like finish to protect the string loops from abrasion."}),p.jsx("p",{className:"italic text-primary/80",children:'"A bow is life in tension."  Master Bowyer, Elden Thorne'})]})]})]})})})]})})}function Vj(){const r=ww(),{products:e}=Qh(),n=V.useMemo(()=>new Map(e.map(S=>[S.id,S])),[e]),a=V.useMemo(()=>r.map(S=>{const k=n.get(S.productId),F=k?.name??"Unavailable item",K=k?.image??"",ne=k?.price??0,$=S.option??"",oe=S.note??"",Ae=$||oe||k?.summary||"";return{key:`${S.productId}-${S.option??""}`,item:S,product:k,title:F,image:K,price:ne,detail:Ae,total:ne*S.quantity}}),[r,n]),o=V.useMemo(()=>{const S=new Set(r.map(k=>k.productId));return e.filter(k=>!S.has(k.id)).slice(0,3)},[r,e]),c=V.useMemo(()=>a.reduce((S,k)=>S+k.total,0),[a]),u=c,[m,y]=V.useState(!1),[g,_]=V.useState(null),w={"--color-primary":"#7311d4","--color-background-light":"#f7f6f8","--color-background-dark":"#191022","--color-sand":"#F5F1E8","--color-parchment":"#FAF7F0","--color-text-dark":"#140d1b","--color-text-light":"#e0dce8","--font-display":"Newsreader, serif","--font-serif":"Newsreader, serif"},A=async()=>{if(!m){if(_(null),a.length===0){_("Your quiver is empty.");return}y(!0);try{const S=a.filter(F=>!!F.product).map(F=>({name:F.title,price:F.price,quantity:F.item.quantity,imageUrl:F.image})),k=await bj(S,{successUrl:`${window.location.origin}/cart?checkout=success`,cancelUrl:`${window.location.origin}/cart?checkout=cancel`});window.location.assign(k)}catch(S){_(S instanceof Error?S.message:"Unable to start checkout."),y(!1)}}};return p.jsx("div",{className:"cart-page bg-background-light dark:bg-background-dark font-display text-text-dark dark:text-text-light antialiased transition-colors duration-300",style:w,children:p.jsx("div",{className:"relative flex min-h-screen flex-col",children:p.jsx("main",{className:"flex-1 px-4 py-8 md:px-8 lg:px-12 xl:px-40",children:p.jsxs("div",{className:"mx-auto w-full max-w-7xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-black italic tracking-tight text-text-dark dark:text-white sm:text-5xl",children:"Your Quiver"}),p.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"Review your handcrafted selections."})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-12 lg:grid-cols-12",children:[p.jsxs("div",{className:"flex flex-col gap-8 lg:col-span-8",children:[p.jsxs("div",{className:"hidden border-b border-gray-200 pb-2 text-sm font-medium uppercase tracking-wide text-gray-500 dark:border-gray-700 dark:text-gray-400 sm:flex",children:[p.jsx("span",{className:"flex-1",children:"Product"}),p.jsx("span",{className:"w-32 text-center",children:"Quantity"}),p.jsx("span",{className:"w-24 text-right",children:"Total"})]}),a.length===0?p.jsxs("div",{className:"rounded-2xl border border-dashed border-[#d8cde4] bg-white p-10 text-center text-lg text-gray-500 dark:border-[#3a2a45] dark:bg-[#251b30] dark:text-gray-300",children:[p.jsx("p",{children:"Your quiver is empty."}),p.jsx(ut,{className:"mt-4 inline-flex text-primary font-bold hover:underline",to:"/products",children:"Browse products"})]}):a.map((S,k)=>p.jsxs("div",{children:[p.jsxs("div",{className:"group relative flex flex-col gap-6 rounded-2xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md dark:bg-[#251b30] sm:flex-row sm:items-center",children:[p.jsx("div",{className:"relative aspect-square size-24 shrink-0 overflow-hidden rounded-xl bg-[#f5f5f5] dark:bg-[#322840]",children:S.image?p.jsx("img",{alt:S.title,className:"h-full w-full object-cover mix-blend-multiply dark:mix-blend-normal","data-alt":S.title,src:S.image}):p.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-gray-400",children:"No image"})}),p.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[p.jsxs("div",{className:"flex items-start justify-between sm:block",children:[p.jsx("h3",{className:"text-xl font-bold text-text-dark dark:text-white",children:S.title}),p.jsxs("p",{className:"block text-lg font-bold text-primary sm:hidden",children:["$",S.price.toFixed(2)]})]}),S.detail?p.jsx("p",{className:"text-sm italic text-gray-500 dark:text-gray-400",children:S.detail}):null,p.jsxs("button",{className:"mt-2 flex w-fit items-center gap-1 text-xs font-medium text-gray-400 transition-colors hover:text-red-500 hover:underline",onClick:()=>bN(S.item.productId,S.item.option),type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"delete"}),"Return to Shelf"]})]}),p.jsxs("div",{className:"flex items-center justify-between sm:gap-6",children:[p.jsxs("div",{className:"flex items-center rounded-full bg-[#f7f6f8] p-1 dark:bg-[#191022] dark:border dark:border-gray-700",children:[p.jsx("button",{className:"flex size-8 items-center justify-center rounded-full text-gray-500 hover:bg-white hover:text-primary hover:shadow-sm dark:hover:bg-gray-800 dark:hover:text-primary transition-all active:scale-95",onClick:()=>u_(S.item.productId,S.item.option,S.item.quantity-1),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),p.jsx("span",{className:"w-8 text-center text-base font-medium text-text-dark dark:text-white",children:S.item.quantity}),p.jsx("button",{className:"flex size-8 items-center justify-center rounded-full text-gray-500 hover:bg-white hover:text-primary hover:shadow-sm dark:hover:bg-gray-800 dark:hover:text-primary transition-all active:scale-95",onClick:()=>u_(S.item.productId,S.item.option,S.item.quantity+1),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),p.jsxs("p",{className:"hidden text-right text-lg font-bold text-text-dark dark:text-white sm:block w-24",children:["$",S.total.toFixed(2)]})]})]}),k<a.length-1?p.jsx("div",{className:"bowstring-divider w-full"}):null]},S.key)),o.length>0?p.jsxs("div",{className:"mt-12 rounded-xl border border-[#ede7f3] bg-[#fdfbf7] p-8 dark:border-gray-700 dark:bg-[#1f1629]",children:[p.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[p.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_fix"}),p.jsx("h3",{className:"text-xl font-bold text-text-dark dark:text-white",children:"Essentials for your Quiver"})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:o.map(S=>p.jsxs("div",{className:"group flex flex-col rounded-lg bg-white p-3 shadow-sm transition-all hover:shadow-md dark:bg-[#2d2438]",children:[p.jsxs("div",{className:"relative mb-3 aspect-[4/3] w-full overflow-hidden rounded-md bg-gray-100",children:[p.jsx("img",{className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110","data-alt":S.name,src:S.image}),p.jsx("button",{className:"absolute bottom-2 right-2 flex size-8 items-center justify-center rounded-full bg-white text-primary shadow-sm hover:bg-primary hover:text-white dark:bg-[#191022]",onClick:()=>lg({productId:S.id,quantity:1,option:S.drawWeightOptions[0]??"Standard",note:S.summary}),type:"button",children:p.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),p.jsx("h4",{className:"text-sm font-bold text-text-dark dark:text-white",children:S.name}),p.jsxs("p",{className:"text-xs text-primary",children:["$",S.price.toFixed(2)]})]},S.id))})]}):null]}),p.jsx("div",{className:"lg:col-span-4",children:p.jsxs("div",{className:"sticky top-28 rounded-xl bg-parchment p-6 shadow-sm ring-1 ring-black/5 dark:bg-[#251b30] dark:ring-white/10 dark:shadow-2xl",children:[p.jsxs("div",{className:"mb-6 flex items-center justify-between border-b border-gray-300 pb-4 dark:border-gray-600",children:[p.jsx("h2",{className:"text-2xl font-bold text-text-dark dark:text-white",children:"Order Summary"}),p.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"receipt_long"})]}),p.jsxs("div",{className:"mb-6 flex flex-col gap-4 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Subtotal"}),p.jsxs("span",{className:"font-bold text-text-dark dark:text-white",children:["$",c.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Shipping Estimate"}),p.jsx("span",{className:"italic text-gray-400",children:"Calculated at next step"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Tax"}),p.jsx("span",{className:"font-bold text-text-dark dark:text-white",children:"$0.00"})]})]}),p.jsx("div",{className:"mb-6 border-t border-dashed border-gray-400 pt-4 dark:border-gray-500",children:p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsx("span",{className:"text-base font-bold text-text-dark dark:text-white",children:"Total"}),p.jsxs("span",{className:"text-3xl font-black text-primary",children:["$",u.toFixed(2)]})]})}),p.jsxs("button",{className:"group relative w-full overflow-hidden rounded-lg bg-primary py-4 text-white shadow-lg transition-transform active:scale-[0.99] disabled:opacity-60 disabled:cursor-not-allowed",disabled:a.length===0||m,onClick:A,type:"button",children:[p.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 text-lg font-bold tracking-wide",children:[m?"Starting Checkout...":"Proceed to Checkout",p.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}),p.jsx("div",{className:"absolute inset-0 bg-black/10 transition-opacity opacity-0 group-hover:opacity-100"})]}),g?p.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:g}):null,p.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[p.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"lock"}),"Secure Checkout by Black Eagle"]})]})})]})]})})})})}const Lj=rN([{path:"/",element:p.jsx(xN,{}),children:[{index:!0,element:p.jsx(Rj,{})},{path:"products",element:p.jsx(Cj,{})},{path:"about",element:p.jsx(Ij,{})},{path:"contact",element:p.jsx(kj,{})},{path:"admin",element:p.jsx(jj,{})},{path:"product-details/:productId",element:p.jsx(Mj,{})},{path:"cart",element:p.jsx(Vj,{})}]}]);F1.createRoot(document.getElementById("root")).render(p.jsx(V.StrictMode,{children:p.jsx(gN,{router:Lj})}));
